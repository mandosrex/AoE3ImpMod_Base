<?xml version = "1.0"?>
<trigger version="2">

<!--

Advanced Triggers Set for AOE3
by pftq


Please refer to the readme included with the download for detailed help on how to properly use these effects.

ABOUT THIS FILE:
  Several request that there be an area selection for the effects in the main pack that require a center unit selection.  These effects are optional and do not add anything new.  They are entirely just for added convenience.  Feel free to discard if you do not require a center area selection IN ADDITION to the center unit selections.

www.pftq.com
a pftq production!
February 5 2007

-->

<Conditions>

</Conditions>

<Effects>
	
	<Effect name="Change Name in Area (Point)">
		<Param name="Object" dispName="Center Point" varType="area">0,0,0</Param>
		<Param name="Dst" dispName="Radius" varType="string">10.0</Param>
		<Param name="UnitId" dispName="Unit Type ID (Optional)" varType="string">-1</Param>
		<Param name="FromPlayer" dispName="From Player or 99 for ALL" varType="string">99</Param>
		<Param name="Namer" dispName="Change Display Name" varType="string">Insert Name Here</Param>
		<Command>trQuestVarSet("convarea", 0);</Command>
		<Command>trQuestVarSet("ffweho",0);</Command>
		<Command>if(%FromPlayer%!=99) trQuestVarSet("vroom", %FromPlayer%);</Command>
		<Command>trQuestVarSet("warthog", 0);</Command>
		<Command>trQuestVarSet("zeep", 0);</Command>
		<Command>if(%UnitId%>=0) {</Command>
		<Command>trQuestVarSet("zeep", %UnitId%);</Command>
		<Command>}</Command>
		<Command>if(0>%UnitId%) {</Command>
		<Command>while(kbGetUnitTypeName(trQuestVarGet("zeep"))!="All") {</Command>
		<Command>trQuestVarSet("zeep", trQuestVarGet("zeep")+1);</Command>
		<Command>}}</Command>
		<Command>trQuestVarSet("lastpl", xsGetContextPlayer());</Command>
		<Command>xsSetContextPlayer(0);</Command>
		<Command>kbLookAtAllUnitsOnMap();</Command>
		<Command>if(%FromPlayer%!=99) trQuestVarSet("blarg",%FromPlayer%);</Command>
		<Command>if(%FromPlayer%==99) {</Command>
		<Command>trQuestVarSet("blarg",0);</Command>
		<Command>trQuestVarSet("vroom",12);</Command>
		<Command>}</Command>
		<Command>trQuestVarSet("i",trQuestVarGet("blarg"));</Command>
		<Command>while(trQuestVarGet("vroom")>=trQuestVarGet("i")) {</Command>
		<Command>trQuestVarSet("convarea", kbUnitQueryCreate("convarea"));</Command>
		<Command>kbUnitQuerySetPlayerID(trQuestVarGet("convarea"), trQuestVarGet("i"));</Command>
		<Command>kbUnitQuerySetUnitType(trQuestVarGet("convarea"), trQuestVarGet("zeep"));</Command>
		<Command>kbUnitQuerySetPosition(trQuestVarGet("convarea"), vector(%Object%));</Command>
		<Command>kbUnitQuerySetMaximumDistance(trQuestVarGet("convarea"), %Dst%);</Command>
		<Command>kbUnitQuerySetAscendingSort(trQuestVarGet("convarea"), true);</Command>
		<Command>kbUnitQueryResetResults(trQuestVarGet("convarea"));</Command>
		<Command>trQuestVarSet("warthog", kbUnitQueryExecute(trQuestVarGet("convarea")));</Command>
		<Command>while(trQuestVarGet("warthog")>0) {</Command>
		<Command>trQuestVarSet("warthog", trQuestVarGet("warthog")-1);</Command>
		<Command>trQuestVarSet("ffweho", kbUnitQueryGetResult(trQuestVarGet("convarea"), trQuestVarGet("warthog")));</Command>
		<Command>trUnitSelectClear();</Command>
		<Command>trUnitSelectByID(trQuestVarGet("ffweho"));</Command>
		<Command>trUnitChangeName("%Namer%");</Command>
		<Command>}</Command>
		<Command>trQuestVarSet("i", trQuestVarGet("i")+1);}</Command>
		<Command>xsSetContextPlayer(trQuestVarGet("lastpl"));</Command>
	</Effect>
	
	<Effect name="Convert/Change Units in Area (Point)">
		<Param name="Object" dispName="Center Point" varType="area">0,0,0</Param>
		<Param name="Dst" dispName="Radius" varType="string">10.0</Param>
		<Param name="UnitId" dispName="Unit Type ID (Optional)" varType="string">-1</Param>
		<Param name="FromPlayer" dispName="From Player or 99 for ALL" varType="string">99</Param>
		<Param name="ToPlayer" dispName="To Player" varType="string">0</Param>
		<Param name="ChangeUnit" dispName="Change Protounit Type" varType="string">Do Not</Param>
		<Command>trQuestVarSet("convarea", 0);</Command>
		<Command>trQuestVarSet("ffweho",0);</Command>
		<Command>if(%FromPlayer%!=99) trQuestVarSet("vroom", %FromPlayer%);</Command>
		<Command>trQuestVarSet("warthog", 0);</Command>
		<Command>trQuestVarSet("zeep", 0);</Command>
		<Command>if(%UnitId%>=0) {</Command>
		<Command>trQuestVarSet("zeep", %UnitId%);</Command>
		<Command>}</Command>
		<Command>if(0>%UnitId%) {</Command>
		<Command>while(kbGetUnitTypeName(trQuestVarGet("zeep"))!="All") {</Command>
		<Command>trQuestVarSet("zeep", trQuestVarGet("zeep")+1);</Command>
		<Command>}}</Command>
		<Command>trQuestVarSet("lastpl", xsGetContextPlayer());</Command>
		<Command>if(%FromPlayer%!=99) trQuestVarSet("blarg",%FromPlayer%);</Command>
		<Command>if(%FromPlayer%==99) {</Command>
		<Command>trQuestVarSet("blarg",0);</Command>
		<Command>trQuestVarSet("vroom",12);</Command>
		<Command>}</Command>
		<Command>trQuestVarSet("i",trQuestVarGet("blarg"));</Command>
		<Command>while(trQuestVarGet("vroom")>=trQuestVarGet("i")) {</Command>
		<Command>xsSetContextPlayer(trQuestVarGet("i"));</Command>
		<Command>kbLookAtAllUnitsOnMap();</Command>
		<Command>trQuestVarSet("convarea", kbUnitQueryCreate("convarea"));</Command>
		<Command>kbUnitQuerySetPlayerID(trQuestVarGet("convarea"), trQuestVarGet("i"));</Command>
		<Command>kbUnitQuerySetUnitType(trQuestVarGet("convarea"), trQuestVarGet("zeep"));</Command>
		<Command>kbUnitQuerySetPosition(trQuestVarGet("convarea"), vector(%Object%));</Command>
		<Command>kbUnitQuerySetMaximumDistance(trQuestVarGet("convarea"), %Dst%);</Command>
		<Command>kbUnitQuerySetAscendingSort(trQuestVarGet("convarea"), true);</Command>
		<Command>kbUnitQueryResetResults(trQuestVarGet("convarea"));</Command>
		<Command>trQuestVarSet("warthog", kbUnitQueryExecute(trQuestVarGet("convarea")));</Command>
		<Command>while(trQuestVarGet("warthog")>0) {</Command>
		<Command>trQuestVarSet("warthog", trQuestVarGet("warthog")-1);</Command>
		<Command>trQuestVarSet("ffweho", kbUnitQueryGetResult(trQuestVarGet("convarea"), trQuestVarGet("warthog")));</Command>
		<Command>trUnitSelectClear();</Command>
		<Command>trUnitSelectByID(trQuestVarGet("ffweho"));</Command>
		<Command>trUnitConvert(%ToPlayer%);</Command>
		<Command>if("%ChangeUnit%"!="Do Not") trUnitChangeProtoUnit("%ChangeUnit%");</Command>
		<Command>}</Command>
		<Command>trQuestVarSet("i", trQuestVarGet("i")+1);}</Command>
		<Command>xsSetContextPlayer(trQuestVarGet("lastpl"));</Command>
	</Effect>

   <Effect name="Copy in Area SP-Overlap (Point)">
      <Param name="Object" dispName="Center Point" varType="area">0,0,0</Param>
		<Param name="Dst" dispName="Radius" varType="string">10.0</Param>
		<Param name="UnitId" dispName="Unit Type ID (Optional)" varType="string">-1</Param>
		<Param name="FromPlayer" dispName="From Player Number or 99 for ALL" varType="string">99</Param>
		<Param name="SrcArmy" dispName="Army" varType="group">default</Param>
		<Param name="location" dispName="Target Area" varType="area">0,0,0</Param>
		<Param name="position" dispName="Retain Unit Positions" varType="bool">false</Param>
		<Command>trQuestVarSet("convarea", 0);</Command>
		<Command>trQuestVarSet("ffweho",0);</Command>
		<Command>if(%FromPlayer%!=99) trQuestVarSet("vroom", %FromPlayer%);</Command>
		<Command>trQuestVarSet("warthog", 0);</Command>
		<Command>trQuestVarSet("zeep", 0);</Command>
		<Command>if(%UnitId%>=0) {</Command>
		<Command>trQuestVarSet("zeep", %UnitId%);</Command>
		<Command>}</Command>
		<Command>if(0>%UnitId%) {</Command>
		<Command>while(kbGetUnitTypeName(trQuestVarGet("zeep"))!="All") {</Command>
		<Command>trQuestVarSet("zeep", trQuestVarGet("zeep")+1);</Command>
		<Command>}}</Command>
		<Command>trQuestVarSet("lastpl", xsGetContextPlayer());</Command>
		<Command>xsSetContextPlayer(0);</Command>
		<Command>kbLookAtAllUnitsOnMap();</Command>
		<Command>if(%FromPlayer%!=99) trQuestVarSet("blarg",%FromPlayer%);</Command>
		<Command>if(%FromPlayer%==99) {</Command>
		<Command>trQuestVarSet("blarg",0);</Command>
		<Command>trQuestVarSet("vroom",12);</Command>
		<Command>}</Command>
		<Command>trQuestVarSet("i",trQuestVarGet("blarg"));</Command>
		<Command>while(trQuestVarGet("vroom")>=trQuestVarGet("i")) {</Command>
		<Command>trQuestVarSet("convarea", kbUnitQueryCreate("convarea"));</Command>
		<Command>kbUnitQuerySetPlayerID(trQuestVarGet("convarea"), trQuestVarGet("i"));</Command>
		<Command>kbUnitQuerySetUnitType(trQuestVarGet("convarea"), trQuestVarGet("zeep"));</Command>
		<Command>kbUnitQuerySetPosition(trQuestVarGet("convarea"), vector(%Object%));</Command>
		<Command>kbUnitQuerySetMaximumDistance(trQuestVarGet("convarea"), %Dst%);</Command>
		<Command>kbUnitQuerySetAscendingSort(trQuestVarGet("convarea"), true);</Command>
		<Command>kbUnitQueryResetResults(trQuestVarGet("convarea"));</Command>
		<Command>trQuestVarSet("warthog", kbUnitQueryExecute(trQuestVarGet("convarea")));</Command>
		<Command>while(trQuestVarGet("warthog")>0) {</Command>
		<Command>trQuestVarSet("warthog", trQuestVarGet("warthog")-1);</Command>
		<Command>trQuestVarSet("ffweho", kbUnitQueryGetResult(trQuestVarGet("convarea"), trQuestVarGet("warthog")));</Command>
		<Command>trUnitSelectClear();</Command>
		<Command>trUnitSelectByID(trQuestVarGet("ffweho"));</Command>
		<Command>trQuestVarSet("oiwghogwhywhlocx", xsVectorGetX(vector(%location%)));</Command>
		<Command>if(%position%==true) trQuestVarSet("oiwghogwhywhlocx", xsVectorGetX(vector(%location%))- (xsVectorGetX(vector(%Object%))-xsVectorGetX(kbUnitGetPosition(trQuestVarGet("ffweho")))));</Command>
		<Command>trQuestVarSet("oiwghogwhywhlocz", xsVectorGetZ(vector(%location%)));</Command>
		<Command>if(%position%==true) trQuestVarSet("oiwghogwhywhlocz", xsVectorGetZ(vector(%location%))- (xsVectorGetZ(vector(%Object%))-xsVectorGetZ(kbUnitGetPosition(trQuestVarGet("ffweho")))));</Command>
		<Command>trArmyDispatch("%SrcArmy%", ""+kbGetProtoUnitName(kbGetUnitBaseTypeID(trQuestVarGet("ffweho"))), 1, trQuestVarGet("oiwghogwhywhlocx"), xsVectorGetY(vector(%location%)), trQuestVarGet("oiwghogwhywhlocz"), 0, true);</Command>
		<Command>trArmySelect("%SrcArmy%");</Command>
     	<Command>trUnitConvert(trQuestVarGet("i"));</Command>
     	<Command>if(%position%==true) {trUnitTeleport(trQuestVarGet("oiwghogwhywhlocx"), xsVectorGetY(vector(%location%)), trQuestVarGet("oiwghogwhywhlocz"));}</Command>
		<Command>}</Command>
		<Command>trQuestVarSet("i", trQuestVarGet("i")+1);}</Command>
		<Command>xsSetContextPlayer(trQuestVarGet("lastpl"));</Command>
   </Effect>
   
   <Effect name="Copy/Convert in Area SP-Overlap (Point)">
      <Param name="Object" dispName="Center Point" varType="area">0,0,0</Param>
		<Param name="Dst" dispName="Radius" varType="string">10.0</Param>
		<Param name="UnitId" dispName="Unit Type ID (Optional)" varType="string">-1</Param>
		<Param name="FromPlayer" dispName="From Player Number or 99 for ALL" varType="string">99</Param>
		<Param name="SrcArmy" dispName="Army" varType="group">default</Param>
		<Param name="location" dispName="Target Area" varType="area">0,0,0</Param>
		<Param name="position" dispName="Retain Unit Positions" varType="bool">false</Param>
		<Command>trQuestVarSet("convarea", 0);</Command>
		<Command>trQuestVarSet("ffweho",0);</Command>
		<Command>if(%FromPlayer%!=99) trQuestVarSet("vroom", %FromPlayer%);</Command>
		<Command>trQuestVarSet("warthog", 0);</Command>
		<Command>trQuestVarSet("zeep", 0);</Command>
		<Command>if(%UnitId%>=0) {</Command>
		<Command>trQuestVarSet("zeep", %UnitId%);</Command>
		<Command>}</Command>
		<Command>if(0>%UnitId%) {</Command>
		<Command>while(kbGetUnitTypeName(trQuestVarGet("zeep"))!="All") {</Command>
		<Command>trQuestVarSet("zeep", trQuestVarGet("zeep")+1);</Command>
		<Command>}}</Command>
		<Command>trQuestVarSet("lastpl", xsGetContextPlayer());</Command>
		<Command>xsSetContextPlayer(0);</Command>
		<Command>kbLookAtAllUnitsOnMap();</Command>
		<Command>if(%FromPlayer%!=99) trQuestVarSet("blarg",%FromPlayer%);</Command>
		<Command>if(%FromPlayer%==99) {</Command>
		<Command>trQuestVarSet("blarg",0);</Command>
		<Command>trQuestVarSet("vroom",12);</Command>
		<Command>}</Command>
		<Command>trQuestVarSet("i",trQuestVarGet("blarg"));</Command>
		<Command>while(trQuestVarGet("vroom")>=trQuestVarGet("i")) {</Command>
		<Command>trQuestVarSet("convarea", kbUnitQueryCreate("convarea"));</Command>
		<Command>kbUnitQuerySetPlayerID(trQuestVarGet("convarea"), trQuestVarGet("i"));</Command>
		<Command>kbUnitQuerySetUnitType(trQuestVarGet("convarea"), trQuestVarGet("zeep"));</Command>
		<Command>kbUnitQuerySetPosition(trQuestVarGet("convarea"), vector(%Object%));</Command>
		<Command>kbUnitQuerySetMaximumDistance(trQuestVarGet("convarea"), %Dst%);</Command>
		<Command>kbUnitQuerySetAscendingSort(trQuestVarGet("convarea"), true);</Command>
		<Command>kbUnitQueryResetResults(trQuestVarGet("convarea"));</Command>
		<Command>trQuestVarSet("warthog", kbUnitQueryExecute(trQuestVarGet("convarea")));</Command>
		<Command>while(trQuestVarGet("warthog")>0) {</Command>
		<Command>trQuestVarSet("warthog", trQuestVarGet("warthog")-1);</Command>
		<Command>trQuestVarSet("ffweho", kbUnitQueryGetResult(trQuestVarGet("convarea"), trQuestVarGet("warthog")));</Command>
		<Command>trUnitSelectClear();</Command>
		<Command>trUnitSelectByID(trQuestVarGet("ffweho"));</Command>
		<Command>trQuestVarSet("oiwghogwhywhlocx", xsVectorGetX(vector(%location%)));</Command>
		<Command>if(%position%==true) trQuestVarSet("oiwghogwhywhlocx", xsVectorGetX(vector(%location%))- (xsVectorGetX(vector(%Object%))-xsVectorGetX(kbUnitGetPosition(trQuestVarGet("ffweho")))));</Command>
		<Command>trQuestVarSet("oiwghogwhywhlocz", xsVectorGetZ(vector(%location%)));</Command>
		<Command>if(%position%==true) trQuestVarSet("oiwghogwhywhlocz", xsVectorGetZ(vector(%location%))- (xsVectorGetZ(vector(%Object%))-xsVectorGetZ(kbUnitGetPosition(trQuestVarGet("ffweho")))));</Command>
		<Command>trArmyDispatch("%SrcArmy%", ""+kbGetProtoUnitName(kbGetUnitBaseTypeID(trQuestVarGet("ffweho"))), 1, trQuestVarGet("oiwghogwhywhlocx"), xsVectorGetY(vector(%location%)), trQuestVarGet("oiwghogwhywhlocz"), 0, true);</Command>
		<Command>if(%position%==true) {trArmySelect("%SrcArmy%"); trUnitTeleport(trQuestVarGet("oiwghogwhywhlocx"), xsVectorGetY(vector(%location%)), trQuestVarGet("oiwghogwhywhlocz"));}</Command>
		<Command>}</Command>
		<Command>trQuestVarSet("i", trQuestVarGet("i")+1);}</Command>
		<Command>xsSetContextPlayer(trQuestVarGet("lastpl"));</Command>
   </Effect>
   
   <Effect name="Copy in Area MP (Point)">
      <Param name="Object" dispName="Center Point" varType="area">0,0,0</Param>
		<Param name="Dst" dispName="Radius" varType="string">10.0</Param>
		<Param name="UnitId" dispName="Unit Type ID (Optional)" varType="string">-1</Param>
		<Param name="FromPlayer" dispName="From Player Number or 99 for ALL" varType="string">99</Param>
		<Param name="SrcArmy" dispName="Army" varType="group">default</Param>
		<Param name="location" dispName="Target Area" varType="area">0,0,0</Param>
		<Param name="position" dispName="Retain Unit Positions" varType="bool">false</Param>
		<Command>trQuestVarSet("convarea", 0);</Command>
		<Command>trQuestVarSet("ffweho",0);</Command>
		<Command>if(%FromPlayer%!=99) trQuestVarSet("vroom", %FromPlayer%);</Command>
		<Command>trQuestVarSet("warthog", 0);</Command>
		<Command>trQuestVarSet("zeep", 0);</Command>
		<Command>if(%UnitId%>=0) {</Command>
		<Command>trQuestVarSet("zeep", %UnitId%);</Command>
		<Command>}</Command>
		<Command>if(0>%UnitId%) {</Command>
		<Command>while(kbGetUnitTypeName(trQuestVarGet("zeep"))!="All") {</Command>
		<Command>trQuestVarSet("zeep", trQuestVarGet("zeep")+1);</Command>
		<Command>}}</Command>
		<Command>trQuestVarSet("lastpl", xsGetContextPlayer());</Command>
		<Command>xsSetContextPlayer(0);</Command>
		<Command>kbLookAtAllUnitsOnMap();</Command>
		<Command>if(%FromPlayer%!=99) trQuestVarSet("blarg",%FromPlayer%);</Command>
		<Command>if(%FromPlayer%==99) {</Command>
		<Command>trQuestVarSet("blarg",0);</Command>
		<Command>trQuestVarSet("vroom",12);</Command>
		<Command>}</Command>
		<Command>trQuestVarSet("i",trQuestVarGet("blarg"));</Command>
		<Command>while(trQuestVarGet("vroom")>=trQuestVarGet("i")) {</Command>
		<Command>trQuestVarSet("convarea", kbUnitQueryCreate("convarea"));</Command>
		<Command>kbUnitQuerySetPlayerID(trQuestVarGet("convarea"), trQuestVarGet("i"));</Command>
		<Command>kbUnitQuerySetUnitType(trQuestVarGet("convarea"), trQuestVarGet("zeep"));</Command>
		<Command>kbUnitQuerySetPosition(trQuestVarGet("convarea"), vector(%Object%));</Command>
		<Command>kbUnitQuerySetMaximumDistance(trQuestVarGet("convarea"), %Dst%);</Command>
		<Command>kbUnitQuerySetAscendingSort(trQuestVarGet("convarea"), true);</Command>
		<Command>kbUnitQueryResetResults(trQuestVarGet("convarea"));</Command>
		<Command>trQuestVarSet("warthog", kbUnitQueryExecute(trQuestVarGet("convarea")));</Command>
		<Command>while(trQuestVarGet("warthog")>0) {</Command>
		<Command>trQuestVarSet("warthog", trQuestVarGet("warthog")-1);</Command>
		<Command>trQuestVarSet("ffweho", kbUnitQueryGetResult(trQuestVarGet("convarea"), trQuestVarGet("warthog")));</Command>
		<Command>trUnitSelectClear();</Command>
		<Command>trUnitSelectByID(trQuestVarGet("ffweho"));</Command>
		<Command>trQuestVarSet("oiwghogwhywhlocx", xsVectorGetX(vector(%location%)));</Command>
		<Command>if(%position%==true) trQuestVarSet("oiwghogwhywhlocx", xsVectorGetX(vector(%location%))- (xsVectorGetX(vector(%Object%))-xsVectorGetX(kbUnitGetPosition(trQuestVarGet("ffweho")))));</Command>
		<Command>trQuestVarSet("oiwghogwhywhlocz", xsVectorGetZ(vector(%location%)));</Command>
		<Command>if(%position%==true) trQuestVarSet("oiwghogwhywhlocz", xsVectorGetZ(vector(%location%))- (xsVectorGetZ(vector(%Object%))-xsVectorGetZ(kbUnitGetPosition(trQuestVarGet("ffweho")))));</Command>
		<Command>trArmyDispatch("%SrcArmy%", ""+kbGetProtoUnitName(kbGetUnitBaseTypeID(trQuestVarGet("ffweho"))), 1, trQuestVarGet("oiwghogwhywhlocx"), xsVectorGetY(vector(%location%)), trQuestVarGet("oiwghogwhywhlocz"), 0, true);</Command>
		<Command>trArmySelect("%SrcArmy%");</Command>
     	<Command>trUnitConvert(trQuestVarGet("i"));</Command>
		<Command>}</Command>
		<Command>trQuestVarSet("i", trQuestVarGet("i")+1);}</Command>
		<Command>xsSetContextPlayer(trQuestVarGet("lastpl"));</Command>
   </Effect>
   
   <Effect name="Copy/Convert in Area MP (Point)">
      <Param name="Object" dispName="Center Point" varType="area">0,0,0</Param>
		<Param name="Dst" dispName="Radius" varType="string">10.0</Param>
		<Param name="UnitId" dispName="Unit Type ID (Optional)" varType="string">-1</Param>
		<Param name="FromPlayer" dispName="From Player Number or 99 for ALL" varType="string">99</Param>
		<Param name="SrcArmy" dispName="Army" varType="group">default</Param>
		<Param name="location" dispName="Target Area" varType="area">0,0,0</Param>
		<Param name="position" dispName="Retain Unit Positions" varType="bool">false</Param>
		<Command>trQuestVarSet("convarea", 0);</Command>
		<Command>trQuestVarSet("ffweho",0);</Command>
		<Command>if(%FromPlayer%!=99) trQuestVarSet("vroom", %FromPlayer%);</Command>
		<Command>trQuestVarSet("warthog", 0);</Command>
		<Command>trQuestVarSet("zeep", 0);</Command>
		<Command>if(%UnitId%>=0) {</Command>
		<Command>trQuestVarSet("zeep", %UnitId%);</Command>
		<Command>}</Command>
		<Command>if(0>%UnitId%) {</Command>
		<Command>while(kbGetUnitTypeName(trQuestVarGet("zeep"))!="All") {</Command>
		<Command>trQuestVarSet("zeep", trQuestVarGet("zeep")+1);</Command>
		<Command>}}</Command>
		<Command>trQuestVarSet("lastpl", xsGetContextPlayer());</Command>
		<Command>xsSetContextPlayer(0);</Command>
		<Command>kbLookAtAllUnitsOnMap();</Command>
		<Command>if(%FromPlayer%!=99) trQuestVarSet("blarg",%FromPlayer%);</Command>
		<Command>if(%FromPlayer%==99) {</Command>
		<Command>trQuestVarSet("blarg",0);</Command>
		<Command>trQuestVarSet("vroom",12);</Command>
		<Command>}</Command>
		<Command>trQuestVarSet("i",trQuestVarGet("blarg"));</Command>
		<Command>while(trQuestVarGet("vroom")>=trQuestVarGet("i")) {</Command>
		<Command>trQuestVarSet("convarea", kbUnitQueryCreate("convarea"));</Command>
		<Command>kbUnitQuerySetPlayerID(trQuestVarGet("convarea"), trQuestVarGet("i"));</Command>
		<Command>kbUnitQuerySetUnitType(trQuestVarGet("convarea"), trQuestVarGet("zeep"));</Command>
		<Command>kbUnitQuerySetPosition(trQuestVarGet("convarea"), vector(%Object%));</Command>
		<Command>kbUnitQuerySetMaximumDistance(trQuestVarGet("convarea"), %Dst%);</Command>
		<Command>kbUnitQuerySetAscendingSort(trQuestVarGet("convarea"), true);</Command>
		<Command>kbUnitQueryResetResults(trQuestVarGet("convarea"));</Command>
		<Command>trQuestVarSet("warthog", kbUnitQueryExecute(trQuestVarGet("convarea")));</Command>
		<Command>while(trQuestVarGet("warthog")>0) {</Command>
		<Command>trQuestVarSet("warthog", trQuestVarGet("warthog")-1);</Command>
		<Command>trQuestVarSet("ffweho", kbUnitQueryGetResult(trQuestVarGet("convarea"), trQuestVarGet("warthog")));</Command>
		<Command>trUnitSelectClear();</Command>
		<Command>trUnitSelectByID(trQuestVarGet("ffweho"));</Command>
		<Command>trQuestVarSet("oiwghogwhywhlocx", xsVectorGetX(vector(%location%)));</Command>
		<Command>if(%position%==true) trQuestVarSet("oiwghogwhywhlocx", xsVectorGetX(vector(%location%))- (xsVectorGetX(vector(%Object%))-xsVectorGetX(kbUnitGetPosition(trQuestVarGet("ffweho")))));</Command>
		<Command>trQuestVarSet("oiwghogwhywhlocz", xsVectorGetZ(vector(%location%)));</Command>
		<Command>if(%position%==true) trQuestVarSet("oiwghogwhywhlocz", xsVectorGetZ(vector(%location%))- (xsVectorGetZ(vector(%Object%))-xsVectorGetZ(kbUnitGetPosition(trQuestVarGet("ffweho")))));</Command>
		<Command>trArmyDispatch("%SrcArmy%", ""+kbGetProtoUnitName(kbGetUnitBaseTypeID(trQuestVarGet("ffweho"))), 1, trQuestVarGet("oiwghogwhywhlocx"), xsVectorGetY(vector(%location%)), trQuestVarGet("oiwghogwhywhlocz"), 0, true);</Command>
		<Command>}</Command>
		<Command>trQuestVarSet("i", trQuestVarGet("i")+1);}</Command>
		<Command>xsSetContextPlayer(trQuestVarGet("lastpl"));</Command>
   </Effect>
	
	<Effect name="Move to Self in Area (Point)">
		<Param name="Object" dispName="Center Area" varType="area">0,0,0</Param>
		<Param name="Dst" dispName="Radius" varType="string">10.0</Param>
		<Param name="UnitId" dispName="Unit Type ID (Optional)" varType="string">-1</Param>
		<Param name="FromPlayer" dispName="From Player or 99 for ALL" varType="string">99</Param>
		<Command>trQuestVarSet("convarea", 0);</Command>
		<Command>trQuestVarSet("ffweho",0);</Command>
		<Command>if(%FromPlayer%!=99) trQuestVarSet("vroom", %FromPlayer%);</Command>
		<Command>trQuestVarSet("warthog", 0);</Command>
		<Command>trQuestVarSet("zeep", 0);</Command>
		<Command>if(%UnitId%>=0) {</Command>
		<Command>trQuestVarSet("zeep", %UnitId%);</Command>
		<Command>}</Command>
		<Command>if(0>%UnitId%) {</Command>
		<Command>while(kbGetUnitTypeName(trQuestVarGet("zeep"))!="All") {</Command>
		<Command>trQuestVarSet("zeep", trQuestVarGet("zeep")+1);</Command>
		<Command>}}</Command>
		<Command>trQuestVarSet("lastpl", xsGetContextPlayer());</Command>
		<Command>xsSetContextPlayer(0);</Command>
		<Command>kbLookAtAllUnitsOnMap();</Command>
		<Command>if(%FromPlayer%!=99) trQuestVarSet("blarg",%FromPlayer%);</Command>
		<Command>if(%FromPlayer%==99) {</Command>
		<Command>trQuestVarSet("blarg",0);</Command>
		<Command>trQuestVarSet("vroom",12);</Command>
		<Command>}</Command>
		<Command>trQuestVarSet("i",trQuestVarGet("blarg"));</Command>
		<Command>while(trQuestVarGet("vroom")>=trQuestVarGet("i")) {</Command>
		<Command>trQuestVarSet("convarea", kbUnitQueryCreate("convarea"));</Command>
		<Command>kbUnitQuerySetPlayerID(trQuestVarGet("convarea"), trQuestVarGet("i"));</Command>
		<Command>kbUnitQuerySetUnitType(trQuestVarGet("convarea"), trQuestVarGet("zeep"));</Command>
		<Command>kbUnitQuerySetPosition(trQuestVarGet("convarea"), vector(%Object%));</Command>
		<Command>kbUnitQuerySetMaximumDistance(trQuestVarGet("convarea"), %Dst%);</Command>
		<Command>kbUnitQuerySetAscendingSort(trQuestVarGet("convarea"), true);</Command>
		<Command>kbUnitQueryResetResults(trQuestVarGet("convarea"));</Command>
		<Command>trQuestVarSet("warthog", kbUnitQueryExecute(trQuestVarGet("convarea")));</Command>
		<Command>while(trQuestVarGet("warthog")>0) {</Command>
		<Command>trQuestVarSet("warthog", trQuestVarGet("warthog")-1);</Command>
		<Command>trQuestVarSet("ffweho", kbUnitQueryGetResult(trQuestVarGet("convarea"), trQuestVarGet("warthog")));</Command>
		<Command>trUnitSelectClear();</Command>
		<Command>trUnitSelectByID(trQuestVarGet("ffweho"));</Command>
		<Command>trUnitMoveToPoint(xsVectorGetX(kbUnitGetPosition(trQuestVarGet("ffweho"))),xsVectorGetY(kbUnitGetPosition(trQuestVarGet("ffweho"))),xsVectorGetZ(kbUnitGetPosition(trQuestVarGet("ffweho"))), -1, false);</Command>
		<Command>}</Command>
		<Command>trQuestVarSet("i", trQuestVarGet("i")+1);}</Command>
		<Command>xsSetContextPlayer(trQuestVarGet("lastpl"));</Command>
	</Effect>
   
   <Effect name="Army Deploy Near Point">
		<Param name="SrcArmy" dispName="Army" varType="group">default</Param>
		<Param name="ProtoName" dispName="ProtoName" varType="protounit">Villager</Param>
		<Param name="Object" dispName="Target Area" varType="area">0,0,0</Param>
		<Param name="radius" dispName="Approx. Radius (slightly off)" varType="string">10</Param>
		<Param name="edge" dispName="Edge Only" varType="bool">false</Param>
		<Param name="Count"  dispName="Count" varType="string">0</Param>
		<Param name="Clear" dispName="Clear Existing Units:" varType="bool">true</Param>
		<Command>trQuestVarSet("fhweaohpgpagowhwa", xsGetContextPlayer());</Command>
		<Command>xsSetContextPlayer(0);</Command>
		<Command>kbLookAtAllUnitsOnMap();</Command>
		<Command>trQuestVarSetFromRand("hwfeoaifop", 0, 1, true);</Command>
		<Command>trQuestVarSetFromRand("wagogehmeas", 0, %radius%, true);</Command>
		<Command>if(trQuestVarGet("hwfeoaifop")==0) trQuestVarSet("oiwghogwhywhlocx", xsVectorGetX(vector(%Object%))+trQuestVarGet("wagogehmeas"));</Command>
		<Command>if(trQuestVarGet("hwfeoaifop")==1) trQuestVarSet("oiwghogwhywhlocx", xsVectorGetX(vector(%Object%))-trQuestVarGet("wagogehmeas"));</Command>
		<Command>trQuestVarSet("hwfeoaifopx", 0);</Command>
		<Command>if(%edge%==true) trQuestVarSet("hwfeoaifopx", (%radius%-trQuestVarGet("wagogehmeas")));</Command>
		<Command>trQuestVarSetFromRand("wagogehmeas", trQuestVarGet("hwfeoaifopx"), (%radius%-trQuestVarGet("wagogehmeas")), true);</Command>
		<Command>trQuestVarSetFromRand("hwfeoaifop", 0, 1, true);</Command>
		<Command>if(trQuestVarGet("hwfeoaifop")==0) trQuestVarSet("oiwghogwhywhlocz", xsVectorGetZ(vector(%Object%))+trQuestVarGet("wagogehmeas"));</Command>
		<Command>if(trQuestVarGet("hwfeoaifop")==1) trQuestVarSet("oiwghogwhywhlocz", xsVectorGetZ(vector(%Object%))-trQuestVarGet("wagogehmeas"));</Command>
		<Command>trArmyDispatch("%SrcArmy%", "%ProtoName%", %Count%, trQuestVarGet("oiwghogwhywhlocx"),xsVectorGetY(vector(%Object%)),trQuestVarGet("oiwghogwhywhlocz"), 0, %Clear%);</Command>
		<Command>xsSetContextPlayer(trQuestVarGet("fhweaohpgpagowhwa"));</Command>
	</Effect>
	
	<Effect name="Unit Create Near Point">
	  <Param name="PlayerID" dispName="Player" varType="string">0</Param>
	  <Param name="ProtoName" dispName="ProtoName" varType="protounit">Villager</Param>
	  <Param name="ScenName" dispName="Name" varType="string">Default</Param>
	  <Param name="Object" dispName="Target Area" varType="area">0,0,0</Param>
	  <Param name="radius" dispName="Approx. Radius (slightly off)" varType="string">10</Param>
	  <Param name="edge" dispName="Edge Only" varType="bool">false</Param>
	  <Param name="Heading"  dispName="Heading" varType="string">0</Param>
		<Command>trQuestVarSet("fhweaohpgpagowhwa", xsGetContextPlayer());</Command>
		<Command>xsSetContextPlayer(0);</Command>
		<Command>kbLookAtAllUnitsOnMap();</Command>
		<Command>trQuestVarSetFromRand("hwfeoaifop", 0, 1, true);</Command>
		<Command>trQuestVarSetFromRand("wagogehmeas", 0, %radius%, true);</Command>
		<Command>if(trQuestVarGet("hwfeoaifop")==0) trQuestVarSet("oiwghogwhywhlocx", xsVectorGetX(vector(%Object%))+trQuestVarGet("wagogehmeas"));</Command>
		<Command>if(trQuestVarGet("hwfeoaifop")==1) trQuestVarSet("oiwghogwhywhlocx", xsVectorGetX(vector(%Object%))-trQuestVarGet("wagogehmeas"));</Command>
		<Command>trQuestVarSet("hwfeoaifopx", 0);</Command>
		<Command>if(%edge%==true) trQuestVarSet("hwfeoaifopx", (%radius%-trQuestVarGet("wagogehmeas")));</Command>
		<Command>trQuestVarSetFromRand("wagogehmeas", trQuestVarGet("hwfeoaifopx"), (%radius%-trQuestVarGet("wagogehmeas")), true);</Command>
		<Command>trQuestVarSetFromRand("hwfeoaifop", 0, 1, true);</Command>
		<Command>if(trQuestVarGet("hwfeoaifop")==0) trQuestVarSet("oiwghogwhywhlocz", xsVectorGetZ(vector(%Object%))+trQuestVarGet("wagogehmeas"));</Command>
		<Command>if(trQuestVarGet("hwfeoaifop")==1) trQuestVarSet("oiwghogwhywhlocz", xsVectorGetZ(vector(%Object%))-trQuestVarGet("wagogehmeas"));</Command>
		<Command>trUnitCreate("%ProtoName%", "%ScenName%", trQuestVarGet("oiwghogwhywhlocx"),xsVectorGetY(vector(%Object%)),trQuestVarGet("oiwghogwhywhlocz"), %Heading%, %PlayerID%);</Command>
		<Command>xsSetContextPlayer(trQuestVarGet("fhweaohpgpagowhwa"));</Command>
   </Effect>
   
   <Effect name="Army Teleport Near Point">
      <Param name="SrcArmy" dispName="Army" varType="group">default</Param>
	  <Param name="Object" dispName="Target Area" varType="area">0,0,0</Param>
	  <Param name="radius" dispName="Approx. Radius (slightly off)" varType="string">10</Param>
	  <Param name="edge" dispName="Edge Only" varType="bool">false</Param>
		<Command>trQuestVarSet("fhweaohpgpagowhwa", xsGetContextPlayer());</Command>
		<Command>xsSetContextPlayer(0);</Command>
		<Command>kbLookAtAllUnitsOnMap();</Command>
		<Command>trArmySelect("%SrcArmy%");</Command>
		<Command>trQuestVarSetFromRand("hwfeoaifop", 0, 1, true);</Command>
		<Command>trQuestVarSetFromRand("wagogehmeas", 0, %radius%, true);</Command>
		<Command>if(trQuestVarGet("hwfeoaifop")==0) trQuestVarSet("oiwghogwhywhlocx", xsVectorGetX(vector(%Object%))+trQuestVarGet("wagogehmeas"));</Command>
		<Command>if(trQuestVarGet("hwfeoaifop")==1) trQuestVarSet("oiwghogwhywhlocx", xsVectorGetX(vector(%Object%))-trQuestVarGet("wagogehmeas"));</Command>
		<Command>trQuestVarSet("hwfeoaifopx", 0);</Command>
		<Command>if(%edge%==true) trQuestVarSet("hwfeoaifopx", (%radius%-trQuestVarGet("wagogehmeas")));</Command>
		<Command>trQuestVarSetFromRand("wagogehmeas", trQuestVarGet("hwfeoaifopx"), (%radius%-trQuestVarGet("wagogehmeas")), true);</Command>
		<Command>trQuestVarSetFromRand("hwfeoaifop", 0, 1, true);</Command>
		<Command>if(trQuestVarGet("hwfeoaifop")==0) trQuestVarSet("oiwghogwhywhlocz", xsVectorGetZ(vector(%Object%))+trQuestVarGet("wagogehmeas"));</Command>
		<Command>if(trQuestVarGet("hwfeoaifop")==1) trQuestVarSet("oiwghogwhywhlocz", xsVectorGetZ(vector(%Object%))-trQuestVarGet("wagogehmeas"));</Command>
		<Command>trUnitTeleport(trQuestVarGet("oiwghogwhywhlocx"), xsVectorGetY(vector(%Object%)), trQuestVarGet("oiwghogwhywhlocz"));</Command>
		<Command>xsSetContextPlayer(trQuestVarGet("fhweaohpgpagowhwa"));</Command>
   </Effect>
   
   <Effect name="Army Build Building Near Point">
      <Param name="SrcArmy" dispName="Army" varType="group">default</Param>
      <Param name="ProtoUnit" dispName="ProtoUnit To Build" varType="protounit">default</Param>
      <Param name="Object" dispName="Target Area" varType="area">0,0,0</Param>
      <Param name="radius" dispName="Approx. Radius (slightly off)" varType="string">10</Param>
	  <Param name="edge" dispName="Edge Only" varType="bool">false</Param>
		<Command>trQuestVarSet("fhweaohpgpagowhwa", xsGetContextPlayer());</Command>
		<Command>xsSetContextPlayer(0);</Command>
		<Command>kbLookAtAllUnitsOnMap();</Command>
		<Command>trArmySelect("%SrcArmy%");</Command>
		<Command>trQuestVarSetFromRand("hwfeoaifop", 0, 1, true);</Command>
		<Command>trQuestVarSetFromRand("wagogehmeas", 0, %radius%, true);</Command>
		<Command>if(trQuestVarGet("hwfeoaifop")==0) trQuestVarSet("oiwghogwhywhlocx", xsVectorGetX(vector(%Object%))+trQuestVarGet("wagogehmeas"));</Command>
		<Command>if(trQuestVarGet("hwfeoaifop")==1) trQuestVarSet("oiwghogwhywhlocx", xsVectorGetX(vector(%Object%))-trQuestVarGet("wagogehmeas"));</Command>
		<Command>trQuestVarSet("hwfeoaifopx", 0);</Command>
		<Command>if(%edge%==true) trQuestVarSet("hwfeoaifopx", (%radius%-trQuestVarGet("wagogehmeas")));</Command>
		<Command>trQuestVarSetFromRand("wagogehmeas", trQuestVarGet("hwfeoaifopx"), (%radius%-trQuestVarGet("wagogehmeas")), true);</Command>
		<Command>trQuestVarSetFromRand("hwfeoaifop", 0, 1, true);</Command>
		<Command>if(trQuestVarGet("hwfeoaifop")==0) trQuestVarSet("oiwghogwhywhlocz", xsVectorGetZ(vector(%Object%))+trQuestVarGet("wagogehmeas"));</Command>
		<Command>if(trQuestVarGet("hwfeoaifop")==1) trQuestVarSet("oiwghogwhywhlocz", xsVectorGetZ(vector(%Object%))-trQuestVarGet("wagogehmeas"));</Command>
		<Command>trUnitBuildUnit("%ProtoUnit%", xsVectorSet(trQuestVarGet("oiwghogwhywhlocx"), xsVectorGetY(vector(%Object%)), trQuestVarGet("oiwghogwhywhlocz")));</Command>
		<Command>xsSetContextPlayer(trQuestVarGet("fhweaohpgpagowhwa"));</Command>
   </Effect>
   
   <Effect name="Unit Build Building Near Point">
      <Param name="SrcObject" dispName="Source Units" varType="unit">default</Param>
      <Param name="ProtoUnit" dispName="ProtoUnit To Build" varType="protounit">default</Param>
      <Param name="Object" dispName="Target Area" varType="area">0,0,0</Param>
      <Param name="radius" dispName="Approx. Radius (slightly off)" varType="string">10</Param>
	  <Param name="edge" dispName="Edge Only" varType="bool">false</Param>
		<Command>trQuestVarSet("fhweaohpgpagowhwa", xsGetContextPlayer());</Command>
		<Command>xsSetContextPlayer(0);</Command>
		<Command>kbLookAtAllUnitsOnMap();</Command>
		<Command>trUnitSelectClear();</Command>
		<Command loop="" loopParm="SrcObject">trUnitSelect("%SrcObject%");</Command>
		<Command>trQuestVarSetFromRand("hwfeoaifop", 0, 1, true);</Command>
		<Command>trQuestVarSetFromRand("wagogehmeas", 0, %radius%, true);</Command>
		<Command>if(trQuestVarGet("hwfeoaifop")==0) trQuestVarSet("oiwghogwhywhlocx", xsVectorGetX(vector(%Object%))+trQuestVarGet("wagogehmeas"));</Command>
		<Command>if(trQuestVarGet("hwfeoaifop")==1) trQuestVarSet("oiwghogwhywhlocx", xsVectorGetX(vector(%Object%))-trQuestVarGet("wagogehmeas"));</Command>
		<Command>trQuestVarSet("hwfeoaifopx", 0);</Command>
		<Command>if(%edge%==true) trQuestVarSet("hwfeoaifopx", (%radius%-trQuestVarGet("wagogehmeas")));</Command>
		<Command>trQuestVarSetFromRand("wagogehmeas", trQuestVarGet("hwfeoaifopx"), (%radius%-trQuestVarGet("wagogehmeas")), true);</Command>
		<Command>trQuestVarSetFromRand("hwfeoaifop", 0, 1, true);</Command>
		<Command>if(trQuestVarGet("hwfeoaifop")==0) trQuestVarSet("oiwghogwhywhlocz", xsVectorGetZ(vector(%Object%))+trQuestVarGet("wagogehmeas"));</Command>
		<Command>if(trQuestVarGet("hwfeoaifop")==1) trQuestVarSet("oiwghogwhywhlocz", xsVectorGetZ(vector(%Object%))-trQuestVarGet("wagogehmeas"));</Command>
		<Command>trUnitBuildUnit("%ProtoUnit%", xsVectorSet(trQuestVarGet("oiwghogwhywhlocx"), xsVectorGetY(vector(%Object%)), trQuestVarGet("oiwghogwhywhlocz")));</Command>
		<Command>xsSetContextPlayer(trQuestVarGet("fhweaohpgpagowhwa"));</Command>
   </Effect>
   
   <Effect name="Move From Area To Near Point">
      <Param name="RefObject" dispName="Center Unit" varType="unit">default</Param>
	   <Param name="UnitType" dispName="Type" varType="string">Unit</Param>
	   <Param name="PlayerID" dispName="Player" varType="string">0</Param>
      <Param name="Radius" dispName="Radius" varType="string">10</Param>
      <Param name="Object" dispName="Target Area" varType="area">0,0,0</Param>
      <Param name="radius" dispName="Approx. Radius (slightly off)" varType="string">10</Param>
	  <Param name="edge" dispName="Edge Only" varType="bool">false</Param>
		<Command>trQuestVarSet("fhweaohpgpagowhwa", xsGetContextPlayer());</Command>
		<Command>xsSetContextPlayer(0);</Command>
		<Command>kbLookAtAllUnitsOnMap();</Command>
		<Command>trUnitSelectClear();</Command>
		<Command loop="" loopParm="RefObject">trUnitSelect("%RefObject%");</Command>
		<Command>trQuestVarSetFromRand("hwfeoaifop", 0, 1, true);</Command>
		<Command>trQuestVarSetFromRand("wagogehmeas", 0, %radius%, true);</Command>
		<Command>if(trQuestVarGet("hwfeoaifop")==0) trQuestVarSet("oiwghogwhywhlocx", xsVectorGetX(vector(%Object%))+trQuestVarGet("wagogehmeas"));</Command>
		<Command>if(trQuestVarGet("hwfeoaifop")==1) trQuestVarSet("oiwghogwhywhlocx", xsVectorGetX(vector(%Object%))-trQuestVarGet("wagogehmeas"));</Command>
		<Command>trQuestVarSet("hwfeoaifopx", 0);</Command>
		<Command>if(%edge%==true) trQuestVarSet("hwfeoaifopx", (%radius%-trQuestVarGet("wagogehmeas")));</Command>
		<Command>trQuestVarSetFromRand("wagogehmeas", trQuestVarGet("hwfeoaifopx"), (%radius%-trQuestVarGet("wagogehmeas")), true);</Command>
		<Command>trQuestVarSetFromRand("hwfeoaifop", 0, 1, true);</Command>
		<Command>if(trQuestVarGet("hwfeoaifop")==0) trQuestVarSet("oiwghogwhywhlocz", xsVectorGetZ(vector(%Object%))+trQuestVarGet("wagogehmeas"));</Command>
		<Command>if(trQuestVarGet("hwfeoaifop")==1) trQuestVarSet("oiwghogwhywhlocz", xsVectorGetZ(vector(%Object%))-trQuestVarGet("wagogehmeas"));</Command>
		<Command>trUnitMoveFromArea(trQuestVarGet("oiwghogwhywhlocx"), xsVectorGetY(vector(%Object%)), trQuestVarGet("oiwghogwhywhlocz"), -1, false, %PlayerID%, "%UnitType%", %Radius%);</Command>
		<Command>xsSetContextPlayer(trQuestVarGet("fhweaohpgpagowhwa"));</Command>
   </Effect>
   
   <Effect name="Teleport Units to Near Point">
      <Param name="SrcObject" dispName="Source Units" varType="unit">default</Param>
	  <Param name="Object" dispName="Target Area" varType="area">0,0,0</Param>
	  <Param name="radius" dispName="Approx. Radius (slightly off)" varType="string">10</Param>
	  <Param name="edge" dispName="Edge Only" varType="bool">false</Param>
		<Command>trQuestVarSet("fhweaohpgpagowhwa", xsGetContextPlayer());</Command>
		<Command>xsSetContextPlayer(0);</Command>
		<Command>kbLookAtAllUnitsOnMap();</Command>
		<Command>trUnitSelectClear();</Command>
		<Command loop="" loopParm="SrcObject">trUnitSelect("%SrcObject%");</Command>
		<Command>trQuestVarSetFromRand("hwfeoaifop", 0, 1, true);</Command>
		<Command>trQuestVarSetFromRand("wagogehmeas", 0, %radius%, true);</Command>
		<Command>if(trQuestVarGet("hwfeoaifop")==0) trQuestVarSet("oiwghogwhywhlocx", xsVectorGetX(vector(%Object%))+trQuestVarGet("wagogehmeas"));</Command>
		<Command>if(trQuestVarGet("hwfeoaifop")==1) trQuestVarSet("oiwghogwhywhlocx", xsVectorGetX(vector(%Object%))-trQuestVarGet("wagogehmeas"));</Command>
		<Command>trQuestVarSet("hwfeoaifopx", 0);</Command>
		<Command>if(%edge%==true) trQuestVarSet("hwfeoaifopx", (%radius%-trQuestVarGet("wagogehmeas")));</Command>
		<Command>trQuestVarSetFromRand("wagogehmeas", trQuestVarGet("hwfeoaifopx"), (%radius%-trQuestVarGet("wagogehmeas")), true);</Command>
		<Command>trQuestVarSetFromRand("hwfeoaifop", 0, 1, true);</Command>
		<Command>if(trQuestVarGet("hwfeoaifop")==0) trQuestVarSet("oiwghogwhywhlocz", xsVectorGetZ(vector(%Object%))+trQuestVarGet("wagogehmeas"));</Command>
		<Command>if(trQuestVarGet("hwfeoaifop")==1) trQuestVarSet("oiwghogwhywhlocz", xsVectorGetZ(vector(%Object%))-trQuestVarGet("wagogehmeas"));</Command>
		<Command>trUnitTeleport(trQuestVarGet("oiwghogwhywhlocx"), xsVectorGetY(vector(%Object%)), trQuestVarGet("oiwghogwhywhlocz"));</Command>
		<Command>xsSetContextPlayer(trQuestVarGet("fhweaohpgpagowhwa"));</Command>
   </Effect>
   
   <Effect name="Move Near Point">
      <Param name="SrcObject" dispName="Source Units" varType="unit">default</Param>
      <Param name="Object" dispName="Target Area" varType="area">0,0,0</Param>
       <Param name="radius" dispName="Approx. Radius (slightly off)" varType="string">10</Param>
		<Param name="edge" dispName="Edge Only" varType="bool">false</Param>
	  <Param name="EventID" dispName="Trigger" varType="event">-1</Param>
      <Param name="AttackMove" dispName="Attack Move" varType="bool">false</Param>
      <Command>trQuestVarSet("fhweaohpgpagowhwa", xsGetContextPlayer());</Command>
		<Command>xsSetContextPlayer(0);</Command>
		<Command>kbLookAtAllUnitsOnMap();</Command>
		<Command>trQuestVarSetFromRand("hwfeoaifop", 0, 1, true);</Command>
		<Command>trQuestVarSetFromRand("wagogehmeas", 0, %radius%, true);</Command>
		<Command>if(trQuestVarGet("hwfeoaifop")==0) trQuestVarSet("oiwghogwhywhlocx", xsVectorGetX(vector(%Object%))+trQuestVarGet("wagogehmeas"));</Command>
		<Command>if(trQuestVarGet("hwfeoaifop")==1) trQuestVarSet("oiwghogwhywhlocx", xsVectorGetX(vector(%Object%))-trQuestVarGet("wagogehmeas"));</Command>
		<Command>trQuestVarSet("hwfeoaifopx", 0);</Command>
		<Command>if(%edge%==true) trQuestVarSet("hwfeoaifopx", (%radius%-trQuestVarGet("wagogehmeas")));</Command>
		<Command>trQuestVarSetFromRand("wagogehmeas", trQuestVarGet("hwfeoaifopx"), (%radius%-trQuestVarGet("wagogehmeas")), true);</Command>
		<Command>trQuestVarSetFromRand("hwfeoaifop", 0, 1, true);</Command>
		<Command>if(trQuestVarGet("hwfeoaifop")==0) trQuestVarSet("oiwghogwhywhlocz", xsVectorGetZ(vector(%Object%))+trQuestVarGet("wagogehmeas"));</Command>
		<Command>if(trQuestVarGet("hwfeoaifop")==1) trQuestVarSet("oiwghogwhywhlocz", xsVectorGetZ(vector(%Object%))-trQuestVarGet("wagogehmeas"));</Command>
		<Command>trUnitSelectClear();</Command>
      <Command loop="" loopParm="SrcObject">trUnitSelect("%SrcObject%");</Command>
      <Command>trUnitMoveToPoint(trQuestVarGet("oiwghogwhywhlocx"), xsVectorGetY(vector(%Object%)), trQuestVarGet("oiwghogwhywhlocz"), %EventID%, %AttackMove%);</Command>
      <Command>xsSetContextPlayer(trQuestVarGet("fhweaohpgpagowhwa"));</Command>
   </Effect>
   
   <Effect name="Army Move Near Point">
      <Param name="SrcArmy" dispName="Army" varType="group">default</Param>
      <Param name="Object" dispName="Target Area" varType="area">0,0,0</Param>
      <Param name="radius" dispName="Approx. Radius (slightly off)" varType="string">10</Param>
		<Param name="edge" dispName="Edge Only" varType="bool">false</Param>
	  <Param name="EventID" dispName="Trigger" varType="event">-1</Param>
	  <Param name="AttackMove" dispName="Attack Move" varType="bool">false</Param>
       <Command>trQuestVarSet("fhweaohpgpagowhwa", xsGetContextPlayer());</Command>
		<Command>xsSetContextPlayer(0);</Command>
		<Command>kbLookAtAllUnitsOnMap();</Command>
		<Command>trQuestVarSetFromRand("hwfeoaifop", 0, 1, true);</Command>
		<Command>trQuestVarSetFromRand("wagogehmeas", 0, %radius%, true);</Command>
		<Command>if(trQuestVarGet("hwfeoaifop")==0) trQuestVarSet("oiwghogwhywhlocx", xsVectorGetX(vector(%Object%))+trQuestVarGet("wagogehmeas"));</Command>
		<Command>if(trQuestVarGet("hwfeoaifop")==1) trQuestVarSet("oiwghogwhywhlocx", xsVectorGetX(vector(%Object%))-trQuestVarGet("wagogehmeas"));</Command>
		<Command>trQuestVarSet("hwfeoaifopx", 0);</Command>
		<Command>if(%edge%==true) trQuestVarSet("hwfeoaifopx", (%radius%-trQuestVarGet("wagogehmeas")));</Command>
		<Command>trQuestVarSetFromRand("wagogehmeas", trQuestVarGet("hwfeoaifopx"), (%radius%-trQuestVarGet("wagogehmeas")), true);</Command>
		<Command>trQuestVarSetFromRand("hwfeoaifop", 0, 1, true);</Command>
		<Command>if(trQuestVarGet("hwfeoaifop")==0) trQuestVarSet("oiwghogwhywhlocz", xsVectorGetZ(vector(%Object%))+trQuestVarGet("wagogehmeas"));</Command>
		<Command>if(trQuestVarGet("hwfeoaifop")==1) trQuestVarSet("oiwghogwhywhlocz", xsVectorGetZ(vector(%Object%))-trQuestVarGet("wagogehmeas"));</Command>
		<Command>trArmySelect("%SrcArmy%");</Command>
      <Command>trUnitMoveToPoint(trQuestVarGet("oiwghogwhywhlocx"), xsVectorGetY(vector(%Object%)), trQuestVarGet("oiwghogwhywhlocz"), %EventID%, %AttackMove%);</Command>
      <Command>xsSetContextPlayer(trQuestVarGet("fhweaohpgpagowhwa"));</Command>
   </Effect>
   
   <Effect name="Scatter - Random in Area (Point)">
      <Param name="Object" dispName="Center Area" varType="area">0,0,0</Param>
		<Param name="Dst" dispName="Center Area Radius" varType="string">10.0</Param>
		<Param name="UnitId" dispName="Unit Type ID (Optional)" varType="string">-1</Param>
		<Param name="FromPlayer" dispName="From Player Number or 99 for ALL" varType="string">99</Param>
       <Param name="radius" dispName="Scatter Radius" varType="string">10</Param>
		<Param name="edge" dispName="Edge Only" varType="bool">false</Param>
		<Param name="attack" dispName="Attack Move" varType="bool">false</Param>
		<Param name="runsp" dispName="Run Speed" VarType="float">0.0</Param>
		<Command>trQuestVarSet("convarea", 0);</Command>
		<Command>trQuestVarSet("ffweho",0);</Command>
		<Command>if(%FromPlayer%!=99) trQuestVarSet("vroom", %FromPlayer%);</Command>
		<Command>trQuestVarSet("warthog", 0);</Command>
		<Command>trQuestVarSet("zeep", 0);</Command>
		<Command>if(%UnitId%>=0) {</Command>
		<Command>trQuestVarSet("zeep", %UnitId%);</Command>
		<Command>}</Command>
		<Command>if(0>%UnitId%) {</Command>
		<Command>while(kbGetUnitTypeName(trQuestVarGet("zeep"))!="All") {</Command>
		<Command>trQuestVarSet("zeep", trQuestVarGet("zeep")+1);</Command>
		<Command>}}</Command>
		<Command>trQuestVarSet("lastpl", xsGetContextPlayer());</Command>
		<Command>xsSetContextPlayer(0);</Command>
		<Command>kbLookAtAllUnitsOnMap();</Command>
		<Command>if(%FromPlayer%!=99) trQuestVarSet("blarg",%FromPlayer%);</Command>
		<Command>if(%FromPlayer%==99) {</Command>
		<Command>trQuestVarSet("blarg",0);</Command>
		<Command>trQuestVarSet("vroom",12);</Command>
		<Command>}</Command>
		<Command>trQuestVarSet("i",trQuestVarGet("blarg"));</Command>
		<Command>while(trQuestVarGet("vroom")>=trQuestVarGet("i")) {</Command>
		<Command>trQuestVarSet("convarea", kbUnitQueryCreate("convarea"));</Command>
		<Command>kbUnitQuerySetPlayerID(trQuestVarGet("convarea"), trQuestVarGet("i"));</Command>
		<Command>kbUnitQuerySetUnitType(trQuestVarGet("convarea"), trQuestVarGet("zeep"));</Command>
		<Command>kbUnitQuerySetPosition(trQuestVarGet("convarea"), vector(%Object%));</Command>
		<Command>kbUnitQuerySetMaximumDistance(trQuestVarGet("convarea"), %Dst%);</Command>
		<Command>kbUnitQuerySetAscendingSort(trQuestVarGet("convarea"), true);</Command>
		<Command>kbUnitQueryResetResults(trQuestVarGet("convarea"));</Command>
		<Command>trQuestVarSet("warthog", kbUnitQueryExecute(trQuestVarGet("convarea")));</Command>
		<Command>while(trQuestVarGet("warthog")>0) {</Command>
		<Command>trQuestVarSet("warthog", trQuestVarGet("warthog")-1);</Command>
		<Command>trQuestVarSet("ffweho", kbUnitQueryGetResult(trQuestVarGet("convarea"), trQuestVarGet("warthog")));</Command>
		<Command>trUnitSelectClear();</Command>
		<Command>trUnitSelectByID(trQuestVarGet("ffweho"));</Command>
		<Command>trQuestVarSetFromRand("hwfeoaifop", 0, 1, true);</Command>
		<Command>trQuestVarSetFromRand("wagogehmeas", 0, %radius%, true);</Command>
		<Command>if(trQuestVarGet("hwfeoaifop")==0) trQuestVarSet("oiwghogwhywhlocx", xsVectorGetX(vector(%Object%))+trQuestVarGet("wagogehmeas"));</Command>
		<Command>if(trQuestVarGet("hwfeoaifop")==1) trQuestVarSet("oiwghogwhywhlocx", xsVectorGetX(vector(%Object%))-trQuestVarGet("wagogehmeas"));</Command>
		<Command>trQuestVarSet("hwfeoaifopx", 0);</Command>
		<Command>if(%edge%==true) trQuestVarSet("hwfeoaifopx", (%radius%-trQuestVarGet("wagogehmeas")));</Command>
		<Command>trQuestVarSetFromRand("wagogehmeas", trQuestVarGet("hwfeoaifopx"), (%radius%-trQuestVarGet("wagogehmeas")), true);</Command>
		<Command>trQuestVarSetFromRand("hwfeoaifop", 0, 1, true);</Command>
		<Command>if(trQuestVarGet("hwfeoaifop")==0) trQuestVarSet("oiwghogwhywhlocz", xsVectorGetZ(vector(%Object%))+trQuestVarGet("wagogehmeas"));</Command>
		<Command>if(trQuestVarGet("hwfeoaifop")==1) trQuestVarSet("oiwghogwhywhlocz", xsVectorGetZ(vector(%Object%))-trQuestVarGet("wagogehmeas"));</Command>
		<Command>if(%runsp%>0) trUnitMoveToPoint(trQuestVarGet("oiwghogwhywhlocx"), xsVectorGetY(vector(%Object%)), trQuestVarGet("oiwghogwhywhlocz"), -1, %attack%, true, %runsp%);</Command>
		<Command>if(0>=%runsp%) trUnitMoveToPoint(trQuestVarGet("oiwghogwhywhlocx"), xsVectorGetY(vector(%Object%)), trQuestVarGet("oiwghogwhywhlocz"), -1, %attack%, false, %runsp%);</Command>
		<Command>}</Command>
		<Command>trQuestVarSet("i", trQuestVarGet("i")+1);}</Command>
		<Command>xsSetContextPlayer(trQuestVarGet("lastpl"));</Command>
   </Effect>
   
   <Effect name="Scatter - From Orignal Location (Point)">
      <Param name="Object" dispName="Center Area" varType="area">0,0,0</Param>
		<Param name="Dst" dispName="Center Area Radius" varType="string">10.0</Param>
		<Param name="UnitId" dispName="Unit Type ID (Optional)" varType="string">-1</Param>
		<Param name="FromPlayer" dispName="From Player Number or 99 for ALL" varType="string">99</Param>
       <Param name="radius" dispName="Scatter Radius" varType="string">10</Param>
		<Param name="edge" dispName="Edge Only" varType="bool">false</Param>
		<Param name="attack" dispName="Attack Move" varType="bool">false</Param>
		<Param name="runsp" dispName="Run Speed" VarType="float">0.0</Param>
		<Command>trQuestVarSet("convarea", 0);</Command>
		<Command>trQuestVarSet("ffweho",0);</Command>
		<Command>if(%FromPlayer%!=99) trQuestVarSet("vroom", %FromPlayer%);</Command>
		<Command>trQuestVarSet("warthog", 0);</Command>
		<Command>trQuestVarSet("zeep", 0);</Command>
		<Command>if(%UnitId%>=0) {</Command>
		<Command>trQuestVarSet("zeep", %UnitId%);</Command>
		<Command>}</Command>
		<Command>if(0>%UnitId%) {</Command>
		<Command>while(kbGetUnitTypeName(trQuestVarGet("zeep"))!="All") {</Command>
		<Command>trQuestVarSet("zeep", trQuestVarGet("zeep")+1);</Command>
		<Command>}}</Command>
		<Command>trQuestVarSet("lastpl", xsGetContextPlayer());</Command>
		<Command>xsSetContextPlayer(0);</Command>
		<Command>kbLookAtAllUnitsOnMap();</Command>
		<Command>if(%FromPlayer%!=99) trQuestVarSet("blarg",%FromPlayer%);</Command>
		<Command>if(%FromPlayer%==99) {</Command>
		<Command>trQuestVarSet("blarg",0);</Command>
		<Command>trQuestVarSet("vroom",12);</Command>
		<Command>}</Command>
		<Command>trQuestVarSet("i",trQuestVarGet("blarg"));</Command>
		<Command>while(trQuestVarGet("vroom")>=trQuestVarGet("i")) {</Command>
		<Command>trQuestVarSet("convarea", kbUnitQueryCreate("convarea"));</Command>
		<Command>kbUnitQuerySetPlayerID(trQuestVarGet("convarea"), trQuestVarGet("i"));</Command>
		<Command>kbUnitQuerySetUnitType(trQuestVarGet("convarea"), trQuestVarGet("zeep"));</Command>
		<Command>kbUnitQuerySetPosition(trQuestVarGet("convarea"), vector(%Object%));</Command>
		<Command>kbUnitQuerySetMaximumDistance(trQuestVarGet("convarea"), %Dst%);</Command>
		<Command>kbUnitQuerySetAscendingSort(trQuestVarGet("convarea"), true);</Command>
		<Command>kbUnitQueryResetResults(trQuestVarGet("convarea"));</Command>
		<Command>trQuestVarSet("warthog", kbUnitQueryExecute(trQuestVarGet("convarea")));</Command>
		<Command>while(trQuestVarGet("warthog")>0) {</Command>
		<Command>trQuestVarSet("warthog", trQuestVarGet("warthog")-1);</Command>
		<Command>trQuestVarSet("ffweho", kbUnitQueryGetResult(trQuestVarGet("convarea"), trQuestVarGet("warthog")));</Command>
		<Command>trUnitSelectClear();</Command>
		<Command>trUnitSelectByID(trQuestVarGet("ffweho"));</Command>
		<Command>trQuestVarSetFromRand("hwfeoaifop", 0, 1, true);</Command>
		<Command>trQuestVarSetFromRand("wagogehmeas", 0, %radius%, true);</Command>
		<Command>if(trQuestVarGet("hwfeoaifop")==0) trQuestVarSet("oiwghogwhywhlocx", xsVectorGetX(kbUnitGetPosition(trQuestVarGet("ffweho")))+trQuestVarGet("wagogehmeas"));</Command>
		<Command>if(trQuestVarGet("hwfeoaifop")==1) trQuestVarSet("oiwghogwhywhlocx", xsVectorGetX(kbUnitGetPosition(trQuestVarGet("ffweho")))-trQuestVarGet("wagogehmeas"));</Command>
		<Command>trQuestVarSet("hwfeoaifopx", 0);</Command>
		<Command>if(%edge%==true) trQuestVarSet("hwfeoaifopx", (%radius%-trQuestVarGet("wagogehmeas")));</Command>
		<Command>trQuestVarSetFromRand("wagogehmeas", trQuestVarGet("hwfeoaifopx"), (%radius%-trQuestVarGet("wagogehmeas")), true);</Command>
		<Command>trQuestVarSetFromRand("hwfeoaifop", 0, 1, true);</Command>
		<Command>if(trQuestVarGet("hwfeoaifop")==0) trQuestVarSet("oiwghogwhywhlocz", xsVectorGetZ(kbUnitGetPosition(trQuestVarGet("ffweho")))+trQuestVarGet("wagogehmeas"));</Command>
		<Command>if(trQuestVarGet("hwfeoaifop")==1) trQuestVarSet("oiwghogwhywhlocz", xsVectorGetZ(kbUnitGetPosition(trQuestVarGet("ffweho")))-trQuestVarGet("wagogehmeas"));</Command>
		<Command>if(%runsp%>0) trUnitMoveToPoint(trQuestVarGet("oiwghogwhywhlocx"), xsVectorGetY(vector(%Object%)), trQuestVarGet("oiwghogwhywhlocz"), -1, %attack%, true, %runsp%);</Command>
		<Command>if(0>=%runsp%) trUnitMoveToPoint(trQuestVarGet("oiwghogwhywhlocx"), xsVectorGetY(vector(%Object%)), trQuestVarGet("oiwghogwhywhlocz"), -1, %attack%, false, %runsp%);</Command>
		<Command>}</Command>
		<Command>trQuestVarSet("i", trQuestVarGet("i")+1);}</Command>
		<Command>xsSetContextPlayer(trQuestVarGet("lastpl"));</Command>
   </Effect>
	
	<Effect name="Teleport Units in Area (Point)">
		<Param name="Object" dispName="Center Area" varType="area">0,0,0</Param>
		<Param name="Dst" dispName="Radius" varType="string">10.0</Param>
		<Param name="UnitId" dispName="Unit Type ID (Optional)" varType="string">-1</Param>
		<Param name="FromPlayer" dispName="From Player or 99 for ALL" varType="string">99</Param>
		<Param name="Area" dispName="" varType="area">0,0,0</Param>
		<Param name="position" dispName="Retain Unit Positions" varType="bool">false</Param>
		<Command>trQuestVarSet("convarea", 0);</Command>
		<Command>trQuestVarSet("ffweho",0);</Command>
		<Command>if(%FromPlayer%!=99) trQuestVarSet("vroom", %FromPlayer%);</Command>
		<Command>trQuestVarSet("warthog", 0);</Command>
		<Command>trQuestVarSet("zeep", 0);</Command>
		<Command>if(%UnitId%>=0) {</Command>
		<Command>trQuestVarSet("zeep", %UnitId%);</Command>
		<Command>}</Command>
		<Command>if(0>%UnitId%) {</Command>
		<Command>while(kbGetUnitTypeName(trQuestVarGet("zeep"))!="All") {</Command>
		<Command>trQuestVarSet("zeep", trQuestVarGet("zeep")+1);</Command>
		<Command>}}</Command>
		<Command>trQuestVarSet("lastpl", xsGetContextPlayer());</Command>
		<Command>if(%FromPlayer%!=99) trQuestVarSet("blarg",%FromPlayer%);</Command>
		<Command>if(%FromPlayer%==99) {</Command>
		<Command>trQuestVarSet("blarg",0);</Command>
		<Command>trQuestVarSet("vroom",12);</Command>
		<Command>}</Command>
		<Command>trQuestVarSet("i",trQuestVarGet("blarg"));</Command>
		<Command>while(trQuestVarGet("vroom")>=trQuestVarGet("i")) {</Command>
		<Command>xsSetContextPlayer(trQuestVarGet("i"));</Command>
		<Command>kbLookAtAllUnitsOnMap();</Command>
		<Command>trQuestVarSet("convarea", kbUnitQueryCreate("convarea"));</Command>
		<Command>kbUnitQuerySetPlayerID(trQuestVarGet("convarea"), trQuestVarGet("i"));</Command>
		<Command>kbUnitQuerySetUnitType(trQuestVarGet("convarea"), trQuestVarGet("zeep"));</Command>
		<Command>kbUnitQuerySetPosition(trQuestVarGet("convarea"), vector(%Object%));</Command>
		<Command>kbUnitQuerySetMaximumDistance(trQuestVarGet("convarea"), %Dst%);</Command>
		<Command>kbUnitQuerySetAscendingSort(trQuestVarGet("convarea"), true);</Command>
		<Command>kbUnitQueryResetResults(trQuestVarGet("convarea"));</Command>
		<Command>trQuestVarSet("warthog", kbUnitQueryExecute(trQuestVarGet("convarea")));</Command>
		<Command>while(trQuestVarGet("warthog")>0) {</Command>
		<Command>trQuestVarSet("warthog", trQuestVarGet("warthog")-1);</Command>
		<Command>trQuestVarSet("ffweho", kbUnitQueryGetResult(trQuestVarGet("convarea"), trQuestVarGet("warthog")));</Command>
		<Command>trUnitSelectClear();</Command>
		<Command>trUnitSelectByID(trQuestVarGet("ffweho"));</Command>
		<Command>trQuestVarSet("oiwghogwhywhlocx", xsVectorGetX(vector(%Area%)));</Command>
		<Command>if(%position%==true) trQuestVarSet("oiwghogwhywhlocx", xsVectorGetX(vector(%Area%))- (xsVectorGetX(vector(%Object%))-xsVectorGetX(kbUnitGetPosition(trQuestVarGet("ffweho")))));</Command>
		<Command>trQuestVarSet("oiwghogwhywhlocz", xsVectorGetZ(vector(%Area%)));</Command>
		<Command>if(%position%==true) trQuestVarSet("oiwghogwhywhlocz", xsVectorGetZ(vector(%Area%))- (xsVectorGetZ(vector(%Object%))-xsVectorGetZ(kbUnitGetPosition(trQuestVarGet("ffweho")))));</Command>
		<Command>trUnitTeleport(trQuestVarGet("oiwghogwhywhlocx"), xsVectorGetY(vector(%Area%)), trQuestVarGet("oiwghogwhywhlocz"));</Command>
		<Command>}</Command>
		<Command>trQuestVarSet("i", trQuestVarGet("i")+1);}</Command>
		<Command>xsSetContextPlayer(trQuestVarGet("lastpl"));</Command>
	</Effect>
	
	<Effect name="Teleport Units in Area (Point) To Unit">
		<Param name="Object" dispName="Center Area" varType="area">0,0,0</Param>
		<Param name="Dst" dispName="Radius" varType="string">10.0</Param>
		<Param name="UnitId" dispName="Unit Type ID (Optional)" varType="string">-1</Param>
		<Param name="FromPlayer" dispName="From Player or 99 for ALL" varType="string">99</Param>
		<Param name="Objecto" dispName="Target Unit" varType="unit">default</Param>
		<Param name="position" dispName="Retain Unit Positions" varType="bool">false</Param>
		<Command>trQuestVarSet("fhweaohpgpagowhwa", xsGetContextPlayer());</Command>
		<Command>xsSetContextPlayer(0);</Command>
		<Command>kbLookAtAllUnitsOnMap();</Command>
		<Command>trQuestVarSet("convarea", 0);</Command>
		<Command>trQuestVarSet("ffweho",0);</Command>
		<Command>if(%FromPlayer%!=99) trQuestVarSet("vroom", %FromPlayer%);</Command>
		<Command>trQuestVarSet("warthog", 0);</Command>
		<Command>trQuestVarSet("zeep", 0);</Command>
		<Command>if(%UnitId%>=0) {</Command>
		<Command>trQuestVarSet("zeep", %UnitId%);</Command>
		<Command>}</Command>
		<Command>if(0>%UnitId%) {</Command>
		<Command>while(kbGetUnitTypeName(trQuestVarGet("zeep"))!="All") {</Command>
		<Command>trQuestVarSet("zeep", trQuestVarGet("zeep")+1);</Command>
		<Command>}}</Command>
		<Command>if(%FromPlayer%!=99) trQuestVarSet("blarg",%FromPlayer%);</Command>
		<Command>if(%FromPlayer%==99) {</Command>
		<Command>trQuestVarSet("blarg",0);</Command>
		<Command>trQuestVarSet("vroom",12);</Command>
		<Command>}</Command>
		<Command>trQuestVarSet("i",trQuestVarGet("blarg"));</Command>
		<Command>while(trQuestVarGet("vroom")>=trQuestVarGet("i")) {</Command>
		<Command>xsSetContextPlayer(trQuestVarGet("i"));</Command>
		<Command>kbLookAtAllUnitsOnMap();</Command>
		<Command>trQuestVarSet("convarea", kbUnitQueryCreate("convarea"));</Command>
		<Command>kbUnitQuerySetPlayerID(trQuestVarGet("convarea"), trQuestVarGet("i"));</Command>
		<Command>kbUnitQuerySetUnitType(trQuestVarGet("convarea"), trQuestVarGet("zeep"));</Command>
		<Command>kbUnitQuerySetPosition(trQuestVarGet("convarea"), vector(%Object%));</Command>
		<Command>kbUnitQuerySetMaximumDistance(trQuestVarGet("convarea"), %Dst%);</Command>
		<Command>kbUnitQuerySetAscendingSort(trQuestVarGet("convarea"), true);</Command>
		<Command>kbUnitQueryResetResults(trQuestVarGet("convarea"));</Command>
		<Command>trQuestVarSet("warthog", kbUnitQueryExecute(trQuestVarGet("convarea")));</Command>
		<Command>while(trQuestVarGet("warthog")>0) {</Command>
		<Command>trQuestVarSet("warthog", trQuestVarGet("warthog")-1);</Command>
		<Command>trQuestVarSet("ffweho", kbUnitQueryGetResult(trQuestVarGet("convarea"), trQuestVarGet("warthog")));</Command>
		<Command>trUnitSelectClear();</Command>
		<Command>trUnitSelectByID(trQuestVarGet("ffweho"));</Command>
		<Command>trQuestVarSet("oiwghogwhywhlocx", xsVectorGetX(kbUnitGetPosition(%Objecto%)));</Command>
		<Command>if(%position%==true) trQuestVarSet("oiwghogwhywhlocx", xsVectorGetX(kbUnitGetPosition(%Objecto%))- (xsVectorGetX(vector(%Object%))-xsVectorGetX(kbUnitGetPosition(trQuestVarGet("ffweho")))));</Command>
		<Command>trQuestVarSet("oiwghogwhywhlocz", xsVectorGetZ(kbUnitGetPosition(%Objecto%)));</Command>
		<Command>if(%position%==true) trQuestVarSet("oiwghogwhywhlocz", xsVectorGetZ(kbUnitGetPosition(%Objecto%))- (xsVectorGetZ(vector(%Object%))-xsVectorGetZ(kbUnitGetPosition(trQuestVarGet("ffweho")))));</Command>
		<Command>trUnitTeleport(trQuestVarGet("oiwghogwhywhlocx"), xsVectorGetY(kbUnitGetPosition(%Objecto%)), trQuestVarGet("oiwghogwhywhlocz"));</Command>
		<Command>}</Command>
		<Command>trQuestVarSet("i", trQuestVarGet("i")+1);}</Command>
		<Command>xsSetContextPlayer(trQuestVarGet("fhweaohpgpagowhwa"));</Command>
	</Effect>
	
	<Effect name="QV Set Units in Area (Point)">
      <Param name="Object" dispName="Area" varType="area">0,0,0</Param>
      <Param name="FromPlayer" dispName="Player (99 for ALL)" varType="string">99</Param>
      <Param name="UnitId" dispName="Unit Type ID (Optional)" varType="string">-1</Param>
      <Param name="unitstate" dispName="State ID (2=Alive, 255=Any, 4=Dead...)" varType="string">2</Param>
      <Param name="actionid" dispName="Action ID (Optional)" varType="string">-1</Param>
      <Param name="Dst" dispName="Radius" varType="string">10</Param>
	  <Param name="QVName" dispName="QV" varType="string">QV1</Param>
      <Command>trQuestVarSet("convarea", 0);</Command>
		<Command>trQuestVarSet("ffweho",0);</Command>
		<Command>if(%FromPlayer%!=99) trQuestVarSet("vroom", %FromPlayer%);</Command>
		<Command>trQuestVarSet("%QVName%", 0);</Command>
		<Command>trQuestVarSet("zeep", 0);</Command>
		<Command>if(%UnitId%>=0) {</Command>
		<Command>trQuestVarSet("zeep", %UnitId%);</Command>
		<Command>}</Command>
		<Command>if(0>%UnitId%) {</Command>
		<Command>while(kbGetUnitTypeName(trQuestVarGet("zeep"))!="All") {</Command>
		<Command>trQuestVarSet("zeep", trQuestVarGet("zeep")+1);</Command>
		<Command>}}</Command>
		<Command>trQuestVarSet("lastpl", xsGetContextPlayer());</Command>
		<Command>if(%FromPlayer%!=99) trQuestVarSet("blarg",%FromPlayer%);</Command>
		<Command>if(%FromPlayer%==99) {</Command>
		<Command>trQuestVarSet("blarg",0);</Command>
		<Command>trQuestVarSet("vroom",12);</Command>
		<Command>}</Command>
		<Command>trQuestVarSet("i",trQuestVarGet("blarg"));</Command>
		<Command>while(trQuestVarGet("vroom")>=trQuestVarGet("i")) {</Command>
		<Command>xsSetContextPlayer(trQuestVarGet("i"));</Command>
		<Command>kbLookAtAllUnitsOnMap();</Command>
		<Command>trQuestVarSet("convarea", kbUnitQueryCreate("convarea"));</Command>
		<Command>kbUnitQuerySetPlayerID(trQuestVarGet("convarea"), trQuestVarGet("i"));</Command>
		<Command>kbUnitQuerySetUnitType(trQuestVarGet("convarea"), trQuestVarGet("zeep"));</Command>
		<Command>kbUnitQuerySetState(trQuestVarGet("convarea"), 1*%unitstate%);</Command>
		<Command>if(%actionid%!=-1) kbUnitQuerySetActionType(trQuestVarGet("convarea"), 1*%actionid%);</Command>
		<Command>kbUnitQuerySetPosition(trQuestVarGet("convarea"), vector(%Object%));</Command>
		<Command>kbUnitQuerySetMaximumDistance(trQuestVarGet("convarea"), %Dst%);</Command>
		<Command>kbUnitQuerySetAscendingSort(trQuestVarGet("convarea"), true);</Command>
		<Command>kbUnitQueryResetResults(trQuestVarGet("convarea"));</Command>
		<Command>trQuestVarSet("%QVName%", trQuestVarGet("%QVName%")+kbUnitQueryExecute(trQuestVarGet("convarea")));</Command>
		<Command>trQuestVarSet("i", trQuestVarGet("i")+1);}</Command>
		<Command>xsSetContextPlayer(trQuestVarGet("lastpl"));</Command>
   </Effect>
   
   <Effect name="QV Set Unit OBJECT ID in Area (Point)">
	  <Param name="QVName" dispName="QV" varType="string">QV1</Param>
	  <Param name="index" dispName="Index (first unit is 0)" varType="string">0</Param>
      <Param name="Object" dispName="Area" varType="area">0,0,0</Param>
      <Param name="FromPlayer" dispName="Player (99 for ALL)" varType="string">99</Param>
      <Param name="UnitId" dispName="Unit Type ID (Optional)" varType="string">-1</Param>
      <Param name="actionid" dispName="Action ID (Optional)" varType="string">-1</Param>
      <Param name="Dst" dispName="Radius (-1 for ALL)" varType="string">10</Param>
      <Command>trQuestVarSet("convarea", 0);</Command>
		<Command>trQuestVarSet("ffweho",0);</Command>
		<Command>if(%FromPlayer%!=99) trQuestVarSet("vroom", %FromPlayer%);</Command>
		<Command>trQuestVarSet("warthog", 0);</Command>
		<Command>trQuestVarSet("zeep", 0);</Command>
		<Command>if(%UnitId%>=0) {</Command>
		<Command>trQuestVarSet("zeep", %UnitId%);</Command>
		<Command>}</Command>
		<Command>if(0>%UnitId%) {</Command>
		<Command>while(kbGetUnitTypeName(trQuestVarGet("zeep"))!="All") {</Command>
		<Command>trQuestVarSet("zeep", trQuestVarGet("zeep")+1);</Command>
		<Command>}}</Command>
		<Command>trQuestVarSet("lastpl", xsGetContextPlayer());</Command>
		<Command>if(%FromPlayer%!=99) trQuestVarSet("blarg",%FromPlayer%);</Command>
		<Command>if(%FromPlayer%==99) {</Command>
		<Command>trQuestVarSet("blarg",0);</Command>
		<Command>trQuestVarSet("vroom",12);</Command>
		<Command>}</Command>
		<Command>trQuestVarSet("i",trQuestVarGet("blarg"));</Command>
		<Command>while(trQuestVarGet("vroom")>=trQuestVarGet("i")) {</Command>
		<Command>xsSetContextPlayer(trQuestVarGet("i"));</Command>
		<Command>kbLookAtAllUnitsOnMap();</Command>
		<Command>trQuestVarSet("convarea", kbUnitQueryCreate("convarea"));</Command>
		<Command>kbUnitQuerySetPlayerID(trQuestVarGet("convarea"), trQuestVarGet("i"));</Command>
		<Command>kbUnitQuerySetUnitType(trQuestVarGet("convarea"), trQuestVarGet("zeep"));</Command>
		<Command>kbUnitQuerySetState(trQuestVarGet("convarea"), 2);</Command>
		<Command>if(%actionid%!=-1) kbUnitQuerySetActionType(trQuestVarGet("convarea"), 1*%actionid%);</Command>
		<Command>if(%Dst%!=-1) {</Command>
		<Command>kbUnitQuerySetPosition(trQuestVarGet("convarea"), vector(%Object%));</Command>
		<Command>kbUnitQuerySetMaximumDistance(trQuestVarGet("convarea"), %Dst%);}</Command>
		<Command>kbUnitQuerySetAscendingSort(trQuestVarGet("convarea"), true);</Command>
		<Command>kbUnitQueryResetResults(trQuestVarGet("convarea"));</Command>
		<Command>trQuestVarSet("warthog", kbUnitQueryExecute(trQuestVarGet("convarea")));</Command>
		<Command>if(trQuestVarGet("warthog")>0) {</Command>
		<Command>trQuestVarSet("%QVName%", kbUnitQueryGetResult(trQuestVarGet("convarea"), %index%));</Command>
		<Command>}</Command>
		<Command>trQuestVarSet("i", trQuestVarGet("i")+1);}</Command>
		<Command>xsSetContextPlayer(trQuestVarGet("lastpl"));</Command>
   </Effect>
	
</Effects>

</trigger>