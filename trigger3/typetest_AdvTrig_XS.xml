<?xml version = "1.0"?>
<trigger version="2">

<!--

Advanced Triggers Set for AOE3
by pftq

Please refer to the readme included with the download for detailed help on how to properly use these effects.

About XS Effects: These effects are duplicates of currently existing effects.  However, they have all fields set to receive ANY form of input.  This includes QV, Unit OBJECT ID, XS code... or just the normal value if you want.  Again these are optional but very powerful - discard if you find they are too advanced for your use. :p

www.pftq.com
a pftq production!
February 5 2007

-->

<Conditions>

   <Condition name="XS - Timer">
      <Param name="Param1" dispName="Seconds" varType="string">0</Param>
      <Expression>(trTime()-cActivationTime) >= %Param1%</Expression>
   </Condition>

   <Condition name="XS - Timer ms">
      <Param name="Param1" dispName="Milliseconds" varType="string">0</Param>
      <Expression>(trTimeMS()-(cActivationTime*1000)) >= %Param1%</Expression>
   </Condition>
   
   <Condition name="XS - Distance to Unit">
      <Param name="SrcObject" dispName="Source Units" VarType="unit">default</Param>
      <Param name="Object" dispName="Target Unit OBJECT ID" VarType="string">0</Param>
	  <Param name="Op" dispName="Operator" VarType="operator">==</Param>
      <Param name="Dist" dispName="Distance" VarType="string">0</Param>
      <Command>trUnitSelectClear();</Command>
      <Command loop="" loopParm="SrcObject">trUnitSelect("%SrcObject%");</Command>
      <Command>trQuestVarSet("fhweaohpgpagowhwa", xsGetContextPlayer());</Command>
		<Command>xsSetContextPlayer(0);</Command>
		<Command>kbLookAtAllUnitsOnMap();</Command>
		<Command>trQuestVarSet("fhewoyf", xsVectorGetX(kbUnitGetPosition(1*%Object%)));</Command>
		<Command>trQuestVarSet("fhewoydfe", xsVectorGetY(kbUnitGetPosition(1*%Object%)));</Command>
		<Command>trQuestVarSet("fhewoyq", xsVectorGetZ(kbUnitGetPosition(1*%Object%)));</Command>
		<Command>xsSetContextPlayer(trQuestVarGet("fhweaohpgpagowhwa"));</Command>
        <Expression>trUnitDistanceToPoint(trQuestVarGet("fhewoyf"),trQuestVarGet("fhewoydfe"),trQuestVarGet("fhewoyq")) %Op% %Dist%</Expression>
   </Condition>
   
   <Condition name="XS - Distance (OBJECT ID) to Unit">
      <Param name="SrcObject" dispName="Source Unit OBJECT ID" VarType="string">0</Param>
      <Param name="Object" dispName="Target Unit OBJECT ID" VarType="string">0</Param>
	  <Param name="Op" dispName="Operator" VarType="operator">==</Param>
      <Param name="Dist" dispName="Distance" VarType="string">0</Param>
      <Command>trUnitSelectClear();</Command>
      <Command>trUnitSelectByID(1*%SrcObject%);</Command>
      <Command>trQuestVarSet("fhweaohpgpagowhwa", xsGetContextPlayer());</Command>
		<Command>xsSetContextPlayer(0);</Command>
		<Command>kbLookAtAllUnitsOnMap();</Command>
		<Command>trQuestVarSet("fhewoyf", xsVectorGetX(kbUnitGetPosition(1*%Object%)));</Command>
		<Command>trQuestVarSet("fhewoydfe", xsVectorGetY(kbUnitGetPosition(1*%Object%)));</Command>
		<Command>trQuestVarSet("fhewoyq", xsVectorGetZ(kbUnitGetPosition(1*%Object%)));</Command>
		<Command>xsSetContextPlayer(trQuestVarGet("fhweaohpgpagowhwa"));</Command>
        <Expression>trUnitDistanceToPoint(trQuestVarGet("fhewoyf"),trQuestVarGet("fhewoydfe"),trQuestVarGet("fhewoyq")) %Op% %Dist%</Expression>
   </Condition>

   <Condition name="XS - Units in Area">
      <Param name="Object" dispName="Center Unit OBJECT ID" varType="string">0</Param>
      <Param name="FromPlayer" dispName="Player (99 for ALL)" varType="string">99</Param>
      <Param name="UnitId" dispName="Unit Type ID (Optional)" varType="string">-1</Param>
      <Param name="Dst" dispName="Radius" varType="string">10</Param>
	   <Param name="Op" dispName="Operator" varType="operator">==</Param>
      <Param name="Count" dispName="Count" varType="string">1</Param>
      <Command>trQuestVarSet("convarea", 0);</Command>
		<Command>trQuestVarSet("ffweho",0);</Command>
		<Command>if(%FromPlayer%!=99) trQuestVarSet("vroom", %FromPlayer%);</Command>
		<Command>trQuestVarSet("fgei2iuf3yti3qt23", 0);</Command>
		<Command>trQuestVarSet("zeep", 0);</Command>
		<Command>if(%UnitId%>=0) {</Command>
		<Command>trQuestVarSet("zeep", %UnitId%);</Command>
		<Command>}</Command>
		<Command>if(0>%UnitId%) {</Command>
		<Command>while(kbGetUnitTypeName(trQuestVarGet("zeep"))!="All") {</Command>
		<Command>trQuestVarSet("zeep", trQuestVarGet("zeep")+1);</Command>
		<Command>}}</Command>
		<Command>trQuestVarSet("lastpl", xsGetContextPlayer());</Command>
		<Command>if(%FromPlayer%!=99) trQuestVarSet("blarg",%FromPlayer%);</Command>
		<Command>if(%FromPlayer%==99) {</Command>
		<Command>trQuestVarSet("blarg",0);</Command>
		<Command>trQuestVarSet("vroom",12);</Command>
		<Command>}</Command>
		<Command>trQuestVarSet("i",trQuestVarGet("blarg"));</Command>
		<Command>while(trQuestVarGet("vroom")>=trQuestVarGet("i")) {</Command>
		<Command>xsSetContextPlayer(trQuestVarGet("i"));</Command>
		<Command>kbLookAtAllUnitsOnMap();</Command>
		<Command>trQuestVarSet("convarea", kbUnitQueryCreate("convarea"));</Command>
		<Command>kbUnitQuerySetPlayerID(trQuestVarGet("convarea"), trQuestVarGet("i"));</Command>
		<Command>kbUnitQuerySetUnitType(trQuestVarGet("convarea"), trQuestVarGet("zeep"));</Command>
		<Command>kbUnitQuerySetPosition(trQuestVarGet("convarea"), kbUnitGetPosition(1*%Object%));</Command>
		<Command>kbUnitQuerySetMaximumDistance(trQuestVarGet("convarea"), %Dst%);</Command>
		<Command>kbUnitQuerySetAscendingSort(trQuestVarGet("convarea"), true);</Command>
		<Command>kbUnitQueryResetResults(trQuestVarGet("convarea"));</Command>
		<Command>trQuestVarSet("fgei2iuf3yti3qt23", trQuestVarGet("fgei2iuf3yti3qt23")+kbUnitQueryExecute(trQuestVarGet("convarea")));</Command>
		<Command>trQuestVarSet("i", trQuestVarGet("i")+1);}</Command>
		<Command>xsSetContextPlayer(trQuestVarGet("lastpl"));</Command>
      <Expression>trQuestVarGet("fgei2iuf3yti3qt23") %Op% %Count%</Expression>
   </Condition>
   
   <Condition name="XS - Is Alive">
      <Param name="SrcObject" dispName="Source Unit OBJECT ID" VarType="string">0</Param>
      <Command>trUnitSelectClear();</Command>
      <Command>trUnitSelectByID(1*%SrcObject%);</Command>
      <Expression>trUnitAlive()==true</Expression>
   </Condition>

   <Condition name="XS - Is Dead">
      <Param name="SrcObject" dispName="Source Unit OBJECT ID" VarType="string">0</Param>
      <Command>trUnitSelectClear();</Command>
      <Command>trUnitSelectByID(1*%SrcObject%);</Command>
      <Expression>trUnitDead()==true</Expression>
   </Condition>

   <Condition name="XS - Tech Available">
	  <Param name="PlayerID" dispName="Player" varType="string">0</Param>
	  <Param name="TechID" dispName="Tech" varType="tech">0</Param>
      <Expression>trTechStatusActive(%PlayerID%, %TechID%)</Expression>
   </Condition>

   <Condition name="XS - Tech Researching">
	  <Param name="PlayerID" dispName="Player" varType="string">0</Param>
	  <Param name="TechID" dispName="Tech" varType="tech">0</Param>
      <Expression>trTechStatusResearching(%PlayerID%, %TechID%)</Expression>
   </Condition>
   
   <Condition name="XS - Unit in LOS">
   	  <Param name="SrcObject" dispName="Source Unit OBJECT ID" VarType="string">0</Param>
	  <Param name="PlayerID" dispName="Player" VarType="string">0</Param>
      <Command>trUnitSelectClear();</Command>
      <Command>trUnitSelectByID(1*%SrcObject%);</Command>
      <Expression>trUnitHasLOS(%PlayerID%)</Expression>
   </Condition>

   <Condition name="XS - Percent Complete">
	  <Param name="SrcObject" dispName="Source Unit OBJECT ID" varType="string">0</Param>
	  <Param name="Op" dispName="Operator" varType="operator">==</Param>
	  <Param name="Percent" dispName="Percent" varType="string">100</Param>
      <Command>trUnitSelectClear();</Command>
      <Command>trUnitSelectByID(1*%SrcObject%);</Command>
	  <Expression>trUnitPercentComplete() %Op% %Percent%</Expression>
   </Condition>

   <Condition name="XS - Percent Damaged">
	  <Param name="SrcObject" dispName="Source Unit OBJECT ID" varType="string">0</Param>
	  <Param name="Op" dispName="Operator" varType="operator">==</Param>
	  <Param name="Percent" dispName="Percent" varType="string">100</Param>
      <Command>trUnitSelectClear();</Command>
      <Command>trUnitSelectByID(1*%SrcObject%);</Command>
	  <Expression>trUnitPercentDamaged() %Op% %Percent%</Expression>
   </Condition>

   <Condition name="XS - All Units Dead">
	  <Param name="PlayerID" dispName="Player" varType="string">0</Param>
      <Expression>trPlayerUnitCount(%PlayerID%)==0</Expression>
   </Condition>

   <Condition name="XS - All Buildings Dead">
	  <Param name="PlayerID" dispName="Player" varType="string">0</Param>
      <Expression>trPlayerBuildingCount(%PlayerID%)==0</Expression>
   </Condition>

   <Condition name="XS - All Units And Buildings Dead">
	  <Param name="PlayerID" dispName="Player" varType="string">0</Param>
      <Expression>trPlayerUnitAndBuildingCount(%PlayerID%)==0</Expression>
   </Condition>

   <Condition name="XS - Player Is Building">
	  <Param name="PlayerID" dispName="Player" varType="string">0</Param>
	  <Param name="ProtoUnit" dispName="Unit" varType="protounit">default</Param>
	  <Param name="Op" dispName="Operator" varType="operator">==</Param>
	  <Param name="Count" dispName="Number" varType="string">1</Param>
      <Expression>trPlayerCountBuildingInProgress(%PlayerID%, "%ProtoUnit%") %Op% %Count%</Expression>
   </Condition>

   <Condition name="XS - Player Unit Count">
	  <Param name="PlayerID" dispName="Player" varType="string">0</Param>
	  <Param name="ProtoUnit" dispName="Unit" varType="protounit">default</Param>
	  <Param name="Op" dispName="Operator" varType="operator">==</Param>
	  <Param name="Count" dispName="Number" varType="string">1</Param>
      <Expression>trPlayerUnitCountSpecific(%PlayerID%, "%ProtoUnit%") %Op% %Count%</Expression>
   </Condition>

   <Condition name="XS - Player Resource Count">
	  <Param name="PlayerID" dispName="Player" varType="string">0</Param>
	  <Param name="Resource" dispName="Resource" varType="resource">food</Param>
	  <Param name="Op" dispName="Operator" varType="operator">==</Param>
	  <Param name="Count" dispName="Number" varType="string">1</Param>
      <Expression>trPlayerResourceCount(%PlayerID%, "%Resource%") %Op% %Count%</Expression>
   </Condition>

   <Condition name="XS - Player Defeated">
	  <Param name="PlayerID" dispName="Player" varType="string">0</Param>
      <Expression>trPlayerDefeated(%PlayerID%)</Expression>
   </Condition>

   <Condition name="XS - Player Active">
	  <Param name="PlayerID" dispName="Player" varType="string">0</Param>
      <Expression>trPlayerActive(%PlayerID%)</Expression>
   </Condition>

   <Condition name="XS - Player At Pop Cap">
	  <Param name="PlayerID" dispName="Player" varType="string">0</Param>
      <Expression>trPlayerAtPopCap(%PlayerID%)</Expression>
   </Condition>

   <Condition name="XS - Player Population">
	  <Param name="PlayerID" dispName="Player" varType="string">0</Param>
	  <Param name="Op" dispName="Operator" varType="operator">==</Param>
	  <Param name="Count" dispName="Number" varType="string">1</Param>
      <Expression>trPlayerGetPopulation(%PlayerID%) %Op% %Count%</Expression>
   </Condition>

   <Condition name="XS - Diplomacy Change">
	  <Param name="Player1" dispName="Player" varType="string">0</Param>
      <Param name="Status" dispName="Status" varType="alliance">ally</Param>
	  <Param name="Player2" dispName="Player" varType="string">0</Param>
      <Expression>trPlayerGetDiplomacy(%Player1%, %Player2%) == "%Status%"</Expression>
   </Condition>

   <Condition name="XS - Difficulty Level">
	  <Param name="Op" dispName="Operator" varType="operator">==</Param>
      <Param name="Level" dispName="Level" varType="string">0</Param>
      <Expression>trGetWorldDifficulty() %Op% %Level%</Expression>
   </Condition>

   <!-- Army Related -->
   <Condition name="XS - Army Distance to Unit Location">
      <Param name="SrcArmy" dispName="Army" varType="group">default</Param>
      <Param name="Object" dispName="Target Unit OBJECT ID" varType="string">0</Param>
	  <Param name="Op" dispName="Operator" varType="operator">==</Param>
      <Param name="Dist" dispName="Distance" varType="string">0</Param>
        <Command>trArmySelect("%SrcArmy%");</Command>
        <Command>trQuestVarSet("fhweaohpgpagowhwa", xsGetContextPlayer());</Command>
		<Command>xsSetContextPlayer(0);</Command>
		<Command>kbLookAtAllUnitsOnMap();</Command>
		<Command>trQuestVarSet("fhewoyf", xsVectorGetX(kbUnitGetPosition(1*%Object%)));</Command>
		<Command>trQuestVarSet("fhewoydfe", xsVectorGetY(kbUnitGetPosition(1*%Object%)));</Command>
		<Command>trQuestVarSet("fhewoyq", xsVectorGetZ(kbUnitGetPosition(1*%Object%)));</Command>
		<Command>xsSetContextPlayer(trQuestVarGet("fhweaohpgpagowhwa"));</Command>
        <Expression>trUnitDistanceToPoint(trQuestVarGet("fhewoyf"),trQuestVarGet("fhewoydfe"),trQuestVarGet("fhewoyq")) %Op% %Dist%</Expression>
   </Condition>

   <Condition name="XS - Army in LOS">
      <Param name="SrcArmy" dispName="Army" varType="group">default</Param>
	  <Param name="PlayerID" dispName="Player" varType="string">0</Param>
      <Command>trArmySelect("%SrcArmy%");</Command>
      <Expression>trUnitHasLOS(%PlayerID%)</Expression>
   </Condition>

   <Condition name="XS - Army Owned">
	  <Param name="Player" dispName="Player" varType="string">0</Param>
      <Param name="SrcArmy" dispName="Army" varType="group">default</Param>
      <Command>trArmySelect("%SrcArmy%");</Command>
      <Expression>trUnitIsOwnedBy(%Player%)</Expression>
   </Condition>

  <!-- X-Pack -->

   <Condition name="XS - Chat Contains">
      <Param name="Text" dispName="Text" varType="stringid">default</Param>
	   <Param name="PlayerID" dispName="From Player" varType="string">0</Param>
      <Expression>trChatHistoryContains("%Text%", %PlayerID%)</Expression>
   </Condition>

   <Condition name="XS - Stat Value">
	   <Param name="PlayerID" dispName="Fake Player" varType="string">0</Param>
	   <Param name="StatID" dispName="Stat Type" varType="kbstat">0</Param>
	   <Param name="Op" dispName="Operator" varType="operator">==</Param>
      <Param name="Value" dispName="Value" varType="string">0</Param>
      <Expression>trGetStatValue(%PlayerID%, %StatID%) %Op% %Value%</Expression>
   </Condition>

   <Condition name="XS - Quest Var Check">
      <Param name="QuestVar" dispName="Var Name" varType="string">QV1</Param>
	   <Param name="Op" dispName="Operator" varType="operator">==</Param>
      <Param name="Value" dispName="Value" varType="string">1</Param>
      <Expression>trQuestVarGet("%QuestVar%") %Op% %Value%</Expression>
   </Condition>

  <!-- New Conditions -->

    <Condition name="XS - PLAYER Civilisation">
	    <Param name="Player" dispName="Player" varType="string">1</Param>
	    <Param name="Op" dispName="Operator" varType="operator">==</Param>
	    <Param name="MyString" dispName="Civilisation" varType="string">Zeus</Param>
	    <Expression>kbGetCivName(kbGetCivForPlayer(%Player%)) %Op% "%MyString%"</Expression>
    </Condition>

    <Condition name="XS - PLAYER Culture">
	    <Param name="Player" dispName="Player" varType="string">1</Param>
	    <Param name="Op" dispName="Operator" varType="operator">==</Param>
	    <Param name="MyString" dispName="Culture" varType="string">Greek</Param>
        <Expression>kbGetCultureName(kbGetCultureForPlayer(%Player%)) %Op% "%MyString%"</Expression>
    </Condition>

	<Condition name="XS - PLAYER Human">
		<Param name="Player" dispName="Player" varType="string">1</Param>
		<Param name="MyBool" dispName="YesNo" varType="bool">True</Param>
		<Expression>kbIsPlayerHuman(%Player%)==%MyBool%</Expression>
	</Condition>

	<Condition name="XS - PLAYER Exists In Game">
		<Param name="Player" dispName="Player" varType="string">1</Param>
		<Param name="MyBool" dispName="YesNo" varType="bool">True</Param>
		<Expression>kbIsPlayerValid(%Player%)==%MyBool%</Expression>
	</Condition>

	<Condition name="XS - PLAYER Team">
		<Param name="Player" dispName="Player" varType="string">1</Param>
		<Param name="Op" dispName="Operator" varType="operator">==</Param>
		<Param name="MyInt" dispName="Team" varType="string">1</Param>
		<Expression>kbGetPlayerTeam(%Player%) %Op% %MyInt%</Expression>
	</Condition>

	<!-- XS und QV -->

</Conditions>

<Effects>

   <Effect name="XS - Set Tech Status">
	  <Param name="PlayerID" dispName="Player" varType="string">0</Param>
	  <Param name="TechID" dispName="Tech" varType="tech">0</Param>
	  <Param name="Status" dispName="Status" varType="techstatus">4</Param>
	  <Command>trTechSetStatus(%PlayerID%, %TechID%, %Status%);</Command>
   </Effect>

   <Effect name="XS - Send Chat">
	   <Param name="PlayerID" dispName="From Player" varType="string">0</Param>
	   <Param name="Message" dispName="Message" varType="stringid">default</Param>
	   <Command>trChatSend(%PlayerID%, "%Message%");</Command>
   </Effect>

   <Effect name="XS - Tribute">
	  <Param name="FromPlayerID" dispName="From Player" varType="string">0</Param>
	  <Param name="ToPlayerID" dispName="To Player" varType="string">0</Param>
      <Param name="ResName" dispName="Resource" varType="resource">food</Param>
	  <Param name="Amount" dispName="Amount" varType="string">100</Param>
      <Command>trPlayerTribute(%FromPlayerID%, "%ResName%", %Amount%, %ToPlayerID%);</Command>
   </Effect>

   <Effect name="XS - Grant Resources">
	  <Param name="PlayerID" dispName="Player" varType="string">0</Param>
      <Param name="ResName" dispName="Resource" varType="resource">food</Param>
	  <Param name="Amount" dispName="Amount" varType="string">100</Param>
      <Command>trPlayerGrantResources(%PlayerID%, "%ResName%", %Amount%);</Command>
   </Effect>

   <Effect name="XS - Diplomacy">
	  <Param name="Player1" dispName="Player" varType="string">0</Param>
      <Param name="Status" dispName="Status" varType="alliance">ally</Param>
	  <Param name="Player2" dispName="Player" varType="string">0</Param>
      <Command>trPlayerSetDiplomacy(%Player1%, %Player2%, "%Status%");</Command>
   </Effect>
   
   <Effect name="XS - Move to Unit Location">
      <Param name="SelObject" dispName="Source Units" varType="unit">default</Param>
      <Param name="Object" dispName="Target Unit OBJECT ID" varType="string">0</Param>
	  <Param name="EventID" dispName="Trigger" varType="event">-1</Param>
	  <Param name="AttackMove" dispName="Attack Move" varType="bool">false</Param>
      <Command>trUnitSelectClear();</Command>
      <Command loop="" loopParm="SelObject">trUnitSelect("%SelObject%");</Command>
      <Command>trQuestVarSet("fhweaohpgpagowhwa", xsGetContextPlayer());</Command>
		<Command>xsSetContextPlayer(0);</Command>
		<Command>kbLookAtAllUnitsOnMap();</Command>
		<Command>trUnitMoveToPoint(xsVectorGetX(kbUnitGetPosition(1*%Object%)),xsVectorGetY(kbUnitGetPosition(1*%Object%)),xsVectorGetZ(kbUnitGetPosition(1*%Object%)), %EventID%, %AttackMove%);</Command>
		<Command>xsSetContextPlayer(trQuestVarGet("fhweaohpgpagowhwa"));</Command>
   </Effect>
   
   <Effect name="XS - Move (OBJECT ID) to Unit Location">
      <Param name="SelObject" dispName="Source Unit OBJECT ID" varType="string">0</Param>
      <Param name="Object" dispName="Target Unit OBJECT ID" varType="string">0</Param>
	  <Param name="EventID" dispName="Trigger" varType="event">-1</Param>
	  <Param name="AttackMove" dispName="Attack Move" varType="bool">false</Param>
      <Command>trUnitSelectClear();</Command>
      <Command>trUnitSelectByID(1*%SelObject%);</Command>
      <Command>trQuestVarSet("fhweaohpgpagowhwa", xsGetContextPlayer());</Command>
		<Command>xsSetContextPlayer(0);</Command>
		<Command>kbLookAtAllUnitsOnMap();</Command>
		<Command>trUnitMoveToPoint(xsVectorGetX(kbUnitGetPosition(1*%Object%)),xsVectorGetY(kbUnitGetPosition(1*%Object%)),xsVectorGetZ(kbUnitGetPosition(1*%Object%)), %EventID%, %AttackMove%);</Command>
		<Command>xsSetContextPlayer(trQuestVarGet("fhweaohpgpagowhwa"));</Command>
   </Effect>
   
   <Effect name="XS - Unit Heading">
      <Param name="SrcObject" dispName="Source Unit OBJECT ID" varType="string">0</Param>
	  <Param name="Heading" dispName="Heading" varType="string">0</Param>
      <Command>trUnitSelectClear();</Command>
      <Command>trUnitSelectByID(1*%SrcObject%);</Command>
	  <Command>trUnitSetHeading(%Heading%);</Command>
   </Effect>
   
   <Effect name="XS - Highlight Unit">
      <Param name="SrcObject" dispName="Unit OBJECT ID" varType="string">0</Param>
	  <Param name="Duration" dispName="Seconds" varType="string">2.5</Param>
	  <Command>trUnitSelectClear();</Command>
      <Command>trUnitSelectByID(1*%SrcObject%);</Command>
      <Command>trUnitHighlight(%Duration%, false);</Command>
   </Effect>
   
   <Effect name="XS - Change Unit Type">
      <Param name="SrcObject" dispName="Unit OBJECT ID" varType="string">0</Param>
	  <Param name="ProtoUnit" dispName="ProtoUnit" varType="protounit">Villager</Param>
	  <Command>trUnitSelectClear();</Command>
      <Command>trUnitSelectByID(1*%SrcObject%);</Command>
      <Command>trUnitChangeProtoUnit("%ProtoUnit%");</Command>
   </Effect>
   
   <Effect name="XS - Flash Unit">
      <Param name="SrcObject" dispName="Unit OBJECT ID" varType="string">0</Param>
	  <Param name="Duration" dispName="Seconds" varType="string">2.5</Param>
	  <Command>trUnitSelectClear();</Command>
      <Command>trUnitSelectByID(1*%SrcObject%);</Command>
      <Command>trUnitHighlight(%Duration%, true);</Command>
   </Effect>
   
   <Effect name="XS - Damage Unit Percent">
      <Param name="SrcObject" dispName="Unit OBJECT ID" varType="string">0</Param>
	   <Param name="DamagePct" dispName="DamagePct" varType="string">50</Param>
	   <Command>trUnitSelectClear();</Command>
      <Command>trUnitSelectByID(1*%SrcObject%);</Command>
      <Command>trDamageUnitPercent(%DamagePct%);</Command>
   </Effect>

   <Effect name="XS - Damage Unit">
      <Param name="SrcObject" dispName="Unit OBJECT ID" varType="string">0</Param>
	   <Param name="DamageAmt" dispName="DamagePct" varType="string">1</Param>
	   <Command>trUnitSelectClear();</Command>
      <Command>trUnitSelectByID(1*%SrcObject%);</Command>
      <Command>trDamageUnit(%DamageAmt%);</Command>
   </Effect>
   
   <Effect name="XS - Change Name">
      <Param name="SrcObject" dispName="Unit OBJECT ID" varType="string">0</Param>
      <Param name="NewName" dispName="Name" varType="stringid">Name</Param>
	   <Command>trUnitSelectClear();</Command>
      <Command>trUnitSelectByID(1*%SrcObject%);</Command>
      <Command>trUnitChangeName("%NewName%");</Command>
   </Effect>
   
   <Effect name="XS - Destroy">
      <Param name="SrcObject" dispName="Unit OBJECT ID" varType="string">0</Param>
	  <Command>trUnitSelectClear();</Command>
      <Command>trUnitSelectByID(1*%SrcObject%);</Command>
      <Command>trUnitDestroy();</Command>
   </Effect>

   <Effect name="XS - Kill">
      <Param name="SrcObject" dispName="Unit OBJECT ID" varType="string">0</Param>
	  <Command>trUnitSelectClear();</Command>
      <Command>trUnitSelectByID(1*%SrcObject%);</Command>
      <Command>trUnitDelete(false);</Command>
   </Effect>

   <Effect name="XS - Convert">
      <Param name="SrcObject" dispName="Unit OBJECT ID" varType="string">0</Param>
	  <Param name="PlayerID" dispName="Player" varType="string">0</Param>
	  <Command>trUnitSelectClear();</Command>
      <Command>trUnitSelectByID(1*%SrcObject%);</Command>
      <Command>trUnitConvert(%PlayerID%);</Command>
   </Effect>

	<!-- Army Related -->
   <Effect name="XS - Army Deploy">
      <Param name="SrcArmy" dispName="Army" varType="group">default</Param>
	  <Param name="ProtoName" dispName="ProtoName" varType="protounit">Villager</Param>
	  <Param name="Location" dispName="" varType="area">0,0,0</Param>
	  <Param name="Count"  dispName="Count" varType="string">0</Param>
	  <Param name="Heading"  dispName="Heading" varType="string">0</Param>
	  <Param name="Clear" dispName="Clear Existing Units:" varType="bool">true</Param>
	  <Command>trArmyDispatch("%SrcArmy%", "%ProtoName%", %Count%, %Location%, %Heading%, %Clear%);</Command>
   </Effect>

  <Effect name="XS - Army Move to Unit Location">
      <Param name="SrcArmy" dispName="Army" varType="group">default</Param>
      <Param name="Object" dispName="Target Unit OBJECT ID" varType="string">0</Param>
	  <Param name="EventID" dispName="Trigger" varType="event">-1</Param>
	  <Param name="AttackMove" dispName="Attack Move" varType="bool">false</Param>
      <Command>trArmySelect("%SrcArmy%");</Command>
      <Command>trQuestVarSet("fhweaohpgpagowhwa", xsGetContextPlayer());</Command>
		<Command>xsSetContextPlayer(0);</Command>
		<Command>kbLookAtAllUnitsOnMap();</Command>
		<Command>trUnitMoveToPoint(xsVectorGetX(kbUnitGetPosition(1*%Object%)),xsVectorGetY(kbUnitGetPosition(1*%Object%)),xsVectorGetZ(kbUnitGetPosition(1*%Object%)), %EventID%, %AttackMove%);</Command>
		<Command>xsSetContextPlayer(trQuestVarGet("fhweaohpgpagowhwa"));</Command>
   </Effect>
   
   <Effect name="XS - Army Heading">
      <Param name="SrcArmy" dispName="Army" varType="group">default</Param>
      <Param name="Heading" dispName="Heading" varType="string">0</Param>
      <Command>trArmySelect("%SrcArmy%");</Command>
      <Command>trUnitSetHeading(%Heading%);</Command>
   </Effect>

   <Effect name="XS - Counter:Add Timer">
	  <Param name="Name" dispName="Name" varType="string">countdown</Param>
	  <Param name="Start" dispName="Start" varType="string">30</Param>
	  <Param name="Stop" dispName="Stop" varType="string">0</Param>
	  <Param name="Msg" dispName="Message" varType="stringid">The End is Near</Param>
	  <Param name="Event" dispName="Trigger" varType="event">0</Param>
      <Command>trCounterAddTime("%Name%", %Start%, %Stop%, "%Msg%", %Event%);</Command>
   </Effect>

   <Effect name="XS - Counter:Add Unit">
	  <Param name="Name" dispName="Name" varType="string">countdown</Param>
	  <Param name="Player" dispName="Player" varType="string">0</Param>
	  <Param name="ProtoUnit" dispName="ProtoUnit" varType="protounit">Villager</Param>
	  <Param name="Count" dispName="Total" varType="string">0</Param>
	  <Param name="Msg" dispName="Message" varType="stringid">The End is Near</Param>
	  <Param name="Event" dispName="Trigger" varType="event">0</Param>
      <Command>trCounterAddUnit("%Name%", %Player%, %Count%, "%ProtoUnit%", "%Msg%", %Event%);</Command>
   </Effect>

   <Effect name="XS - Player LOS Change">
	  <Param name="Player1" dispName="Player" varType="string">0</Param>
	  <Param name="CanSee" dispName="Has LOS" varType="bool">true</Param>
	  <Param name="Player2" dispName="Player" varType="string">0</Param>
      <Command>trPlayerModifyLOS(%Player1%, %CanSee%, %Player2%);</Command>
   </Effect>

   <Effect name="XS - Rate Construction">
	  <Param name="Rate" dispName="Rate" varType="string">1.0</Param>
      <Command>trRateConstruction(%Rate%);</Command>
   </Effect>

   <Effect name="XS - Rate Training">
	  <Param name="Rate" dispName="Rate" varType="string">1.0</Param>
      <Command>trRateTrain(%Rate%);</Command>
   </Effect>

   <Effect name="XS - Rate Research">
	  <Param name="Rate" dispName="Rate" varType="string">1.0</Param>
      <Command>trRateResearch(%Rate%);</Command>
   </Effect>

   <Effect name="XS - Player Set Active">
	  <Param name="Player" dispName="Player" varType="string">0</Param>
      <Command>trPlayerSetActive(%Player%);</Command>
   </Effect>

   <Effect name="XS - Flare Minimap">
      <Param name="PlayerID" dispName="Player" varType="string">0</Param>
      <Param name="Duration" dispName="Duration" varType="string">1.0</Param>
      <Param name="Position" dispName="X" varType="area">0,0,0</Param>
      <Param name="Flash" dispName="Flash" varType="bool">true</Param>
      <Command>trMinimapFlare(%PlayerID%, %Duration%, vector(%Position%), %Flash%);</Command>
   </Effect>

   <Effect name="XS - Player Destroy All Units">
      <Param name="Player" dispName="Player" varType="string">0</Param>
      <Command>trPlayerKillAllUnits(%Player%);</Command>
   </Effect>

   <Effect name="XS - Player Destroy All Buildings">
      <Param name="Player" dispName="Player" varType="string">0</Param>
      <Command>trPlayerKillAllBuildings(%Player%);</Command>
   </Effect>

   <Effect name="XS - Set Player Defeated">
      <Param name="Player" dispName="Player" varType="string">0</Param>
      <Command>trSetPlayerDefeated(%Player%);</Command>
   </Effect>

   <Effect name="XS - Set Player Won">
      <Param name="Player" dispName="Player" varType="string">0</Param>
      <Command>trSetPlayerWon(%Player%);</Command>
   </Effect>

   <Effect name="XS - Unforbid and Enable Unit">
	  <Param name="PlayerID" dispName="Player" varType="string">0</Param>
	  <Param name="ProtoUnit" dispName="Unit" varType="protounit">default</Param>
     <Command>trUnforbidProtounit(%PlayerID%, "%ProtoUnit%");</Command>
   </Effect>

   <Effect name="XS - Send Spoofed Chat">
	   <Param name="PlayerID" dispName="Fake Player" varType="string">0</Param>
	   <Param name="Message" dispName="Message" varType="stringid">default</Param>
	   <Command>trChatSendSpoofed(%PlayerID%, "%Message%");</Command>
   </Effect>

   <Effect name="XS - Damage Units in Area">
      <Param name="SrcObject" dispName="Center Unit OBJECT ID" varType="string">0</Param>
      <Param name="Player" dispName="Player" varType="string">0</Param>
      <Param name="UnitType" dispName="Unit Type" varType="string">Unit</Param>
      <Param name="Dist" dispName="Radius" varType="string">10</Param>
	   <Param name="Damage" dispName="Damage" varType="string">50</Param>
	   <Command>trUnitSelectClear();</Command>
      <Command>trUnitSelectByID(1*%SrcObject%);</Command>
      <Command>trDamageUnitsInArea(%Player%,"%UnitType%",%Dist%,%Damage%);</Command>
   </Effect>

   <Effect name="XS - Change Units in Area">
      <Param name="SrcObject" dispName="Center Unit OBJECT ID" varType="string">0</Param>
      <Param name="Dist" dispName="Radius" varType="string">10</Param>
	   <Param name="FromPlayerID" dispName="From Player" varType="string">0</Param>
	   <Param name="ToPlayerID" dispName="To Player" varType="string">2</Param>
	   <Param name="FromType" dispName="FromType" varType="string">Unit</Param>
	   <Param name="ToProto" dispName="ToUnit" varType="protounit">Axeman</Param>
	   <Command>trUnitSelectClear();</Command>
      <Command>trUnitSelectByID(1*%SrcObject%);</Command>
      <Command>trUnitChangeInArea(%FromPlayerID%,%ToPlayerID%,"%FromType%","%ToProto%",%Dist%);</Command>
   </Effect>

   <Effect name="Move From Area">
      <Param name="RefObject" dispName="Center Unit OBJECT ID" varType="string">0</Param>
	   <Param name="UnitType" dispName="Type" varType="string">Unit</Param>
	   <Param name="PlayerID" dispName="Player" varType="string">0</Param>
      <Param name="Radius" dispName="Radius" varType="string">10</Param>
      <Param name="DstPoint" dispName="X" varType="area">0</Param>
      <Param name="AttackMove" dispName="Attack Move" varType="bool">false</Param>
      <Command>trUnitSelectClear();</Command>
      <Command>trUnitSelectByID(1*%RefObject%);</Command>
      <Command>trUnitMoveFromArea(%DstPoint%, -1, %AttackMove%, %PlayerID%, "%UnitType%", %Radius%);</Command>
   </Effect>

   <Effect name="XS - Forbid and Disable Unit">
	  <Param name="PlayerID" dispName="Player" varType="string">0</Param>
	  <Param name="ProtoUnit" dispName="Unit" varType="protounit">default</Param>
     <Command>trForbidProtounit(%PlayerID%, "%ProtoUnit%");</Command>
   </Effect>

   <Effect name="XS - Set Civilization Name">
	  <Param name="PlayerID" dispName="Player" varType="string">0</Param>
	  <Param name="CivName" dispName="Name" varType="stringid">Name</Param>
     <Command>trSetCivilizationNameOverride(%PlayerID%, "%CivName%");</Command>
   </Effect>

   <Effect name="XS - Grant GP at Position">
	  <Param name="PlayerID" dispName="Player" varType="string">0</Param>
      <Param name="PowerName" dispName="Power" varType="godpower">default</Param>
	  <Param name="Count" dispName="Uses" varType="string">1</Param>
	  <Param name="Position" dispName="Position" varType="string">1</Param>
      <Command>trTechGodPowerAtPosition(%PlayerID%, "%PowerName%", %Count%, %Position%);</Command>
   </Effect>

   <Effect name="XS - Send Chat To Player">
	   <Param name="PlayerID" dispName="From Player" varType="string">0</Param>
	   <Param name="ToPlayerID" dispName="To Player" varType="string">0</Param>
	   <Param name="Message" dispName="Message" varType="stringid">default</Param>
	   <Command>trChatSendToPlayer(%PlayerID%, %ToPlayerID%, "%Message%");</Command>
   </Effect>

   <Effect name="XS - Send Spoofed Chat To Player">
	   <Param name="PlayerID" dispName="Fake Player" varType="string">0</Param>
	   <Param name="ToPlayerID" dispName="To Player" varType="string">0</Param>
	   <Param name="Message" dispName="Message" varType="stringid">default</Param>
	   <Command>trChatSendSpoofedToPlayer(%PlayerID%, %ToPlayerID%, "%Message%");</Command>
   </Effect>

   <Effect name="XS - Modify Protounit">
 	   <Param name="ProtoUnit" dispName="ProtoUnit" varType="protounit">Villager</Param>
	   <Param name="PlayerID" dispName="Player" varType="string">0</Param>
      <Param name="Field" dispName="Field" varType="pufield">0</Param>
      <Param name="Delta" dispName="Delta" varType="string">1.0</Param>
      <Command>trModifyProtounit("%ProtoUnit%", %PlayerID%, %Field%, %Delta%);</Command>
   </Effect>

   <Effect name="XS - Quest Var Set">
      <Param name="QVName" dispName="Var Name" varType="string">QV1</Param>
      <Param name="Value" dispName="Value" varType="string">0</Param>
      <Command>trQuestVarSet("%QVName%", %Value%);</Command>
   </Effect>

   <Effect name="XS - Quest Var Randomize">
      <Param name="QVName" dispName="Var Name" varType="string">QV1</Param>
      <Param name="MinVal" dispName="Min Value" varType="string">1</Param>
      <Param name="MaxVal" dispName="Max Value" varType="string">100</Param>
      <Param name="Round" dispname="Rounding" varType="bool">true</Param>
      <Command>trQuestVarSetFromRand("%QVName%", %MinVal%, %MaxVal%, %Round%);</Command>
   </Effect>

   <Effect name="XS - CHANGE Difficulty">
      <Param name= "level" dispName="Diff 0-3" varType="string">0</Param>
      <Command>setWorldDifficulty(%level%);</Command>
   </Effect>

   <!-- XS Versions of Adv. Triggers -->
   <Effect name="XS - Change Name in Area (Center Unit)">
		<Param name="Object" dispName="Center Unit OBJECT ID" varType="string">0</Param>
		<Param name="Dst" dispName="Radius" varType="string">10.0</Param>
		<Param name="UnitId" dispName="Unit Type ID (Optional)" varType="string">-1</Param>
		<Param name="FromPlayer" dispName="From Player or 99 for ALL" varType="string">99</Param>
		<Param name="Namer" dispName="Change Display Name" varType="string">Insert Name Here</Param>
		<Param name="Booler" dispName="Include Center Unit" varType="bool">false</Param>
		<Command>trQuestVarSet("convarea", 0);</Command>
		<Command>trQuestVarSet("ffweho",0);</Command>
		<Command>if(%FromPlayer%!=99) trQuestVarSet("vroom", %FromPlayer%);</Command>
		<Command>trQuestVarSet("warthog", 0);</Command>
		<Command>trQuestVarSet("zeep", 0);</Command>
		<Command>if(%UnitId%>=0) {</Command>
		<Command>trQuestVarSet("zeep", %UnitId%);</Command>
		<Command>}</Command>
		<Command>if(0>%UnitId%) {</Command>
		<Command>while(kbGetUnitTypeName(trQuestVarGet("zeep"))!="All") {</Command>
		<Command>trQuestVarSet("zeep", trQuestVarGet("zeep")+1);</Command>
		<Command>}}</Command>
		<Command>trQuestVarSet("lastpl", xsGetContextPlayer());</Command>
		<Command>xsSetContextPlayer(0);</Command>
		<Command>kbLookAtAllUnitsOnMap();</Command>
		<Command>if(%FromPlayer%!=99) trQuestVarSet("blarg",%FromPlayer%);</Command>
		<Command>if(%FromPlayer%==99) {</Command>
		<Command>trQuestVarSet("blarg",0);</Command>
		<Command>trQuestVarSet("vroom",12);</Command>
		<Command>}</Command>
		<Command>trQuestVarSet("i",trQuestVarGet("blarg"));</Command>
		<Command>while(trQuestVarGet("vroom")>=trQuestVarGet("i")) {</Command>
		<Command>trQuestVarSet("convarea", kbUnitQueryCreate("convarea"));</Command>
		<Command>kbUnitQuerySetPlayerID(trQuestVarGet("convarea"), trQuestVarGet("i"));</Command>
		<Command>kbUnitQuerySetUnitType(trQuestVarGet("convarea"), trQuestVarGet("zeep"));</Command>
		<Command>kbUnitQuerySetPosition(trQuestVarGet("convarea"), kbUnitGetPosition(1*%Object%));</Command>
		<Command>kbUnitQuerySetMaximumDistance(trQuestVarGet("convarea"), %Dst%);</Command>
		<Command>kbUnitQuerySetAscendingSort(trQuestVarGet("convarea"), true);</Command>
		<Command>kbUnitQueryResetResults(trQuestVarGet("convarea"));</Command>
		<Command>trQuestVarSet("warthog", kbUnitQueryExecute(trQuestVarGet("convarea")));</Command>
		<Command>while(trQuestVarGet("warthog")>0) {</Command>
		<Command>trQuestVarSet("warthog", trQuestVarGet("warthog")-1);</Command>
		<Command>trQuestVarSet("ffweho", kbUnitQueryGetResult(trQuestVarGet("convarea"), trQuestVarGet("warthog")));</Command>
		<Command>trQuestVarSet("ffweho2", trQuestVarGet("ffweho"));</Command>
		<Command>if(%Booler%==true) {</Command>
		<Command>if(trQuestVarGet("ffweho2")==1*%Object%) {</Command>
		<Command>trQuestVarSet("ffweho2", trQuestVarGet("ffweho")+1);}}</Command>
		<Command>if(trQuestVarGet("ffweho2")!=1*%Object%) {</Command>
		<Command>trUnitSelectClear();</Command>
		<Command>trUnitSelectByID(1*trQuestVarGet("ffweho"));</Command>
		<Command>trUnitChangeName("%Namer%");</Command>
		<Command>}}</Command>
		<Command>trQuestVarSet("i", trQuestVarGet("i")+1);}</Command>
		<Command>xsSetContextPlayer(trQuestVarGet("lastpl"));</Command>
	</Effect>

	<Effect name="XS - Convert/Change Units in Area (Center Unit)">
		<Param name="Object" dispName="Center Unit OBJECT ID" varType="string">0</Param>
		<Param name="Dst" dispName="Radius" varType="string">10.0</Param>
		<Param name="UnitId" dispName="Unit Type ID (Optional)" varType="string">-1</Param>
		<Param name="FromPlayer" dispName="From Player or 99 for ALL" varType="string">99</Param>
		<Param name="ToPlayer" dispName="To Player" varType="string">0</Param>
		<Param name="ChangeUnit" dispName="Change Protounit Type" varType="string">Do Not</Param>
		<Param name="Booler" dispName="Include Center Unit" varType="bool">false</Param>
		<Command>trQuestVarSet("convarea", 0);</Command>
		<Command>trQuestVarSet("ffweho",0);</Command>
		<Command>if(%FromPlayer%!=99) trQuestVarSet("vroom", %FromPlayer%);</Command>
		<Command>trQuestVarSet("warthog", 0);</Command>
		<Command>trQuestVarSet("zeep", 0);</Command>
		<Command>if(%UnitId%>=0) {</Command>
		<Command>trQuestVarSet("zeep", %UnitId%);</Command>
		<Command>}</Command>
		<Command>if(0>%UnitId%) {</Command>
		<Command>while(kbGetUnitTypeName(trQuestVarGet("zeep"))!="All") {</Command>
		<Command>trQuestVarSet("zeep", trQuestVarGet("zeep")+1);</Command>
		<Command>}}</Command>
		<Command>trQuestVarSet("lastpl", xsGetContextPlayer());</Command>
		<Command>if(%FromPlayer%!=99) trQuestVarSet("blarg",%FromPlayer%);</Command>
		<Command>if(%FromPlayer%==99) {</Command>
		<Command>trQuestVarSet("blarg",0);</Command>
		<Command>trQuestVarSet("vroom",12);</Command>
		<Command>}</Command>
		<Command>trQuestVarSet("i",trQuestVarGet("blarg"));</Command>
		<Command>while(trQuestVarGet("vroom")>=trQuestVarGet("i")) {</Command>
		<Command>xsSetContextPlayer(trQuestVarGet("i"));</Command>
		<Command>kbLookAtAllUnitsOnMap();</Command>
		<Command>trQuestVarSet("convarea", kbUnitQueryCreate("convarea"));</Command>
		<Command>kbUnitQuerySetPlayerID(trQuestVarGet("convarea"), trQuestVarGet("i"));</Command>
		<Command>kbUnitQuerySetUnitType(trQuestVarGet("convarea"), trQuestVarGet("zeep"));</Command>
		<Command>kbUnitQuerySetPosition(trQuestVarGet("convarea"), kbUnitGetPosition(1*%Object%));</Command>
		<Command>kbUnitQuerySetMaximumDistance(trQuestVarGet("convarea"), %Dst%);</Command>
		<Command>kbUnitQuerySetAscendingSort(trQuestVarGet("convarea"), true);</Command>
		<Command>kbUnitQueryResetResults(trQuestVarGet("convarea"));</Command>
		<Command>trQuestVarSet("warthog", kbUnitQueryExecute(trQuestVarGet("convarea")));</Command>
		<Command>while(trQuestVarGet("warthog")>0) {</Command>
		<Command>trQuestVarSet("warthog", trQuestVarGet("warthog")-1);</Command>
		<Command>trQuestVarSet("ffweho", kbUnitQueryGetResult(trQuestVarGet("convarea"), trQuestVarGet("warthog")));</Command>
		<Command>trQuestVarSet("ffweho2", trQuestVarGet("ffweho"));</Command>
		<Command>if(%Booler%==true) {</Command>
		<Command>if(trQuestVarGet("ffweho2")==1*%Object%) {</Command>
		<Command>trQuestVarSet("ffweho2", trQuestVarGet("ffweho")+1);}}</Command>
		<Command>if(trQuestVarGet("ffweho2")!=1*%Object%) {</Command>
		<Command>trUnitSelectClear();</Command>
		<Command>trUnitSelectByID(1*trQuestVarGet("ffweho"));</Command>
		<Command>trUnitConvert(%ToPlayer%);</Command>
		<Command>if("%ChangeUnit%"!="Do Not") trUnitChangeProtoUnit("%ChangeUnit%");</Command>
		<Command>}}</Command>
		<Command>trQuestVarSet("i", trQuestVarGet("i")+1);}</Command>
		<Command>xsSetContextPlayer(trQuestVarGet("lastpl"));</Command>
	</Effect>
	
	<Effect name="XS - Copy in Area SP-Overlap (Center Unit)">
      <Param name="Object" dispName="Center Unit OBJECT ID" varType="string">0</Param>
		<Param name="Dst" dispName="Radius" varType="string">10.0</Param>
		<Param name="UnitId" dispName="Unit Type ID (Optional)" varType="string">-1</Param>
		<Param name="FromPlayer" dispName="From Player Number or 99 for ALL" varType="string">99</Param>
		<Param name="SrcArmy" dispName="Army" varType="group">default</Param>
		<Param name="location" dispName="Target Unit OBJECT ID" varType="string">0</Param>
		<Param name="position" dispName="Retain Unit Positions" varType="bool">false</Param>
		<Command>trQuestVarSet("convarea", 0);</Command>
		<Command>trQuestVarSet("ffweho",0);</Command>
		<Command>if(%FromPlayer%!=99) trQuestVarSet("vroom", %FromPlayer%);</Command>
		<Command>trQuestVarSet("warthog", 0);</Command>
		<Command>trQuestVarSet("zeep", 0);</Command>
		<Command>if(%UnitId%>=0) {</Command>
		<Command>trQuestVarSet("zeep", %UnitId%);</Command>
		<Command>}</Command>
		<Command>if(0>%UnitId%) {</Command>
		<Command>while(kbGetUnitTypeName(trQuestVarGet("zeep"))!="All") {</Command>
		<Command>trQuestVarSet("zeep", trQuestVarGet("zeep")+1);</Command>
		<Command>}}</Command>
		<Command>trQuestVarSet("lastpl", xsGetContextPlayer());</Command>
		<Command>xsSetContextPlayer(0);</Command>
		<Command>kbLookAtAllUnitsOnMap();</Command>
		<Command>if(%FromPlayer%!=99) trQuestVarSet("blarg",%FromPlayer%);</Command>
		<Command>if(%FromPlayer%==99) {</Command>
		<Command>trQuestVarSet("blarg",0);</Command>
		<Command>trQuestVarSet("vroom",12);</Command>
		<Command>}</Command>
		<Command>trQuestVarSet("i",trQuestVarGet("blarg"));</Command>
		<Command>while(trQuestVarGet("vroom")>=trQuestVarGet("i")) {</Command>
		<Command>trQuestVarSet("convarea", kbUnitQueryCreate("convarea"));</Command>
		<Command>kbUnitQuerySetPlayerID(trQuestVarGet("convarea"), trQuestVarGet("i"));</Command>
		<Command>kbUnitQuerySetUnitType(trQuestVarGet("convarea"), trQuestVarGet("zeep"));</Command>
		<Command>kbUnitQuerySetPosition(trQuestVarGet("convarea"), kbUnitGetPosition(1*%Object%));</Command>
		<Command>kbUnitQuerySetMaximumDistance(trQuestVarGet("convarea"), %Dst%);</Command>
		<Command>kbUnitQuerySetAscendingSort(trQuestVarGet("convarea"), true);</Command>
		<Command>kbUnitQueryResetResults(trQuestVarGet("convarea"));</Command>
		<Command>trQuestVarSet("warthog", kbUnitQueryExecute(trQuestVarGet("convarea")));</Command>
		<Command>while(trQuestVarGet("warthog")>0) {</Command>
		<Command>trQuestVarSet("warthog", trQuestVarGet("warthog")-1);</Command>
		<Command>trQuestVarSet("ffweho", kbUnitQueryGetResult(trQuestVarGet("convarea"), trQuestVarGet("warthog")));</Command>
		<Command>trQuestVarSet("ffweho2", trQuestVarGet("ffweho"));</Command>
		<Command>if(trQuestVarGet("ffweho2")!=1*%Object%) {</Command>
		<Command>trUnitSelectClear();</Command>
		<Command>trUnitSelectByID(1*trQuestVarGet("ffweho"));</Command>
		<Command>trQuestVarSet("oiwghogwhywhlocx", xsVectorGetX(kbUnitGetPosition(1*%location%)));</Command>
		<Command>if(%position%==true) trQuestVarSet("oiwghogwhywhlocx", xsVectorGetX(kbUnitGetPosition(1*%location%))- (xsVectorGetX(kbUnitGetPosition(1*%Object%))-xsVectorGetX(kbUnitGetPosition(1*trQuestVarGet("ffweho")))));</Command>
		<Command>trQuestVarSet("oiwghogwhywhlocz", xsVectorGetZ(kbUnitGetPosition(1*%location%)));</Command>
		<Command>if(%position%==true) trQuestVarSet("oiwghogwhywhlocz", xsVectorGetZ(kbUnitGetPosition(1*%location%))- (xsVectorGetZ(kbUnitGetPosition(1*%Object%))-xsVectorGetZ(kbUnitGetPosition(1*trQuestVarGet("ffweho")))));</Command>
		<Command>trArmyDispatch("%SrcArmy%", ""+kbGetProtoUnitName(kbGetUnitBaseTypeID(1*trQuestVarGet("ffweho"))), 1, trQuestVarGet("oiwghogwhywhlocx"), xsVectorGetY(kbUnitGetPosition(1*%location%)), trQuestVarGet("oiwghogwhywhlocz"), 0, true);</Command>
		<Command>trArmySelect("%SrcArmy%");</Command>
     	<Command>trUnitConvert(trQuestVarGet("i"));</Command>
     	<Command>if(%position%==true) {trUnitTeleport(1*trQuestVarGet("oiwghogwhywhlocx"), xsVectorGetY(kbUnitGetPosition(1*%location%)), 1*trQuestVarGet("oiwghogwhywhlocz"));}</Command>
		<Command>}}</Command>
		<Command>trQuestVarSet("i", trQuestVarGet("i")+1);}</Command>
		<Command>xsSetContextPlayer(trQuestVarGet("lastpl"));</Command>
   </Effect>
   
   <Effect name="XS - Copy/Convert in Area SP-Overlap (Center Unit)">
      <Param name="Object" dispName="Center Unit OBJECT ID" varType="string">0</Param>
		<Param name="Dst" dispName="Radius" varType="string">10.0</Param>
		<Param name="UnitId" dispName="Unit Type ID (Optional)" varType="string">-1</Param>
		<Param name="FromPlayer" dispName="From Player Number or 99 for ALL" varType="string">99</Param>
		<Param name="SrcArmy" dispName="Army" varType="group">default</Param>
		<Param name="location" dispName="Target Unit OBJECT ID" varType="string">0</Param>
		<Param name="position" dispName="Retain Unit Positions" varType="bool">false</Param>
		<Command>trQuestVarSet("convarea", 0);</Command>
		<Command>trQuestVarSet("ffweho",0);</Command>
		<Command>if(%FromPlayer%!=99) trQuestVarSet("vroom", %FromPlayer%);</Command>
		<Command>trQuestVarSet("warthog", 0);</Command>
		<Command>trQuestVarSet("zeep", 0);</Command>
		<Command>if(%UnitId%>=0) {</Command>
		<Command>trQuestVarSet("zeep", %UnitId%);</Command>
		<Command>}</Command>
		<Command>if(0>%UnitId%) {</Command>
		<Command>while(kbGetUnitTypeName(trQuestVarGet("zeep"))!="All") {</Command>
		<Command>trQuestVarSet("zeep", trQuestVarGet("zeep")+1);</Command>
		<Command>}}</Command>
		<Command>trQuestVarSet("lastpl", xsGetContextPlayer());</Command>
		<Command>xsSetContextPlayer(0);</Command>
		<Command>kbLookAtAllUnitsOnMap();</Command>
		<Command>if(%FromPlayer%!=99) trQuestVarSet("blarg",%FromPlayer%);</Command>
		<Command>if(%FromPlayer%==99) {</Command>
		<Command>trQuestVarSet("blarg",0);</Command>
		<Command>trQuestVarSet("vroom",12);</Command>
		<Command>}</Command>
		<Command>trQuestVarSet("i",trQuestVarGet("blarg"));</Command>
		<Command>while(trQuestVarGet("vroom")>=trQuestVarGet("i")) {</Command>
		<Command>trQuestVarSet("convarea", kbUnitQueryCreate("convarea"));</Command>
		<Command>kbUnitQuerySetPlayerID(trQuestVarGet("convarea"), trQuestVarGet("i"));</Command>
		<Command>kbUnitQuerySetUnitType(trQuestVarGet("convarea"), trQuestVarGet("zeep"));</Command>
		<Command>kbUnitQuerySetPosition(trQuestVarGet("convarea"), kbUnitGetPosition(1*%Object%));</Command>
		<Command>kbUnitQuerySetMaximumDistance(trQuestVarGet("convarea"), %Dst%);</Command>
		<Command>kbUnitQuerySetAscendingSort(trQuestVarGet("convarea"), true);</Command>
		<Command>kbUnitQueryResetResults(trQuestVarGet("convarea"));</Command>
		<Command>trQuestVarSet("warthog", kbUnitQueryExecute(trQuestVarGet("convarea")));</Command>
		<Command>while(trQuestVarGet("warthog")>0) {</Command>
		<Command>trQuestVarSet("warthog", trQuestVarGet("warthog")-1);</Command>
		<Command>trQuestVarSet("ffweho", kbUnitQueryGetResult(trQuestVarGet("convarea"), trQuestVarGet("warthog")));</Command>
		<Command>trQuestVarSet("ffweho2", trQuestVarGet("ffweho"));</Command>
		<Command>if(trQuestVarGet("ffweho2")!=1*%Object%) {</Command>
		<Command>trUnitSelectClear();</Command>
		<Command>trUnitSelectByID(1*trQuestVarGet("ffweho"));</Command>
		<Command>trQuestVarSet("oiwghogwhywhlocx", xsVectorGetX(kbUnitGetPosition(1*%location%)));</Command>
		<Command>if(%position%==true) trQuestVarSet("oiwghogwhywhlocx", xsVectorGetX(kbUnitGetPosition(1*%location%))- (xsVectorGetX(kbUnitGetPosition(1*%Object%))-xsVectorGetX(kbUnitGetPosition(1*trQuestVarGet("ffweho")))));</Command>
		<Command>trQuestVarSet("oiwghogwhywhlocz", xsVectorGetZ(kbUnitGetPosition(1*%location%)));</Command>
		<Command>if(%position%==true) trQuestVarSet("oiwghogwhywhlocz", xsVectorGetZ(kbUnitGetPosition(1*%location%))- (xsVectorGetZ(kbUnitGetPosition(1*%Object%))-xsVectorGetZ(kbUnitGetPosition(1*trQuestVarGet("ffweho")))));</Command>
		<Command>trArmyDispatch("%SrcArmy%", ""+kbGetProtoUnitName(kbGetUnitBaseTypeID(1*trQuestVarGet("ffweho"))), 1, trQuestVarGet("oiwghogwhywhlocx"), xsVectorGetY(kbUnitGetPosition(1*%location%)), trQuestVarGet("oiwghogwhywhlocz"), 0, true);</Command>
		<Command>if(%position%==true) {trArmySelect("%SrcArmy%"); trUnitTeleport(1*trQuestVarGet("oiwghogwhywhlocx"), xsVectorGetY(kbUnitGetPosition(1*%location%)), 1*trQuestVarGet("oiwghogwhywhlocz"));}</Command>
		<Command>}}</Command>
		<Command>trQuestVarSet("i", trQuestVarGet("i")+1);}</Command>
		<Command>xsSetContextPlayer(trQuestVarGet("lastpl"));</Command>
   </Effect>
	
   <Effect name="XS - Copy in Area MP (Center Unit)">
      <Param name="Object" dispName="Center Unit OBJECT ID" varType="string">0</Param>
		<Param name="Dst" dispName="Center Unit Radius" varType="string">10.0</Param>
		<Param name="UnitId" dispName="Unit Type ID (Optional)" varType="string">-1</Param>
		<Param name="FromPlayer" dispName="From Player Number or 99 for ALL" varType="string">99</Param>
		<Param name="SrcArmy" dispName="Army" varType="group">default</Param>
		<Param name="location" dispName="Target Unit OBJECT ID" varType="string">0</Param>
		<Param name="position" dispName="Retain Unit Positions" varType="bool">false</Param>
		<Command>trQuestVarSet("convarea", 0);</Command>
		<Command>trQuestVarSet("ffweho",0);</Command>
		<Command>if(%FromPlayer%!=99) trQuestVarSet("vroom", %FromPlayer%);</Command>
		<Command>trQuestVarSet("warthog", 0);</Command>
		<Command>trQuestVarSet("zeep", 0);</Command>
		<Command>if(%UnitId%>=0) {</Command>
		<Command>trQuestVarSet("zeep", %UnitId%);</Command>
		<Command>}</Command>
		<Command>if(0>%UnitId%) {</Command>
		<Command>while(kbGetUnitTypeName(trQuestVarGet("zeep"))!="All") {</Command>
		<Command>trQuestVarSet("zeep", trQuestVarGet("zeep")+1);</Command>
		<Command>}}</Command>
		<Command>trQuestVarSet("lastpl", xsGetContextPlayer());</Command>
		<Command>xsSetContextPlayer(0);</Command>
		<Command>kbLookAtAllUnitsOnMap();</Command>
		<Command>if(%FromPlayer%!=99) trQuestVarSet("blarg",%FromPlayer%);</Command>
		<Command>if(%FromPlayer%==99) {</Command>
		<Command>trQuestVarSet("blarg",0);</Command>
		<Command>trQuestVarSet("vroom",12);</Command>
		<Command>}</Command>
		<Command>trQuestVarSet("i",trQuestVarGet("blarg"));</Command>
		<Command>while(trQuestVarGet("vroom")>=trQuestVarGet("i")) {</Command>
		<Command>trQuestVarSet("convarea", kbUnitQueryCreate("convarea"));</Command>
		<Command>kbUnitQuerySetPlayerID(trQuestVarGet("convarea"), trQuestVarGet("i"));</Command>
		<Command>kbUnitQuerySetUnitType(trQuestVarGet("convarea"), trQuestVarGet("zeep"));</Command>
		<Command>kbUnitQuerySetPosition(trQuestVarGet("convarea"), kbUnitGetPosition(1*%Object%));</Command>
		<Command>kbUnitQuerySetMaximumDistance(trQuestVarGet("convarea"), %Dst%);</Command>
		<Command>kbUnitQuerySetAscendingSort(trQuestVarGet("convarea"), true);</Command>
		<Command>kbUnitQueryResetResults(trQuestVarGet("convarea"));</Command>
		<Command>trQuestVarSet("warthog", kbUnitQueryExecute(trQuestVarGet("convarea")));</Command>
		<Command>while(trQuestVarGet("warthog")>0) {</Command>
		<Command>trQuestVarSet("warthog", trQuestVarGet("warthog")-1);</Command>
		<Command>trQuestVarSet("ffweho", kbUnitQueryGetResult(trQuestVarGet("convarea"), trQuestVarGet("warthog")));</Command>
		<Command>trQuestVarSet("ffweho2", trQuestVarGet("ffweho"));</Command>
		<Command>if(trQuestVarGet("ffweho2")!=1*%Object%) {</Command>
		<Command>trUnitSelectClear();</Command>
		<Command>trUnitSelectByID(1*trQuestVarGet("ffweho"));</Command>
		<Command>trQuestVarSet("oiwghogwhywhlocx", xsVectorGetX(kbUnitGetPosition(1*%location%)));</Command>
		<Command>if(%position%==true) trQuestVarSet("oiwghogwhywhlocx", xsVectorGetX(kbUnitGetPosition(1*%location%))- (xsVectorGetX(kbUnitGetPosition(1*%Object%))-xsVectorGetX(kbUnitGetPosition(1*trQuestVarGet("ffweho")))));</Command>
		<Command>trQuestVarSet("oiwghogwhywhlocz", xsVectorGetZ(kbUnitGetPosition(1*%location%)));</Command>
		<Command>if(%position%==true) trQuestVarSet("oiwghogwhywhlocz", xsVectorGetZ(kbUnitGetPosition(1*%location%))- (xsVectorGetZ(kbUnitGetPosition(1*%Object%))-xsVectorGetZ(kbUnitGetPosition(1*trQuestVarGet("ffweho")))));</Command>
		<Command>trArmyDispatch("%SrcArmy%", ""+kbGetProtoUnitName(kbGetUnitBaseTypeID(1*trQuestVarGet("ffweho"))), 1, 1*trQuestVarGet("oiwghogwhywhlocx"), xsVectorGetY(kbUnitGetPosition(1*%location%)), 1*trQuestVarGet("oiwghogwhywhlocz"), 0, true);</Command>
		<Command>trArmySelect("%SrcArmy%");</Command>
     	<Command>trUnitConvert(trQuestVarGet("i"));</Command>
		<Command>}}</Command>
		<Command>trQuestVarSet("i", trQuestVarGet("i")+1);}</Command>
		<Command>xsSetContextPlayer(trQuestVarGet("lastpl"));</Command>
   </Effect>
   
   <Effect name="XS - Copy/Convert in Area MP (Center Unit)">
      <Param name="Object" dispName="Center Unit OBJECT ID" varType="string">0</Param>
		<Param name="Dst" dispName="Radius" varType="string">10.0</Param>
		<Param name="UnitId" dispName="Unit Type ID (Optional)" varType="string">-1</Param>
		<Param name="FromPlayer" dispName="From Player Number or 99 for ALL" varType="string">99</Param>
		<Param name="SrcArmy" dispName="Army" varType="group">default</Param>
		<Param name="location" dispName="Target Unit OBJECT ID" varType="string">0</Param>
		<Param name="position" dispName="Retain Unit Positions" varType="bool">false</Param>
		<Command>trQuestVarSet("convarea", 0);</Command>
		<Command>trQuestVarSet("ffweho",0);</Command>
		<Command>if(%FromPlayer%!=99) trQuestVarSet("vroom", %FromPlayer%);</Command>
		<Command>trQuestVarSet("warthog", 0);</Command>
		<Command>trQuestVarSet("zeep", 0);</Command>
		<Command>if(%UnitId%>=0) {</Command>
		<Command>trQuestVarSet("zeep", %UnitId%);</Command>
		<Command>}</Command>
		<Command>if(0>%UnitId%) {</Command>
		<Command>while(kbGetUnitTypeName(trQuestVarGet("zeep"))!="All") {</Command>
		<Command>trQuestVarSet("zeep", trQuestVarGet("zeep")+1);</Command>
		<Command>}}</Command>
		<Command>trQuestVarSet("lastpl", xsGetContextPlayer());</Command>
		<Command>xsSetContextPlayer(0);</Command>
		<Command>kbLookAtAllUnitsOnMap();</Command>
		<Command>if(%FromPlayer%!=99) trQuestVarSet("blarg",%FromPlayer%);</Command>
		<Command>if(%FromPlayer%==99) {</Command>
		<Command>trQuestVarSet("blarg",0);</Command>
		<Command>trQuestVarSet("vroom",12);</Command>
		<Command>}</Command>
		<Command>trQuestVarSet("i",trQuestVarGet("blarg"));</Command>
		<Command>while(trQuestVarGet("vroom")>=trQuestVarGet("i")) {</Command>
		<Command>trQuestVarSet("convarea", kbUnitQueryCreate("convarea"));</Command>
		<Command>kbUnitQuerySetPlayerID(trQuestVarGet("convarea"), trQuestVarGet("i"));</Command>
		<Command>kbUnitQuerySetUnitType(trQuestVarGet("convarea"), trQuestVarGet("zeep"));</Command>
		<Command>kbUnitQuerySetPosition(trQuestVarGet("convarea"), kbUnitGetPosition(1*%Object%));</Command>
		<Command>kbUnitQuerySetMaximumDistance(trQuestVarGet("convarea"), %Dst%);</Command>
		<Command>kbUnitQuerySetAscendingSort(trQuestVarGet("convarea"), true);</Command>
		<Command>kbUnitQueryResetResults(trQuestVarGet("convarea"));</Command>
		<Command>trQuestVarSet("warthog", kbUnitQueryExecute(trQuestVarGet("convarea")));</Command>
		<Command>while(trQuestVarGet("warthog")>0) {</Command>
		<Command>trQuestVarSet("warthog", trQuestVarGet("warthog")-1);</Command>
		<Command>trQuestVarSet("ffweho", kbUnitQueryGetResult(trQuestVarGet("convarea"), trQuestVarGet("warthog")));</Command>
		<Command>trQuestVarSet("ffweho2", trQuestVarGet("ffweho"));</Command>
		<Command>if(trQuestVarGet("ffweho2")!=1*%Object%) {</Command>
		<Command>trUnitSelectClear();</Command>
		<Command>trUnitSelectByID(1*trQuestVarGet("ffweho"));</Command>
		<Command>trQuestVarSet("oiwghogwhywhlocx", xsVectorGetX(kbUnitGetPosition(1*%location%)));</Command>
		<Command>if(%position%==true) trQuestVarSet("oiwghogwhywhlocx", xsVectorGetX(kbUnitGetPosition(1*%location%))- (xsVectorGetX(kbUnitGetPosition(1*%Object%))-xsVectorGetX(kbUnitGetPosition(1*trQuestVarGet("ffweho")))));</Command>
		<Command>trQuestVarSet("oiwghogwhywhlocz", xsVectorGetZ(kbUnitGetPosition(1*%location%)));</Command>
		<Command>if(%position%==true) trQuestVarSet("oiwghogwhywhlocz", xsVectorGetZ(kbUnitGetPosition(1*%location%))- (xsVectorGetZ(kbUnitGetPosition(1*%Object%))-xsVectorGetZ(kbUnitGetPosition(1*trQuestVarGet("ffweho")))));</Command>
		<Command>trArmyDispatch("%SrcArmy%", ""+kbGetProtoUnitName(kbGetUnitBaseTypeID(1*trQuestVarGet("ffweho"))), 1, 1*trQuestVarGet("oiwghogwhywhlocx"), xsVectorGetY(kbUnitGetPosition(1*%location%)), 1*trQuestVarGet("oiwghogwhywhlocz"), 0, true);</Command>
		<Command>}}</Command>
		<Command>trQuestVarSet("i", trQuestVarGet("i")+1);}</Command>
		<Command>xsSetContextPlayer(trQuestVarGet("lastpl"));</Command>
   </Effect>
   
   	<Effect name="XS - Move to Self in Area (Center Unit)">
		<Param name="Object" dispName="Center Unit OBJECT ID" varType="string">0</Param>
		<Param name="Dst" dispName="Radius" varType="string">10.0</Param>
		<Param name="UnitId" dispName="Unit Type ID (Optional)" varType="string">-1</Param>
		<Param name="FromPlayer" dispName="From Player or 99 for ALL" varType="string">99</Param>
		<Param name="Booler" dispName="Include Center Unit" varType="bool">false</Param>
		<Command>trQuestVarSet("convarea", 0);</Command>
		<Command>trQuestVarSet("ffweho",0);</Command>
		<Command>if(%FromPlayer%!=99) trQuestVarSet("vroom", %FromPlayer%);</Command>
		<Command>trQuestVarSet("warthog", 0);</Command>
		<Command>trQuestVarSet("zeep", 0);</Command>
		<Command>if(%UnitId%>=0) {</Command>
		<Command>trQuestVarSet("zeep", %UnitId%);</Command>
		<Command>}</Command>
		<Command>if(0>%UnitId%) {</Command>
		<Command>while(kbGetUnitTypeName(trQuestVarGet("zeep"))!="All") {</Command>
		<Command>trQuestVarSet("zeep", trQuestVarGet("zeep")+1);</Command>
		<Command>}}</Command>
		<Command>trQuestVarSet("lastpl", xsGetContextPlayer());</Command>
		<Command>xsSetContextPlayer(0);</Command>
		<Command>kbLookAtAllUnitsOnMap();</Command>
		<Command>if(%FromPlayer%!=99) trQuestVarSet("blarg",%FromPlayer%);</Command>
		<Command>if(%FromPlayer%==99) {</Command>
		<Command>trQuestVarSet("blarg",0);</Command>
		<Command>trQuestVarSet("vroom",12);</Command>
		<Command>}</Command>
		<Command>trQuestVarSet("i",trQuestVarGet("blarg"));</Command>
		<Command>while(trQuestVarGet("vroom")>=trQuestVarGet("i")) {</Command>
		<Command>trQuestVarSet("convarea", kbUnitQueryCreate("convarea"));</Command>
		<Command>kbUnitQuerySetPlayerID(trQuestVarGet("convarea"), trQuestVarGet("i"));</Command>
		<Command>kbUnitQuerySetUnitType(trQuestVarGet("convarea"), trQuestVarGet("zeep"));</Command>
		<Command>kbUnitQuerySetPosition(trQuestVarGet("convarea"), kbUnitGetPosition(1*%Object%));</Command>
		<Command>kbUnitQuerySetMaximumDistance(trQuestVarGet("convarea"), %Dst%);</Command>
		<Command>kbUnitQuerySetAscendingSort(trQuestVarGet("convarea"), true);</Command>
		<Command>kbUnitQueryResetResults(trQuestVarGet("convarea"));</Command>
		<Command>trQuestVarSet("warthog", kbUnitQueryExecute(trQuestVarGet("convarea")));</Command>
		<Command>while(trQuestVarGet("warthog")>0) {</Command>
		<Command>trQuestVarSet("warthog", trQuestVarGet("warthog")-1);</Command>
		<Command>trQuestVarSet("ffweho", kbUnitQueryGetResult(trQuestVarGet("convarea"), trQuestVarGet("warthog")));</Command>
		<Command>trQuestVarSet("ffweho2", trQuestVarGet("ffweho"));</Command>
		<Command>if(%Booler%==true) {</Command>
		<Command>if(trQuestVarGet("ffweho2")==1*%Object%) {trQuestVarSet("ffweho2", trQuestVarGet("ffweho")+1);}}</Command>
		<Command>if(trQuestVarGet("ffweho2")!=1*%Object%) {</Command>
		<Command>trUnitSelectClear();</Command>
		<Command>trUnitSelectByID(1*trQuestVarGet("ffweho"));</Command>
		<Command>trUnitMoveToPoint(xsVectorGetX(kbUnitGetPosition(1*trQuestVarGet("ffweho"))), xsVectorGetY(kbUnitGetPosition(1*trQuestVarGet("ffweho"))), xsVectorGetZ(kbUnitGetPosition(1*trQuestVarGet("ffweho"))), -1, false);</Command>
		<Command>}}</Command>
		<Command>trQuestVarSet("i", trQuestVarGet("i")+1);}</Command>
		<Command>xsSetContextPlayer(trQuestVarGet("lastpl"));</Command>
	</Effect>
	
	<Effect name="XS - Army Deploy Near Unit">
		<Param name="SrcArmy" dispName="Army" varType="group">default</Param>
		<Param name="ProtoName" dispName="ProtoName" varType="protounit">Villager</Param>
		<Param name="Object" dispName="Target Unit OBJECT ID" varType="string">0</Param>
		<Param name="radius" dispName="Approx. Radius (slightly off)" varType="string">10</Param>
		<Param name="edge" dispName="Edge Only" varType="bool">false</Param>
		<Param name="Count"  dispName="Count" varType="string">0</Param>
		<Param name="Clear" dispName="Clear Existing Units:" varType="bool">true</Param>
		<Command>trQuestVarSet("fhweaohpgpagowhwa", xsGetContextPlayer());</Command>
		<Command>xsSetContextPlayer(0);</Command>
		<Command>kbLookAtAllUnitsOnMap();</Command>
		<Command>trQuestVarSetFromRand("hwfeoaifop", 0, 1, true);</Command>
		<Command>trQuestVarSetFromRand("wagogehmeas", 0, %radius%, true);</Command>
		<Command>if(trQuestVarGet("hwfeoaifop")==0) trQuestVarSet("oiwghogwhywhlocx", xsVectorGetX(kbUnitGetPosition(1*%Object%))+trQuestVarGet("wagogehmeas"));</Command>
		<Command>if(trQuestVarGet("hwfeoaifop")==1) trQuestVarSet("oiwghogwhywhlocx", xsVectorGetX(kbUnitGetPosition(1*%Object%))-trQuestVarGet("wagogehmeas"));</Command>
		<Command>trQuestVarSet("hwfeoaifopx", 0);</Command>
		<Command>if(%edge%==true) trQuestVarSet("hwfeoaifopx", (%radius%-trQuestVarGet("wagogehmeas")));</Command>
		<Command>trQuestVarSetFromRand("wagogehmeas", trQuestVarGet("hwfeoaifopx"), (%radius%-trQuestVarGet("wagogehmeas")), true);</Command>
		<Command>trQuestVarSetFromRand("hwfeoaifop", 0, 1, true);</Command>
		<Command>if(trQuestVarGet("hwfeoaifop")==0) trQuestVarSet("oiwghogwhywhlocz", xsVectorGetZ(kbUnitGetPosition(1*%Object%))+trQuestVarGet("wagogehmeas"));</Command>
		<Command>if(trQuestVarGet("hwfeoaifop")==1) trQuestVarSet("oiwghogwhywhlocz", xsVectorGetZ(kbUnitGetPosition(1*%Object%))-trQuestVarGet("wagogehmeas"));</Command>
		<Command>trArmyDispatch("%SrcArmy%", "%ProtoName%", %Count%, trQuestVarGet("oiwghogwhywhlocx"),xsVectorGetY(kbUnitGetPosition(1*%Object%)),trQuestVarGet("oiwghogwhywhlocz"), 0, %Clear%);</Command>
		<Command>xsSetContextPlayer(trQuestVarGet("fhweaohpgpagowhwa"));</Command>
	</Effect>
	
	<Effect name="XS - Unit Create Near Unit">
	  <Param name="PlayerID" dispName="Player" varType="string">0</Param>
	  <Param name="ProtoName" dispName="ProtoName" varType="protounit">Villager</Param>
	  <Param name="ScenName" dispName="Name" varType="string">Default</Param>
	  <Param name="Object" dispName="Target Unit OBJECT ID"  varType="string">0</Param>
	  <Param name="radius" dispName="Approx. Radius (slightly off)" varType="string">10</Param>
	  <Param name="edge" dispName="Edge Only" varType="bool">false</Param>
	  <Param name="Heading"  dispName="Heading" varType="string">0</Param>
		<Command>trQuestVarSet("fhweaohpgpagowhwa", xsGetContextPlayer());</Command>
		<Command>xsSetContextPlayer(0);</Command>
		<Command>kbLookAtAllUnitsOnMap();</Command>
		<Command>trQuestVarSetFromRand("hwfeoaifop", 0, 1, true);</Command>
		<Command>trQuestVarSetFromRand("wagogehmeas", 0, %radius%, true);</Command>
		<Command>if(trQuestVarGet("hwfeoaifop")==0) trQuestVarSet("oiwghogwhywhlocx", xsVectorGetX(kbUnitGetPosition(1*%Object%))+trQuestVarGet("wagogehmeas"));</Command>
		<Command>if(trQuestVarGet("hwfeoaifop")==1) trQuestVarSet("oiwghogwhywhlocx", xsVectorGetX(kbUnitGetPosition(1*%Object%))-trQuestVarGet("wagogehmeas"));</Command>
		<Command>trQuestVarSet("hwfeoaifopx", 0);</Command>
		<Command>if(%edge%==true) trQuestVarSet("hwfeoaifopx", (%radius%-trQuestVarGet("wagogehmeas")));</Command>
		<Command>trQuestVarSetFromRand("wagogehmeas", trQuestVarGet("hwfeoaifopx"), (%radius%-trQuestVarGet("wagogehmeas")), true);</Command>
		<Command>trQuestVarSetFromRand("hwfeoaifop", 0, 1, true);</Command>
		<Command>if(trQuestVarGet("hwfeoaifop")==0) trQuestVarSet("oiwghogwhywhlocz", xsVectorGetZ(kbUnitGetPosition(1*%Object%))+trQuestVarGet("wagogehmeas"));</Command>
		<Command>if(trQuestVarGet("hwfeoaifop")==1) trQuestVarSet("oiwghogwhywhlocz", xsVectorGetZ(kbUnitGetPosition(1*%Object%))-trQuestVarGet("wagogehmeas"));</Command>
		<Command>trUnitCreate("%ProtoName%", "%ScenName%", trQuestVarGet("oiwghogwhywhlocx"),xsVectorGetY(kbUnitGetPosition(1*%Object%)),trQuestVarGet("oiwghogwhywhlocz"), %Heading%, %PlayerID%);</Command>
		<Command>xsSetContextPlayer(trQuestVarGet("fhweaohpgpagowhwa"));</Command>
   </Effect>
   
   <Effect name="XS - Army Teleport Near Unit">
      <Param name="SrcArmy" dispName="Army" varType="group">default</Param>
	  <Param name="Object" dispName="Target Unit OBJECT ID" varType="string">0</Param>
	  <Param name="radius" dispName="Approx. Radius (slightly off)" varType="string">10</Param>
	  <Param name="edge" dispName="Edge Only" varType="bool">false</Param>
		<Command>trQuestVarSet("fhweaohpgpagowhwa", xsGetContextPlayer());</Command>
		<Command>xsSetContextPlayer(0);</Command>
		<Command>kbLookAtAllUnitsOnMap();</Command>
		<Command>trArmySelect("%SrcArmy%");</Command>
		<Command>trQuestVarSetFromRand("hwfeoaifop", 0, 1, true);</Command>
		<Command>trQuestVarSetFromRand("wagogehmeas", 0, %radius%, true);</Command>
		<Command>if(trQuestVarGet("hwfeoaifop")==0) trQuestVarSet("oiwghogwhywhlocx", xsVectorGetX(kbUnitGetPosition(1*%Object%))+trQuestVarGet("wagogehmeas"));</Command>
		<Command>if(trQuestVarGet("hwfeoaifop")==1) trQuestVarSet("oiwghogwhywhlocx", xsVectorGetX(kbUnitGetPosition(1*%Object%))-trQuestVarGet("wagogehmeas"));</Command>
		<Command>trQuestVarSet("hwfeoaifopx", 0);</Command>
		<Command>if(%edge%==true) trQuestVarSet("hwfeoaifopx", (%radius%-trQuestVarGet("wagogehmeas")));</Command>
		<Command>trQuestVarSetFromRand("wagogehmeas", trQuestVarGet("hwfeoaifopx"), (%radius%-trQuestVarGet("wagogehmeas")), true);</Command>
		<Command>trQuestVarSetFromRand("hwfeoaifop", 0, 1, true);</Command>
		<Command>if(trQuestVarGet("hwfeoaifop")==0) trQuestVarSet("oiwghogwhywhlocz", xsVectorGetZ(kbUnitGetPosition(1*%Object%))+trQuestVarGet("wagogehmeas"));</Command>
		<Command>if(trQuestVarGet("hwfeoaifop")==1) trQuestVarSet("oiwghogwhywhlocz", xsVectorGetZ(kbUnitGetPosition(1*%Object%))-trQuestVarGet("wagogehmeas"));</Command>
		<Command>trUnitTeleport(trQuestVarGet("oiwghogwhywhlocx"), xsVectorGetY(kbUnitGetPosition(1*%Object%)), trQuestVarGet("oiwghogwhywhlocz"));</Command>
		<Command>xsSetContextPlayer(trQuestVarGet("fhweaohpgpagowhwa"));</Command>
   </Effect>
   
   <Effect name="XS - Army Build Building Near Unit">
      <Param name="SrcArmy" dispName="Army" varType="group">default</Param>
      <Param name="ProtoUnit" dispName="ProtoUnit To Build" varType="protounit">default</Param>
      <Param name="Object" dispName="Target Unit OBJECT ID" varType="string">0</Param>
      <Param name="radius" dispName="Approx. Radius (slightly off)" varType="string">10</Param>
	  <Param name="edge" dispName="Edge Only" varType="bool">false</Param>
		<Command>trQuestVarSet("fhweaohpgpagowhwa", xsGetContextPlayer());</Command>
		<Command>xsSetContextPlayer(0);</Command>
		<Command>kbLookAtAllUnitsOnMap();</Command>
		<Command>trArmySelect("%SrcArmy%");</Command>
		<Command>trQuestVarSetFromRand("hwfeoaifop", 0, 1, true);</Command>
		<Command>trQuestVarSetFromRand("wagogehmeas", 0, %radius%, true);</Command>
		<Command>if(trQuestVarGet("hwfeoaifop")==0) trQuestVarSet("oiwghogwhywhlocx", xsVectorGetX(kbUnitGetPosition(1*%Object%))+trQuestVarGet("wagogehmeas"));</Command>
		<Command>if(trQuestVarGet("hwfeoaifop")==1) trQuestVarSet("oiwghogwhywhlocx", xsVectorGetX(kbUnitGetPosition(1*%Object%))-trQuestVarGet("wagogehmeas"));</Command>
		<Command>trQuestVarSet("hwfeoaifopx", 0);</Command>
		<Command>if(%edge%==true) trQuestVarSet("hwfeoaifopx", (%radius%-trQuestVarGet("wagogehmeas")));</Command>
		<Command>trQuestVarSetFromRand("wagogehmeas", trQuestVarGet("hwfeoaifopx"), (%radius%-trQuestVarGet("wagogehmeas")), true);</Command>
		<Command>trQuestVarSetFromRand("hwfeoaifop", 0, 1, true);</Command>
		<Command>if(trQuestVarGet("hwfeoaifop")==0) trQuestVarSet("oiwghogwhywhlocz", xsVectorGetZ(kbUnitGetPosition(1*%Object%))+trQuestVarGet("wagogehmeas"));</Command>
		<Command>if(trQuestVarGet("hwfeoaifop")==1) trQuestVarSet("oiwghogwhywhlocz", xsVectorGetZ(kbUnitGetPosition(1*%Object%))-trQuestVarGet("wagogehmeas"));</Command>
		<Command>trUnitBuildUnit("%ProtoUnit%", xsVectorSet(trQuestVarGet("oiwghogwhywhlocx"), xsVectorGetY(kbUnitGetPosition(1*%Object%)), trQuestVarGet("oiwghogwhywhlocz")));</Command>
		<Command>xsSetContextPlayer(trQuestVarGet("fhweaohpgpagowhwa"));</Command>
   </Effect>
   
   <Effect name="XS - Unit Build Building Near Unit">
      <Param name="SrcObject" dispName="Source Units" varType="unit">default</Param>
      <Param name="ProtoUnit" dispName="ProtoUnit To Build" varType="protounit">default</Param>
      <Param name="Object" dispName="Target Unit OBJECT ID" varType="string">0</Param>
      <Param name="radius" dispName="Approx. Radius (slightly off)" varType="string">10</Param>
	  <Param name="edge" dispName="Edge Only" varType="bool">false</Param>
		<Command>trQuestVarSet("fhweaohpgpagowhwa", xsGetContextPlayer());</Command>
		<Command>xsSetContextPlayer(0);</Command>
		<Command>kbLookAtAllUnitsOnMap();</Command>
		<Command>trUnitSelectClear();</Command>
		<Command loop="" loopParm="SrcObject">trUnitSelect("%SrcObject%");</Command>
		<Command>trQuestVarSetFromRand("hwfeoaifop", 0, 1, true);</Command>
		<Command>trQuestVarSetFromRand("wagogehmeas", 0, %radius%, true);</Command>
		<Command>if(trQuestVarGet("hwfeoaifop")==0) trQuestVarSet("oiwghogwhywhlocx", xsVectorGetX(kbUnitGetPosition(1*%Object%))+trQuestVarGet("wagogehmeas"));</Command>
		<Command>if(trQuestVarGet("hwfeoaifop")==1) trQuestVarSet("oiwghogwhywhlocx", xsVectorGetX(kbUnitGetPosition(1*%Object%))-trQuestVarGet("wagogehmeas"));</Command>
		<Command>trQuestVarSet("hwfeoaifopx", 0);</Command>
		<Command>if(%edge%==true) trQuestVarSet("hwfeoaifopx", (%radius%-trQuestVarGet("wagogehmeas")));</Command>
		<Command>trQuestVarSetFromRand("wagogehmeas", trQuestVarGet("hwfeoaifopx"), (%radius%-trQuestVarGet("wagogehmeas")), true);</Command>
		<Command>trQuestVarSetFromRand("hwfeoaifop", 0, 1, true);</Command>
		<Command>if(trQuestVarGet("hwfeoaifop")==0) trQuestVarSet("oiwghogwhywhlocz", xsVectorGetZ(kbUnitGetPosition(1*%Object%))+trQuestVarGet("wagogehmeas"));</Command>
		<Command>if(trQuestVarGet("hwfeoaifop")==1) trQuestVarSet("oiwghogwhywhlocz", xsVectorGetZ(kbUnitGetPosition(1*%Object%))-trQuestVarGet("wagogehmeas"));</Command>
		<Command>trUnitBuildUnit("%ProtoUnit%", xsVectorSet(trQuestVarGet("oiwghogwhywhlocx"), xsVectorGetY(kbUnitGetPosition(1*%Object%)), trQuestVarGet("oiwghogwhywhlocz")));</Command>
		<Command>xsSetContextPlayer(trQuestVarGet("fhweaohpgpagowhwa"));</Command>
   </Effect>
   
   <Effect name="XS - Move From Area To Near Unit">
      <Param name="RefObject" dispName="Center Unit" varType="unit">default</Param>
	   <Param name="UnitType" dispName="Type" varType="string">Unit</Param>
	   <Param name="PlayerID" dispName="Player" varType="string">0</Param>
      <Param name="Radius" dispName="Radius" varType="string">10</Param>
      <Param name="Object" dispName="Target Unit OBJECT ID" varType="string">0</Param>
      <Param name="radius" dispName="Approx. Radius (slightly off)" varType="string">10</Param>
	  <Param name="edge" dispName="Edge Only" varType="bool">false</Param>
		<Command>trQuestVarSet("fhweaohpgpagowhwa", xsGetContextPlayer());</Command>
		<Command>xsSetContextPlayer(0);</Command>
		<Command>kbLookAtAllUnitsOnMap();</Command>
		<Command>trUnitSelectClear();</Command>
		<Command loop="" loopParm="RefObject">trUnitSelect("%RefObject%");</Command>
		<Command>trQuestVarSetFromRand("hwfeoaifop", 0, 1, true);</Command>
		<Command>trQuestVarSetFromRand("wagogehmeas", 0, %radius%, true);</Command>
		<Command>if(trQuestVarGet("hwfeoaifop")==0) trQuestVarSet("oiwghogwhywhlocx", xsVectorGetX(kbUnitGetPosition(1*%Object%))+trQuestVarGet("wagogehmeas"));</Command>
		<Command>if(trQuestVarGet("hwfeoaifop")==1) trQuestVarSet("oiwghogwhywhlocx", xsVectorGetX(kbUnitGetPosition(1*%Object%))-trQuestVarGet("wagogehmeas"));</Command>
		<Command>trQuestVarSet("hwfeoaifopx", 0);</Command>
		<Command>if(%edge%==true) trQuestVarSet("hwfeoaifopx", (%radius%-trQuestVarGet("wagogehmeas")));</Command>
		<Command>trQuestVarSetFromRand("wagogehmeas", trQuestVarGet("hwfeoaifopx"), (%radius%-trQuestVarGet("wagogehmeas")), true);</Command>
		<Command>trQuestVarSetFromRand("hwfeoaifop", 0, 1, true);</Command>
		<Command>if(trQuestVarGet("hwfeoaifop")==0) trQuestVarSet("oiwghogwhywhlocz", xsVectorGetZ(kbUnitGetPosition(1*%Object%))+trQuestVarGet("wagogehmeas"));</Command>
		<Command>if(trQuestVarGet("hwfeoaifop")==1) trQuestVarSet("oiwghogwhywhlocz", xsVectorGetZ(kbUnitGetPosition(1*%Object%))-trQuestVarGet("wagogehmeas"));</Command>
		<Command>trUnitMoveFromArea(trQuestVarGet("oiwghogwhywhlocx"), xsVectorGetY(kbUnitGetPosition(1*%Object%)), trQuestVarGet("oiwghogwhywhlocz"), -1, false, %PlayerID%, "%UnitType%", %Radius%);</Command>
		<Command>xsSetContextPlayer(trQuestVarGet("fhweaohpgpagowhwa"));</Command>
   </Effect>
   
   <Effect name="XS - Teleport Units to Near Unit">
      <Param name="SrcObject" dispName="Source Units" varType="unit">default</Param>
	  <Param name="Object" dispName="Target Unit OBJECT ID" varType="string">0</Param>
	  <Param name="radius" dispName="Approx. Radius (slightly off)" varType="string">10</Param>
	  <Param name="edge" dispName="Edge Only" varType="bool">false</Param>
		<Command>trQuestVarSet("fhweaohpgpagowhwa", xsGetContextPlayer());</Command>
		<Command>xsSetContextPlayer(0);</Command>
		<Command>kbLookAtAllUnitsOnMap();</Command>
		<Command>trUnitSelectClear();</Command>
		<Command loop="" loopParm="SrcObject">trUnitSelect("%SrcObject%");</Command>
		<Command>trQuestVarSetFromRand("hwfeoaifop", 0, 1, true);</Command>
		<Command>trQuestVarSetFromRand("wagogehmeas", 0, %radius%, true);</Command>
		<Command>if(trQuestVarGet("hwfeoaifop")==0) trQuestVarSet("oiwghogwhywhlocx", xsVectorGetX(kbUnitGetPosition(1*%Object%))+trQuestVarGet("wagogehmeas"));</Command>
		<Command>if(trQuestVarGet("hwfeoaifop")==1) trQuestVarSet("oiwghogwhywhlocx", xsVectorGetX(kbUnitGetPosition(1*%Object%))-trQuestVarGet("wagogehmeas"));</Command>
		<Command>trQuestVarSet("hwfeoaifopx", 0);</Command>
		<Command>if(%edge%==true) trQuestVarSet("hwfeoaifopx", (%radius%-trQuestVarGet("wagogehmeas")));</Command>
		<Command>trQuestVarSetFromRand("wagogehmeas", trQuestVarGet("hwfeoaifopx"), (%radius%-trQuestVarGet("wagogehmeas")), true);</Command>
		<Command>trQuestVarSetFromRand("hwfeoaifop", 0, 1, true);</Command>
		<Command>if(trQuestVarGet("hwfeoaifop")==0) trQuestVarSet("oiwghogwhywhlocz", xsVectorGetZ(kbUnitGetPosition(1*%Object%))+trQuestVarGet("wagogehmeas"));</Command>
		<Command>if(trQuestVarGet("hwfeoaifop")==1) trQuestVarSet("oiwghogwhywhlocz", xsVectorGetZ(kbUnitGetPosition(1*%Object%))-trQuestVarGet("wagogehmeas"));</Command>
		<Command>trUnitTeleport(trQuestVarGet("oiwghogwhywhlocx"), xsVectorGetY(kbUnitGetPosition(1*%Object%)), trQuestVarGet("oiwghogwhywhlocz"));</Command>
		<Command>xsSetContextPlayer(trQuestVarGet("fhweaohpgpagowhwa"));</Command>
   </Effect>
   
   <Effect name="XS - Teleport Unit (OBJECT ID) to Near Unit">
      <Param name="SrcObject" dispName="Source Unit OBJECT ID" varType="string">0</Param>
	  <Param name="Object" dispName="Target Unit OBJECT ID" varType="string">0</Param>
	  <Param name="radius" dispName="Approx. Radius (slightly off)" varType="string">10</Param>
	  <Param name="edge" dispName="Edge Only" varType="bool">false</Param>
		<Command>trQuestVarSet("fhweaohpgpagowhwa", xsGetContextPlayer());</Command>
		<Command>xsSetContextPlayer(0);</Command>
		<Command>kbLookAtAllUnitsOnMap();</Command>
		<Command>trUnitSelectClear();</Command>
		<Command>trUnitSelectByID(1*%SrcObject%);</Command>
		<Command>trQuestVarSetFromRand("hwfeoaifop", 0, 1, true);</Command>
		<Command>trQuestVarSetFromRand("wagogehmeas", 0, %radius%, true);</Command>
		<Command>if(trQuestVarGet("hwfeoaifop")==0) trQuestVarSet("oiwghogwhywhlocx", xsVectorGetX(kbUnitGetPosition(1*%Object%))+trQuestVarGet("wagogehmeas"));</Command>
		<Command>if(trQuestVarGet("hwfeoaifop")==1) trQuestVarSet("oiwghogwhywhlocx", xsVectorGetX(kbUnitGetPosition(1*%Object%))-trQuestVarGet("wagogehmeas"));</Command>
		<Command>trQuestVarSet("hwfeoaifopx", 0);</Command>
		<Command>if(%edge%==true) trQuestVarSet("hwfeoaifopx", (%radius%-trQuestVarGet("wagogehmeas")));</Command>
		<Command>trQuestVarSetFromRand("wagogehmeas", trQuestVarGet("hwfeoaifopx"), (%radius%-trQuestVarGet("wagogehmeas")), true);</Command>
		<Command>trQuestVarSetFromRand("hwfeoaifop", 0, 1, true);</Command>
		<Command>if(trQuestVarGet("hwfeoaifop")==0) trQuestVarSet("oiwghogwhywhlocz", xsVectorGetZ(kbUnitGetPosition(1*%Object%))+trQuestVarGet("wagogehmeas"));</Command>
		<Command>if(trQuestVarGet("hwfeoaifop")==1) trQuestVarSet("oiwghogwhywhlocz", xsVectorGetZ(kbUnitGetPosition(1*%Object%))-trQuestVarGet("wagogehmeas"));</Command>
		<Command>trUnitTeleport(trQuestVarGet("oiwghogwhywhlocx"), xsVectorGetY(kbUnitGetPosition(1*%Object%)), trQuestVarGet("oiwghogwhywhlocz"));</Command>
		<Command>xsSetContextPlayer(trQuestVarGet("fhweaohpgpagowhwa"));</Command>
   </Effect>
   
   <Effect name="XS - Move Near Unit">
      <Param name="SrcObject" dispName="Source Units" varType="unit">default</Param>
      <Param name="Object" dispName="Target Unit OBJECT ID" varType="string">0</Param>
       <Param name="radius" dispName="Approx. Radius (slightly off)" varType="string">10</Param>
		<Param name="edge" dispName="Edge Only" varType="bool">false</Param>
	  <Param name="EventID" dispName="Trigger" varType="event">-1</Param>
      <Param name="AttackMove" dispName="Attack Move" varType="bool">false</Param>
      <Command>trQuestVarSet("fhweaohpgpagowhwa", xsGetContextPlayer());</Command>
		<Command>xsSetContextPlayer(0);</Command>
		<Command>kbLookAtAllUnitsOnMap();</Command>
		<Command>trQuestVarSetFromRand("hwfeoaifop", 0, 1, true);</Command>
		<Command>trQuestVarSetFromRand("wagogehmeas", 0, %radius%, true);</Command>
		<Command>if(trQuestVarGet("hwfeoaifop")==0) trQuestVarSet("oiwghogwhywhlocx", xsVectorGetX(kbUnitGetPosition(1*%Object%))+trQuestVarGet("wagogehmeas"));</Command>
		<Command>if(trQuestVarGet("hwfeoaifop")==1) trQuestVarSet("oiwghogwhywhlocx", xsVectorGetX(kbUnitGetPosition(1*%Object%))-trQuestVarGet("wagogehmeas"));</Command>
		<Command>trQuestVarSet("hwfeoaifopx", 0);</Command>
		<Command>if(%edge%==true) trQuestVarSet("hwfeoaifopx", (%radius%-trQuestVarGet("wagogehmeas")));</Command>
		<Command>trQuestVarSetFromRand("wagogehmeas", trQuestVarGet("hwfeoaifopx"), (%radius%-trQuestVarGet("wagogehmeas")), true);</Command>
		<Command>trQuestVarSetFromRand("hwfeoaifop", 0, 1, true);</Command>
		<Command>if(trQuestVarGet("hwfeoaifop")==0) trQuestVarSet("oiwghogwhywhlocz", xsVectorGetZ(kbUnitGetPosition(1*%Object%))+trQuestVarGet("wagogehmeas"));</Command>
		<Command>if(trQuestVarGet("hwfeoaifop")==1) trQuestVarSet("oiwghogwhywhlocz", xsVectorGetZ(kbUnitGetPosition(1*%Object%))-trQuestVarGet("wagogehmeas"));</Command>
		<Command>trUnitSelectClear();</Command>
      <Command loop="" loopParm="SrcObject">trUnitSelect("%SrcObject%");</Command>
      <Command>trUnitMoveToPoint(trQuestVarGet("oiwghogwhywhlocx"), xsVectorGetY(kbUnitGetPosition(1*%Object%)), trQuestVarGet("oiwghogwhywhlocz"), %EventID%, %AttackMove%);</Command>
      <Command>xsSetContextPlayer(trQuestVarGet("fhweaohpgpagowhwa"));</Command>
   </Effect>
   
   <Effect name="XS - Move (OBJECT ID) Near Unit">
      <Param name="SrcObject" dispName="Source Unit OBJECT ID" varType="string">0</Param>
      <Param name="Object" dispName="Target Unit OBJECT ID" varType="string">0</Param>
       <Param name="radius" dispName="Approx. Radius (slightly off)" varType="string">10</Param>
		<Param name="edge" dispName="Edge Only" varType="bool">false</Param>
	  <Param name="EventID" dispName="Trigger" varType="event">-1</Param>
      <Param name="AttackMove" dispName="Attack Move" varType="bool">false</Param>
      <Command>trQuestVarSet("fhweaohpgpagowhwa", xsGetContextPlayer());</Command>
		<Command>xsSetContextPlayer(0);</Command>
		<Command>kbLookAtAllUnitsOnMap();</Command>
		<Command>trQuestVarSetFromRand("hwfeoaifop", 0, 1, true);</Command>
		<Command>trQuestVarSetFromRand("wagogehmeas", 0, %radius%, true);</Command>
		<Command>if(trQuestVarGet("hwfeoaifop")==0) trQuestVarSet("oiwghogwhywhlocx", xsVectorGetX(kbUnitGetPosition(1*%Object%))+trQuestVarGet("wagogehmeas"));</Command>
		<Command>if(trQuestVarGet("hwfeoaifop")==1) trQuestVarSet("oiwghogwhywhlocx", xsVectorGetX(kbUnitGetPosition(1*%Object%))-trQuestVarGet("wagogehmeas"));</Command>
		<Command>trQuestVarSet("hwfeoaifopx", 0);</Command>
		<Command>if(%edge%==true) trQuestVarSet("hwfeoaifopx", (%radius%-trQuestVarGet("wagogehmeas")));</Command>
		<Command>trQuestVarSetFromRand("wagogehmeas", trQuestVarGet("hwfeoaifopx"), (%radius%-trQuestVarGet("wagogehmeas")), true);</Command>
		<Command>trQuestVarSetFromRand("hwfeoaifop", 0, 1, true);</Command>
		<Command>if(trQuestVarGet("hwfeoaifop")==0) trQuestVarSet("oiwghogwhywhlocz", xsVectorGetZ(kbUnitGetPosition(1*%Object%))+trQuestVarGet("wagogehmeas"));</Command>
		<Command>if(trQuestVarGet("hwfeoaifop")==1) trQuestVarSet("oiwghogwhywhlocz", xsVectorGetZ(kbUnitGetPosition(1*%Object%))-trQuestVarGet("wagogehmeas"));</Command>
		<Command>trUnitSelectClear();</Command>
      <Command>trUnitSelectByID(1*%SrcObject%);</Command>
      <Command>trUnitMoveToPoint(trQuestVarGet("oiwghogwhywhlocx"), xsVectorGetY(kbUnitGetPosition(1*%Object%)), trQuestVarGet("oiwghogwhywhlocz"), %EventID%, %AttackMove%);</Command>
      <Command>xsSetContextPlayer(trQuestVarGet("fhweaohpgpagowhwa"));</Command>
   </Effect>
   
   <Effect name="XS - Army Move Near Unit">
      <Param name="SrcArmy" dispName="Army" varType="group">default</Param>
      <Param name="Object" dispName="Target Unit OBJECT ID" varType="string">0</Param>
      <Param name="radius" dispName="Approx. Radius (slightly off)" varType="string">10</Param>
		<Param name="edge" dispName="Edge Only" varType="bool">false</Param>
	  <Param name="EventID" dispName="Trigger" varType="event">-1</Param>
	  <Param name="AttackMove" dispName="Attack Move" varType="bool">false</Param>
       <Command>trQuestVarSet("fhweaohpgpagowhwa", xsGetContextPlayer());</Command>
		<Command>xsSetContextPlayer(0);</Command>
		<Command>kbLookAtAllUnitsOnMap();</Command>
		<Command>trQuestVarSetFromRand("hwfeoaifop", 0, 1, true);</Command>
		<Command>trQuestVarSetFromRand("wagogehmeas", 0, %radius%, true);</Command>
		<Command>if(trQuestVarGet("hwfeoaifop")==0) trQuestVarSet("oiwghogwhywhlocx", xsVectorGetX(kbUnitGetPosition(1*%Object%))+trQuestVarGet("wagogehmeas"));</Command>
		<Command>if(trQuestVarGet("hwfeoaifop")==1) trQuestVarSet("oiwghogwhywhlocx", xsVectorGetX(kbUnitGetPosition(1*%Object%))-trQuestVarGet("wagogehmeas"));</Command>
		<Command>trQuestVarSet("hwfeoaifopx", 0);</Command>
		<Command>if(%edge%==true) trQuestVarSet("hwfeoaifopx", (%radius%-trQuestVarGet("wagogehmeas")));</Command>
		<Command>trQuestVarSetFromRand("wagogehmeas", trQuestVarGet("hwfeoaifopx"), (%radius%-trQuestVarGet("wagogehmeas")), true);</Command>
		<Command>trQuestVarSetFromRand("hwfeoaifop", 0, 1, true);</Command>
		<Command>if(trQuestVarGet("hwfeoaifop")==0) trQuestVarSet("oiwghogwhywhlocz", xsVectorGetZ(kbUnitGetPosition(1*%Object%))+trQuestVarGet("wagogehmeas"));</Command>
		<Command>if(trQuestVarGet("hwfeoaifop")==1) trQuestVarSet("oiwghogwhywhlocz", xsVectorGetZ(kbUnitGetPosition(1*%Object%))-trQuestVarGet("wagogehmeas"));</Command>
		<Command>trArmySelect("%SrcArmy%");</Command>
      <Command>trUnitMoveToPoint(trQuestVarGet("oiwghogwhywhlocx"), xsVectorGetY(kbUnitGetPosition(1*%Object%)), trQuestVarGet("oiwghogwhywhlocz"), %EventID%, %AttackMove%);</Command>
      <Command>xsSetContextPlayer(trQuestVarGet("fhweaohpgpagowhwa"));</Command>
   </Effect>
   
   
   	<Effect name="XS - Scatter - Random in Area (Center Unit)">
      <Param name="Object" dispName="Center Unit OBJECT ID" varType="string">0</Param>
		<Param name="Dst" dispName="Center Unit Radius" varType="string">10.0</Param>
		<Param name="UnitId" dispName="Unit Type ID (Optional)" varType="string">-1</Param>
		<Param name="FromPlayer" dispName="From Player Number or 99 for ALL" varType="string">99</Param>
       <Param name="radius" dispName="Scatter Radius" varType="string">10</Param>
		<Param name="edge" dispName="Edge Only" varType="bool">false</Param>
		<Param name="attack" dispName="Attack Move" varType="bool">false</Param>
		<Param name="runsp" dispName="Run Speed" VarType="float">0.0</Param>
		<Command>trQuestVarSet("convarea", 0);</Command>
		<Command>trQuestVarSet("ffweho",0);</Command>
		<Command>if(%FromPlayer%!=99) trQuestVarSet("vroom", %FromPlayer%);</Command>
		<Command>trQuestVarSet("warthog", 0);</Command>
		<Command>trQuestVarSet("zeep", 0);</Command>
		<Command>if(%UnitId%>=0) {</Command>
		<Command>trQuestVarSet("zeep", %UnitId%);</Command>
		<Command>}</Command>
		<Command>if(0>%UnitId%) {</Command>
		<Command>while(kbGetUnitTypeName(trQuestVarGet("zeep"))!="All") {</Command>
		<Command>trQuestVarSet("zeep", trQuestVarGet("zeep")+1);</Command>
		<Command>}}</Command>
		<Command>trQuestVarSet("lastpl", xsGetContextPlayer());</Command>
		<Command>xsSetContextPlayer(0);</Command>
		<Command>kbLookAtAllUnitsOnMap();</Command>
		<Command>if(%FromPlayer%!=99) trQuestVarSet("blarg",%FromPlayer%);</Command>
		<Command>if(%FromPlayer%==99) {</Command>
		<Command>trQuestVarSet("blarg",0);</Command>
		<Command>trQuestVarSet("vroom",12);</Command>
		<Command>}</Command>
		<Command>trQuestVarSet("i",trQuestVarGet("blarg"));</Command>
		<Command>while(trQuestVarGet("vroom")>=trQuestVarGet("i")) {</Command>
		<Command>trQuestVarSet("convarea", kbUnitQueryCreate("convarea"));</Command>
		<Command>kbUnitQuerySetPlayerID(trQuestVarGet("convarea"), trQuestVarGet("i"));</Command>
		<Command>kbUnitQuerySetUnitType(trQuestVarGet("convarea"), trQuestVarGet("zeep"));</Command>
		<Command>kbUnitQuerySetPosition(trQuestVarGet("convarea"), kbUnitGetPosition(1*%Object%));</Command>
		<Command>kbUnitQuerySetMaximumDistance(trQuestVarGet("convarea"), %Dst%);</Command>
		<Command>kbUnitQuerySetAscendingSort(trQuestVarGet("convarea"), true);</Command>
		<Command>kbUnitQueryResetResults(trQuestVarGet("convarea"));</Command>
		<Command>trQuestVarSet("warthog", kbUnitQueryExecute(trQuestVarGet("convarea")));</Command>
		<Command>while(trQuestVarGet("warthog")>0) {</Command>
		<Command>trQuestVarSet("warthog", trQuestVarGet("warthog")-1);</Command>
		<Command>trQuestVarSet("ffweho", kbUnitQueryGetResult(trQuestVarGet("convarea"), trQuestVarGet("warthog")));</Command>
		<Command>trQuestVarSet("ffweho2", trQuestVarGet("ffweho"));</Command>
		<Command>if(trQuestVarGet("ffweho2")!=1*%Object%) {</Command>
		<Command>trUnitSelectClear();</Command>
		<Command>trUnitSelectByID(1*trQuestVarGet("ffweho"));</Command>
		<Command>trQuestVarSetFromRand("hwfeoaifop", 0, 1, true);</Command>
		<Command>trQuestVarSetFromRand("wagogehmeas", 0, %radius%, true);</Command>
		<Command>if(trQuestVarGet("hwfeoaifop")==0) trQuestVarSet("oiwghogwhywhlocx", xsVectorGetX(kbUnitGetPosition(1*%Object%))+trQuestVarGet("wagogehmeas"));</Command>
		<Command>if(trQuestVarGet("hwfeoaifop")==1) trQuestVarSet("oiwghogwhywhlocx", xsVectorGetX(kbUnitGetPosition(1*%Object%))-trQuestVarGet("wagogehmeas"));</Command>
		<Command>trQuestVarSet("hwfeoaifopx", 0);</Command>
		<Command>if(%edge%==true) trQuestVarSet("hwfeoaifopx", (%radius%-trQuestVarGet("wagogehmeas")));</Command>
		<Command>trQuestVarSetFromRand("wagogehmeas", trQuestVarGet("hwfeoaifopx"), (%radius%-trQuestVarGet("wagogehmeas")), true);</Command>
		<Command>trQuestVarSetFromRand("hwfeoaifop", 0, 1, true);</Command>
		<Command>if(trQuestVarGet("hwfeoaifop")==0) trQuestVarSet("oiwghogwhywhlocz", xsVectorGetZ(kbUnitGetPosition(1*%Object%))+trQuestVarGet("wagogehmeas"));</Command>
		<Command>if(trQuestVarGet("hwfeoaifop")==1) trQuestVarSet("oiwghogwhywhlocz", xsVectorGetZ(kbUnitGetPosition(1*%Object%))-trQuestVarGet("wagogehmeas"));</Command>
		<Command>if(0>=%runsp%) trUnitMoveToPoint(trQuestVarGet("oiwghogwhywhlocx"), xsVectorGetY(kbUnitGetPosition(1*%Object%)), trQuestVarGet("oiwghogwhywhlocz"), -1, %attack%, false, %runsp%);</Command>
		<Command>if(%runsp%>0) trUnitMoveToPoint(trQuestVarGet("oiwghogwhywhlocx"), xsVectorGetY(kbUnitGetPosition(1*%Object%)), trQuestVarGet("oiwghogwhywhlocz"), -1, %attack%, true, %runsp%);</Command>
		<Command>}}</Command>
		<Command>trQuestVarSet("i", trQuestVarGet("i")+1);}</Command>
		<Command>xsSetContextPlayer(trQuestVarGet("lastpl"));</Command>
   </Effect>
   
   <Effect name="XS - Scatter - From Orignal Location (Center Unit)">
      <Param name="Object" dispName="Center Unit OBJECT ID" varType="string">0</Param>
		<Param name="Dst" dispName="Center Unit Radius" varType="string">10.0</Param>
		<Param name="UnitId" dispName="Unit Type ID (Optional)" varType="string">-1</Param>
		<Param name="FromPlayer" dispName="From Player Number or 99 for ALL" varType="string">99</Param>
       <Param name="radius" dispName="Scatter Radius" varType="string">10</Param>
		<Param name="edge" dispName="Edge Only" varType="bool">false</Param>
		<Param name="attack" dispName="Attack Move" varType="bool">false</Param>
		<Param name="runsp" dispName="Run Speed" VarType="float">0.0</Param>
		<Command>trQuestVarSet("convarea", 0);</Command>
		<Command>trQuestVarSet("ffweho",0);</Command>
		<Command>if(%FromPlayer%!=99) trQuestVarSet("vroom", %FromPlayer%);</Command>
		<Command>trQuestVarSet("warthog", 0);</Command>
		<Command>trQuestVarSet("zeep", 0);</Command>
		<Command>if(%UnitId%>=0) {</Command>
		<Command>trQuestVarSet("zeep", %UnitId%);</Command>
		<Command>}</Command>
		<Command>if(0>%UnitId%) {</Command>
		<Command>while(kbGetUnitTypeName(trQuestVarGet("zeep"))!="All") {</Command>
		<Command>trQuestVarSet("zeep", trQuestVarGet("zeep")+1);</Command>
		<Command>}}</Command>
		<Command>trQuestVarSet("lastpl", xsGetContextPlayer());</Command>
		<Command>xsSetContextPlayer(0);</Command>
		<Command>kbLookAtAllUnitsOnMap();</Command>
		<Command>if(%FromPlayer%!=99) trQuestVarSet("blarg",%FromPlayer%);</Command>
		<Command>if(%FromPlayer%==99) {</Command>
		<Command>trQuestVarSet("blarg",0);</Command>
		<Command>trQuestVarSet("vroom",12);</Command>
		<Command>}</Command>
		<Command>trQuestVarSet("i",trQuestVarGet("blarg"));</Command>
		<Command>while(trQuestVarGet("vroom")>=trQuestVarGet("i")) {</Command>
		<Command>trQuestVarSet("convarea", kbUnitQueryCreate("convarea"));</Command>
		<Command>kbUnitQuerySetPlayerID(trQuestVarGet("convarea"), trQuestVarGet("i"));</Command>
		<Command>kbUnitQuerySetUnitType(trQuestVarGet("convarea"), trQuestVarGet("zeep"));</Command>
		<Command>kbUnitQuerySetPosition(trQuestVarGet("convarea"), kbUnitGetPosition(1*%Object%));</Command>
		<Command>kbUnitQuerySetMaximumDistance(trQuestVarGet("convarea"), %Dst%);</Command>
		<Command>kbUnitQuerySetAscendingSort(trQuestVarGet("convarea"), true);</Command>
		<Command>kbUnitQueryResetResults(trQuestVarGet("convarea"));</Command>
		<Command>trQuestVarSet("warthog", kbUnitQueryExecute(trQuestVarGet("convarea")));</Command>
		<Command>while(trQuestVarGet("warthog")>0) {</Command>
		<Command>trQuestVarSet("warthog", trQuestVarGet("warthog")-1);</Command>
		<Command>trQuestVarSet("ffweho", kbUnitQueryGetResult(trQuestVarGet("convarea"), trQuestVarGet("warthog")));</Command>
		<Command>trQuestVarSet("ffweho2", trQuestVarGet("ffweho"));</Command>
		<Command>if(trQuestVarGet("ffweho2")!=1*%Object%) {</Command>
		<Command>trUnitSelectClear();</Command>
		<Command>trUnitSelectByID(1*trQuestVarGet("ffweho"));</Command>
		<Command>trQuestVarSetFromRand("hwfeoaifop", 0, 1, true);</Command>
		<Command>trQuestVarSetFromRand("wagogehmeas", 0, %radius%, true);</Command>
		<Command>if(trQuestVarGet("hwfeoaifop")==0) trQuestVarSet("oiwghogwhywhlocx", xsVectorGetX(kbUnitGetPosition(1*trQuestVarGet("ffweho")))+trQuestVarGet("wagogehmeas"));</Command>
		<Command>if(trQuestVarGet("hwfeoaifop")==1) trQuestVarSet("oiwghogwhywhlocx", xsVectorGetX(kbUnitGetPosition(1*trQuestVarGet("ffweho")))-trQuestVarGet("wagogehmeas"));</Command>
		<Command>trQuestVarSet("hwfeoaifopx", 0);</Command>
		<Command>if(%edge%==true) trQuestVarSet("hwfeoaifopx", (%radius%-trQuestVarGet("wagogehmeas")));</Command>
		<Command>trQuestVarSetFromRand("wagogehmeas", trQuestVarGet("hwfeoaifopx"), (%radius%-trQuestVarGet("wagogehmeas")), true);</Command>
		<Command>trQuestVarSetFromRand("hwfeoaifop", 0, 1, true);</Command>
		<Command>if(trQuestVarGet("hwfeoaifop")==0) trQuestVarSet("oiwghogwhywhlocz", xsVectorGetZ(kbUnitGetPosition(1*trQuestVarGet("ffweho")))+trQuestVarGet("wagogehmeas"));</Command>
		<Command>if(trQuestVarGet("hwfeoaifop")==1) trQuestVarSet("oiwghogwhywhlocz", xsVectorGetZ(kbUnitGetPosition(1*trQuestVarGet("ffweho")))-trQuestVarGet("wagogehmeas"));</Command>
		<Command>if(0>=%runsp%) trUnitMoveToPoint(trQuestVarGet("oiwghogwhywhlocx"), xsVectorGetY(kbUnitGetPosition(1*%Object%)), trQuestVarGet("oiwghogwhywhlocz"), -1, %attack%, false, %runsp%);</Command>
		<Command>if(%runsp%>0) trUnitMoveToPoint(trQuestVarGet("oiwghogwhywhlocx"), xsVectorGetY(kbUnitGetPosition(1*%Object%)), trQuestVarGet("oiwghogwhywhlocz"), -1, %attack%, true, %runsp%);</Command>
		<Command>}}</Command>
		<Command>trQuestVarSet("i", trQuestVarGet("i")+1);}</Command>
		<Command>xsSetContextPlayer(trQuestVarGet("lastpl"));</Command>
   </Effect>
   
   	<Effect name="XS - Teleport Units in Area (Center Unit)">
		<Param name="Object" dispName="Center Unit OBJECT ID" varType="string">0</Param>
		<Param name="Dst" dispName="Radius" varType="string">10.0</Param>
		<Param name="UnitId" dispName="Unit Type ID (Optional)" varType="string">-1</Param>
		<Param name="FromPlayer" dispName="From Player or 99 for ALL" varType="string">99</Param>
		<Param name="Area" dispName="" varType="area">0, 0, 0</Param>
		<Param name="Booler" dispName="Include Center Unit" varType="bool">false</Param>
		<Param name="position" dispName="Retain Unit Positions" varType="bool">false</Param>
		<Command>trQuestVarSet("convarea", 0);</Command>
		<Command>trQuestVarSet("ffweho",0);</Command>
		<Command>if(%FromPlayer%!=99) trQuestVarSet("vroom", %FromPlayer%);</Command>
		<Command>trQuestVarSet("warthog", 0);</Command>
		<Command>trQuestVarSet("zeep", 0);</Command>
		<Command>if(%UnitId%>=0) {</Command>
		<Command>trQuestVarSet("zeep", %UnitId%);</Command>
		<Command>}</Command>
		<Command>if(0>%UnitId%) {</Command>
		<Command>while(kbGetUnitTypeName(trQuestVarGet("zeep"))!="All") {</Command>
		<Command>trQuestVarSet("zeep", trQuestVarGet("zeep")+1);</Command>
		<Command>}}</Command>
		<Command>trQuestVarSet("lastpl", xsGetContextPlayer());</Command>
		<Command>if(%FromPlayer%!=99) trQuestVarSet("blarg",%FromPlayer%);</Command>
		<Command>if(%FromPlayer%==99) {</Command>
		<Command>trQuestVarSet("blarg",0);</Command>
		<Command>trQuestVarSet("vroom",12);</Command>
		<Command>}</Command>
		<Command>trQuestVarSet("i",trQuestVarGet("blarg"));</Command>
		<Command>while(trQuestVarGet("vroom")>=trQuestVarGet("i")) {</Command>
		<Command>xsSetContextPlayer(trQuestVarGet("i"));</Command>
		<Command>kbLookAtAllUnitsOnMap();</Command>
		<Command>trQuestVarSet("convarea", kbUnitQueryCreate("convarea"));</Command>
		<Command>kbUnitQuerySetPlayerID(trQuestVarGet("convarea"), trQuestVarGet("i"));</Command>
		<Command>kbUnitQuerySetUnitType(trQuestVarGet("convarea"), trQuestVarGet("zeep"));</Command>
		<Command>kbUnitQuerySetPosition(trQuestVarGet("convarea"), kbUnitGetPosition(1*%Object%));</Command>
		<Command>kbUnitQuerySetMaximumDistance(trQuestVarGet("convarea"), %Dst%);</Command>
		<Command>kbUnitQuerySetAscendingSort(trQuestVarGet("convarea"), true);</Command>
		<Command>kbUnitQueryResetResults(trQuestVarGet("convarea"));</Command>
		<Command>trQuestVarSet("warthog", kbUnitQueryExecute(trQuestVarGet("convarea")));</Command>
		<Command>while(trQuestVarGet("warthog")>0) {</Command>
		<Command>trQuestVarSet("warthog", trQuestVarGet("warthog")-1);</Command>
		<Command>trQuestVarSet("ffweho", kbUnitQueryGetResult(trQuestVarGet("convarea"), trQuestVarGet("warthog")));</Command>
		<Command>trQuestVarSet("ffweho2", trQuestVarGet("ffweho"));</Command>
		<Command>if(%Booler%==true) {</Command>
		<Command>if(trQuestVarGet("ffweho2")==1*%Object%) {trQuestVarSet("ffweho2", trQuestVarGet("ffweho")+1);}}</Command>
		<Command>if(trQuestVarGet("ffweho2")!=1*%Object%) {</Command>
		<Command>trUnitSelectClear();</Command>
		<Command>trUnitSelectByID(1*trQuestVarGet("ffweho"));</Command>
		<Command>trQuestVarSet("oiwghogwhywhlocx", xsVectorGetX(vector(%Area%)));</Command>
		<Command>if(%position%==true) trQuestVarSet("oiwghogwhywhlocx", xsVectorGetX(vector(%Area%))- (xsVectorGetX(kbUnitGetPosition(1*%Object%))-xsVectorGetX(kbUnitGetPosition(1*trQuestVarGet("ffweho")))));</Command>
		<Command>trQuestVarSet("oiwghogwhywhlocz", xsVectorGetZ(vector(%Area%)));</Command>
		<Command>if(%position%==true) trQuestVarSet("oiwghogwhywhlocz", xsVectorGetZ(vector(%Area%))- (xsVectorGetZ(kbUnitGetPosition(1*%Object%))-xsVectorGetZ(kbUnitGetPosition(1*trQuestVarGet("ffweho")))));</Command>
		<Command>trUnitTeleport(1*trQuestVarGet("oiwghogwhywhlocx"), xsVectorGetY(vector(%Area%)), 1*trQuestVarGet("oiwghogwhywhlocz"));</Command>
		<Command>}}</Command>
		<Command>trQuestVarSet("i", trQuestVarGet("i")+1);}</Command>
		<Command>xsSetContextPlayer(trQuestVarGet("lastpl"));</Command>
	</Effect>
	
	<Effect name="XS - Army Deploy to Unit">
		<Param name="SrcArmy" dispName="Army" varType="group">default</Param>
		<Param name="ProtoName" dispName="ProtoName" varType="protounit">Villager</Param>
		<Param name="Object" dispName="Target Unit OBJECT ID" varType="string">0</Param>
		<Param name="Count"  dispName="Count" varType="string">0</Param>
		<Param name="Heading"  dispName="Heading" varType="string">0</Param>
		<Param name="Clear" dispName="Clear Existing Units:" varType="bool">true</Param>
		<Command>trQuestVarSet("fhweaohpgpagowhwa", xsGetContextPlayer());</Command>
		<Command>xsSetContextPlayer(0);</Command>
		<Command>kbLookAtAllUnitsOnMap();</Command>
		<Command>trArmyDispatch("%SrcArmy%", "%ProtoName%", %Count%, xsVectorGetX(kbUnitGetPosition(1*%Object%)),xsVectorGetY(kbUnitGetPosition(1*%Object%)),xsVectorGetZ(kbUnitGetPosition(1*%Object%)), %Heading%, %Clear%);</Command>
		<Command>xsSetContextPlayer(trQuestVarGet("fhweaohpgpagowhwa"));</Command>
	</Effect>
	
	<Effect name="XS - Unit Create At Unit">
	  <Param name="PlayerID" dispName="Player" varType="string">0</Param>
	  <Param name="ProtoName" dispName="ProtoName" varType="protounit">Villager</Param>
	  <Param name="ScenName" dispName="Name" varType="string">Default</Param>
	  <Param name="Object" dispName="Target Unit OBJECT ID" varType="string">0</Param>
	  <Param name="Heading"  dispName="Heading" varType="string">0</Param>
		<Command>trQuestVarSet("fhweaohpgpagowhwa", xsGetContextPlayer());</Command>
		<Command>xsSetContextPlayer(0);</Command>
		<Command>kbLookAtAllUnitsOnMap();</Command>
		<Command>trUnitCreate("%ProtoName%", "%ScenName%", xsVectorGetX(kbUnitGetPosition(1*%Object%)),xsVectorGetY(kbUnitGetPosition(1*%Object%)),xsVectorGetZ(kbUnitGetPosition(1*%Object%)), %Heading%, %PlayerID%);</Command>
		<Command>xsSetContextPlayer(trQuestVarGet("fhweaohpgpagowhwa"));</Command>
   </Effect>
   
   <Effect name="XS - Army Teleport To Unit">
      <Param name="SrcArmy" dispName="Army" varType="group">default</Param>
	  <Param name="Object" dispName="Target Unit OBJECT ID" varType="string">0</Param>
		<Command>trQuestVarSet("fhweaohpgpagowhwa", xsGetContextPlayer());</Command>
		<Command>xsSetContextPlayer(0);</Command>
		<Command>kbLookAtAllUnitsOnMap();</Command>
		<Command>trArmySelect("%SrcArmy%");</Command>
		<Command>trUnitTeleport(xsVectorGetX(kbUnitGetPosition(1*%Object%)),xsVectorGetY(kbUnitGetPosition(1*%Object%)),xsVectorGetZ(kbUnitGetPosition(1*%Object%)));</Command>
		<Command>xsSetContextPlayer(trQuestVarGet("fhweaohpgpagowhwa"));</Command>
   </Effect>
   
   <Effect name="XS - Army Build Building At Unit">
      <Param name="SrcArmy" dispName="Army" varType="group">default</Param>
      <Param name="ProtoUnit" dispName="ProtoUnit To Build" varType="protounit">default</Param>
      <Param name="Object" dispName="Target Unit OBJECT ID" varType="string">0</Param>
		<Command>trQuestVarSet("fhweaohpgpagowhwa", xsGetContextPlayer());</Command>
		<Command>xsSetContextPlayer(0);</Command>
		<Command>kbLookAtAllUnitsOnMap();</Command>
		<Command>trArmySelect("%SrcArmy%");</Command>
		<Command>trUnitBuildUnit("%ProtoUnit%", kbUnitGetPosition(1*%Object%));</Command>
		<Command>xsSetContextPlayer(trQuestVarGet("fhweaohpgpagowhwa"));</Command>
   </Effect>
   
   <Effect name="XS - Unit Build Building At Unit">
      <Param name="SrcObject" dispName="Source Units" varType="unit">default</Param>
      <Param name="ProtoUnit" dispName="ProtoUnit To Build" varType="protounit">default</Param>
      <Param name="Object" dispName="Target Unit OBJECT ID" varType="string">0</Param>
		<Command>trQuestVarSet("fhweaohpgpagowhwa", xsGetContextPlayer());</Command>
		<Command>xsSetContextPlayer(0);</Command>
		<Command>kbLookAtAllUnitsOnMap();</Command>
		<Command>trUnitSelectClear();</Command>
		<Command loop="" loopParm="SrcObject">trUnitSelect("%SrcObject%");</Command>
		<Command>trUnitBuildUnit("%ProtoUnit%", kbUnitGetPosition(1*%Object%));</Command>
		<Command>xsSetContextPlayer(trQuestVarGet("fhweaohpgpagowhwa"));</Command>
   </Effect>
   
   <Effect name="XS - Move From Area To Unit">
      <Param name="RefObject" dispName="Center Unit" varType="unit">default</Param>
	   <Param name="UnitType" dispName="Type" varType="string">Unit</Param>
	   <Param name="PlayerID" dispName="Player" varType="string">0</Param>
      <Param name="Radius" dispName="Radius" varType="string">10</Param>
      <Param name="Object" dispName="Target Unit OBJECT ID" varType="string">0</Param>
      <Param name="AttackMove" dispName="Attack Move" varType="bool">false</Param>
		<Command>trQuestVarSet("fhweaohpgpagowhwa", xsGetContextPlayer());</Command>
		<Command>xsSetContextPlayer(0);</Command>
		<Command>kbLookAtAllUnitsOnMap();</Command>
		<Command>trUnitSelectClear();</Command>
		<Command loop="" loopParm="RefObject">trUnitSelect("%RefObject%");</Command>
		<Command>trUnitMoveFromArea(xsVectorGetX(kbUnitGetPosition(1*%Object%)), xsVectorGetY(kbUnitGetPosition(1*%Object%)), xsVectorGetZ(kbUnitGetPosition(1*%Object%)), -1, %AttackMove%, %PlayerID%, "%UnitType%", %Radius%);</Command>
		<Command>xsSetContextPlayer(trQuestVarGet("fhweaohpgpagowhwa"));</Command>
   </Effect>
   
   <Effect name="XS - Move From Area (OBJECT ID) To Unit">
      <Param name="RefObject" dispName="Center Unit OBJECT ID" varType="string">0</Param>
	   <Param name="UnitType" dispName="Type" varType="string">Unit</Param>
	   <Param name="PlayerID" dispName="Player" varType="string">0</Param>
      <Param name="Radius" dispName="Radius" varType="string">10</Param>
      <Param name="Object" dispName="Target Unit OBJECT ID" varType="string">0</Param>
      <Param name="AttackMove" dispName="Attack Move" varType="bool">false</Param>
		<Command>trQuestVarSet("fhweaohpgpagowhwa", xsGetContextPlayer());</Command>
		<Command>xsSetContextPlayer(0);</Command>
		<Command>kbLookAtAllUnitsOnMap();</Command>
		<Command>trUnitSelectClear();</Command>
		<Command>trUnitSelectByID(1*%RefObject%);</Command>
		<Command>trUnitMoveFromArea(xsVectorGetX(kbUnitGetPosition(1*%Object%)), xsVectorGetY(kbUnitGetPosition(1*%Object%)), xsVectorGetZ(kbUnitGetPosition(1*%Object%)), -1, %AttackMove%, %PlayerID%, "%UnitType%", %Radius%);</Command>
		<Command>xsSetContextPlayer(trQuestVarGet("fhweaohpgpagowhwa"));</Command>
   </Effect>
   
   <Effect name="XS - Teleport Units to Unit">
      <Param name="SrcObject" dispName="Source Units" varType="unit">default</Param>
	  <Param name="Object" dispName="Target Unit OBJECT ID" varType="string">0</Param>
		<Command>trQuestVarSet("fhweaohpgpagowhwa", xsGetContextPlayer());</Command>
		<Command>xsSetContextPlayer(0);</Command>
		<Command>kbLookAtAllUnitsOnMap();</Command>
		<Command>trUnitSelectClear();</Command>
		<Command loop="" loopParm="SrcObject">trUnitSelect("%SrcObject%");</Command>
		<Command>trUnitTeleport(xsVectorGetX(kbUnitGetPosition(1*%Object%)), xsVectorGetY(kbUnitGetPosition(1*%Object%)), xsVectorGetZ(kbUnitGetPosition(1*%Object%)));</Command>
		<Command>xsSetContextPlayer(trQuestVarGet("fhweaohpgpagowhwa"));</Command>
   </Effect>
   
   <Effect name="XS - Teleport Unit (OBJECT ID) to Unit">
      <Param name="SrcObject" dispName="Source Unit OBJECT ID" varType="string">0</Param>
	  <Param name="Object" dispName="Target Unit OBJECT ID" varType="string">0</Param>
		<Command>trQuestVarSet("fhweaohpgpagowhwa", xsGetContextPlayer());</Command>
		<Command>xsSetContextPlayer(0);</Command>
		<Command>kbLookAtAllUnitsOnMap();</Command>
		<Command>trUnitSelectClear();</Command>
		<Command>trUnitSelectByID(1*%SrcObject%);</Command>
		<Command>trUnitTeleport(xsVectorGetX(kbUnitGetPosition(1*%Object%)), xsVectorGetY(kbUnitGetPosition(1*%Object%)), xsVectorGetZ(kbUnitGetPosition(1*%Object%)));</Command>
		<Command>xsSetContextPlayer(trQuestVarGet("fhweaohpgpagowhwa"));</Command>
   </Effect>
   
   	<Effect name="XS - Teleport Units in Area (Center Unit) To Unit">
		<Param name="Object" dispName="Center Unit OBJECT ID" varType="string">0</Param>
		<Param name="Dst" dispName="Radius" varType="string">10.0</Param>
		<Param name="UnitId" dispName="Unit Type ID (Optional)" varType="string">-1</Param>
		<Param name="FromPlayer" dispName="From Player or 99 for ALL" varType="string">99</Param>
		<Param name="Objecto" dispName="Target Unit OBJECT ID" varType="string">0</Param>
		<Param name="Booler" dispName="Include Center Unit" varType="bool">false</Param>
		<Param name="position" dispName="Retain Unit Positions" varType="bool">false</Param>
		<Command>trQuestVarSet("fhweaohpgpagowhwa", xsGetContextPlayer());</Command>
		<Command>xsSetContextPlayer(0);</Command>
		<Command>kbLookAtAllUnitsOnMap();</Command>
		<Command>trQuestVarSet("convarea", 0);</Command>
		<Command>trQuestVarSet("ffweho",0);</Command>
		<Command>if(%FromPlayer%!=99) trQuestVarSet("vroom", %FromPlayer%);</Command>
		<Command>trQuestVarSet("warthog", 0);</Command>
		<Command>trQuestVarSet("zeep", 0);</Command>
		<Command>if(%UnitId%>=0) {</Command>
		<Command>trQuestVarSet("zeep", %UnitId%);</Command>
		<Command>}</Command>
		<Command>if(0>%UnitId%) {</Command>
		<Command>while(kbGetUnitTypeName(trQuestVarGet("zeep"))!="All") {</Command>
		<Command>trQuestVarSet("zeep", trQuestVarGet("zeep")+1);</Command>
		<Command>}}</Command>
		<Command>if(%FromPlayer%!=99) trQuestVarSet("blarg",%FromPlayer%);</Command>
		<Command>if(%FromPlayer%==99) {</Command>
		<Command>trQuestVarSet("blarg",0);</Command>
		<Command>trQuestVarSet("vroom",12);</Command>
		<Command>}</Command>
		<Command>trQuestVarSet("i",trQuestVarGet("blarg"));</Command>
		<Command>while(trQuestVarGet("vroom")>=trQuestVarGet("i")) {</Command>
		<Command>xsSetContextPlayer(trQuestVarGet("i"));</Command>
		<Command>kbLookAtAllUnitsOnMap();</Command>
		<Command>trQuestVarSet("convarea", kbUnitQueryCreate("convarea"));</Command>
		<Command>kbUnitQuerySetPlayerID(trQuestVarGet("convarea"), trQuestVarGet("i"));</Command>
		<Command>kbUnitQuerySetUnitType(trQuestVarGet("convarea"), trQuestVarGet("zeep"));</Command>
		<Command>kbUnitQuerySetPosition(trQuestVarGet("convarea"), kbUnitGetPosition(1*%Object%));</Command>
		<Command>kbUnitQuerySetMaximumDistance(trQuestVarGet("convarea"), %Dst%);</Command>
		<Command>kbUnitQuerySetAscendingSort(trQuestVarGet("convarea"), true);</Command>
		<Command>kbUnitQueryResetResults(trQuestVarGet("convarea"));</Command>
		<Command>trQuestVarSet("warthog", kbUnitQueryExecute(trQuestVarGet("convarea")));</Command>
		<Command>while(trQuestVarGet("warthog")>0) {</Command>
		<Command>trQuestVarSet("warthog", trQuestVarGet("warthog")-1);</Command>
		<Command>trQuestVarSet("ffweho", kbUnitQueryGetResult(trQuestVarGet("convarea"), trQuestVarGet("warthog")));</Command>
		<Command>trQuestVarSet("ffweho2", trQuestVarGet("ffweho"));</Command>
		<Command>if(%Booler%==true) {</Command>
		<Command>if(trQuestVarGet("ffweho2")==1*%Object%) {trQuestVarSet("ffweho2", trQuestVarGet("ffweho")+1);}}</Command>
		<Command>if(trQuestVarGet("ffweho2")!=1*%Object%) {</Command>
		<Command>trUnitSelectClear();</Command>
		<Command>trUnitSelectByID(1*trQuestVarGet("ffweho"));</Command>
		<Command>trQuestVarSet("oiwghogwhywhlocx", xsVectorGetX(kbUnitGetPosition(1*%Objecto%)));</Command>
		<Command>if(%position%==true) trQuestVarSet("oiwghogwhywhlocx", xsVectorGetX(kbUnitGetPosition(1*%Objecto%))- (xsVectorGetX(kbUnitGetPosition(1*%Object%))-xsVectorGetX(kbUnitGetPosition(1*trQuestVarGet("ffweho")))));</Command>
		<Command>trQuestVarSet("oiwghogwhywhlocz", xsVectorGetZ(kbUnitGetPosition(1*%Objecto%)));</Command>
		<Command>if(%position%==true) trQuestVarSet("oiwghogwhywhlocz", xsVectorGetZ(kbUnitGetPosition(1*%Objecto%))- (xsVectorGetZ(kbUnitGetPosition(1*%Object%))-xsVectorGetZ(kbUnitGetPosition(1*trQuestVarGet("ffweho")))));</Command>
		<Command>trUnitTeleport(1*trQuestVarGet("oiwghogwhywhlocx"), xsVectorGetY(kbUnitGetPosition(1*%Objecto%)), 1*trQuestVarGet("oiwghogwhywhlocz"));</Command>
		<Command>}}</Command>
		<Command>trQuestVarSet("i", trQuestVarGet("i")+1);}</Command>
		<Command>xsSetContextPlayer(trQuestVarGet("fhweaohpgpagowhwa"));</Command>
	</Effect>
	
	<Effect name="XS - QV Set Distance to Unit">
      <Param name="SrcObject" dispName="Source Units" VarType="unit">default</Param>
      <Param name="Object" dispName="Target Unit OBJECT ID" VarType="string">0</Param>
	  <Param name="QV" dispName="QV" VarType="string">QV1</Param>
      <Command>trUnitSelectClear();</Command>
      <Command loop="" loopParm="SrcObject">trUnitSelect("%SrcObject%");</Command>
      <Command>trQuestVarSet("fhweaohpgpagowhwa", xsGetContextPlayer());</Command>
		<Command>xsSetContextPlayer(0);</Command>
		<Command>kbLookAtAllUnitsOnMap();</Command>
		<Command>trQuestVarSet("fhewoyf", xsVectorGetX(kbUnitGetPosition(1*%Object%)));</Command>
		<Command>trQuestVarSet("fhewoydfe", xsVectorGetY(kbUnitGetPosition(1*%Object%)));</Command>
		<Command>trQuestVarSet("fhewoyq", xsVectorGetZ(kbUnitGetPosition(1*%Object%)));</Command>
		<Command>xsSetContextPlayer(trQuestVarGet("fhweaohpgpagowhwa"));</Command>
        <Command>trQuestVarSet("%QV%", trUnitDistanceToPoint(trQuestVarGet("fhewoyf"),trQuestVarGet("fhewoydfe"),trQuestVarGet("fhewoyq")));</Command>
   </Effect>
   
   <Effect name="XS - QV Set Distance (OBJECT ID) to Unit">
      <Param name="SrcObject" dispName="Source Unit OBJECT ID" VarType="string">0</Param>
      <Param name="Object" dispName="Target Unit OBJECT ID" VarType="string">0</Param>
	  <Param name="QV" dispName="QV" VarType="string">QV1</Param>
      <Command>trUnitSelectClear();</Command>
      <Command>trUnitSelectByID(1*%SrcObject%);</Command>
      <Command>trQuestVarSet("fhweaohpgpagowhwa", xsGetContextPlayer());</Command>
		<Command>xsSetContextPlayer(0);</Command>
		<Command>kbLookAtAllUnitsOnMap();</Command>
		<Command>trQuestVarSet("fhewoyf", xsVectorGetX(kbUnitGetPosition(1*%Object%)));</Command>
		<Command>trQuestVarSet("fhewoydfe", xsVectorGetY(kbUnitGetPosition(1*%Object%)));</Command>
		<Command>trQuestVarSet("fhewoyq", xsVectorGetZ(kbUnitGetPosition(1*%Object%)));</Command>
		<Command>xsSetContextPlayer(trQuestVarGet("fhweaohpgpagowhwa"));</Command>
        <Command>trQuestVarSet("%QV%", trUnitDistanceToPoint(trQuestVarGet("fhewoyf"),trQuestVarGet("fhewoydfe"),trQuestVarGet("fhewoyq")));</Command>
   </Effect>
	
	<Effect name="XS - QV Set Units in Area (Center Unit)">
      <Param name="Object" dispName="Center Unit OBJECT ID" varType="string">0</Param>
      <Param name="FromPlayer" dispName="Player (99 for ALL)" varType="string">99</Param>
      <Param name="UnitId" dispName="Unit Type ID (Optional)" varType="string">-1</Param>
      <Param name="unitstate" dispName="State ID (2=Alive, 255=Any, 4=Dead...)" varType="string">2</Param>
      <Param name="actionid" dispName="Action ID (Optional)" varType="string">-1</Param>
      <Param name="Dst" dispName="Radius" varType="string">10</Param>
	  <Param name="QVName" dispName="QV" varType="string">QV1</Param>
      <Command>trQuestVarSet("convarea", 0);</Command>
		<Command>trQuestVarSet("ffweho",0);</Command>
		<Command>if(%FromPlayer%!=99) trQuestVarSet("vroom", %FromPlayer%);</Command>
		<Command>trQuestVarSet("%QVName%", 0);</Command>
		<Command>trQuestVarSet("zeep", 0);</Command>
		<Command>if(%UnitId%>=0) {</Command>
		<Command>trQuestVarSet("zeep", %UnitId%);</Command>
		<Command>}</Command>
		<Command>if(0>%UnitId%) {</Command>
		<Command>while(kbGetUnitTypeName(trQuestVarGet("zeep"))!="All") {</Command>
		<Command>trQuestVarSet("zeep", trQuestVarGet("zeep")+1);</Command>
		<Command>}}</Command>
		<Command>trQuestVarSet("lastpl", xsGetContextPlayer());</Command>
		<Command>if(%FromPlayer%!=99) trQuestVarSet("blarg",%FromPlayer%);</Command>
		<Command>if(%FromPlayer%==99) {</Command>
		<Command>trQuestVarSet("blarg",0);</Command>
		<Command>trQuestVarSet("vroom",12);</Command>
		<Command>}</Command>
		<Command>trQuestVarSet("i",trQuestVarGet("blarg"));</Command>
		<Command>while(trQuestVarGet("vroom")>=trQuestVarGet("i")) {</Command>
		<Command>xsSetContextPlayer(trQuestVarGet("i"));</Command>
		<Command>kbLookAtAllUnitsOnMap();</Command>
		<Command>trQuestVarSet("convarea", kbUnitQueryCreate("convarea"));</Command>
		<Command>kbUnitQuerySetPlayerID(trQuestVarGet("convarea"), trQuestVarGet("i"));</Command>
		<Command>kbUnitQuerySetState(trQuestVarGet("convarea"), 1*%unitstate%);</Command>
		<Command>if(%actionid%!=-1) kbUnitQuerySetActionType(trQuestVarGet("convarea"), 1*%actionid%);</Command>
		<Command>kbUnitQuerySetPosition(trQuestVarGet("convarea"), kbUnitGetPosition(1*%Object%));</Command>
		<Command>kbUnitQuerySetMaximumDistance(trQuestVarGet("convarea"), %Dst%);</Command>
		<Command>kbUnitQuerySetAscendingSort(trQuestVarGet("convarea"), true);</Command>
		<Command>kbUnitQueryResetResults(trQuestVarGet("convarea"));</Command>
		<Command>trQuestVarSet("%QVName%", trQuestVarGet("%QVName%")+kbUnitQueryExecute(trQuestVarGet("convarea")));</Command>
		<Command>trQuestVarSet("i", trQuestVarGet("i")+1);}</Command>
		<Command>xsSetContextPlayer(trQuestVarGet("lastpl"));</Command>
   </Effect>
   
   <Effect name="XS - QV Set Unit OBJECT ID in Area (Center Unit)">
	  <Param name="QVName" dispName="QV" varType="string">QV1</Param>
	  <Param name="index" dispName="Index (first unit is 0)" varType="string">0</Param>
      <Param name="Object" dispName="Center Unit OBJECT ID" varType="string">0</Param>
      <Param name="FromPlayer" dispName="Player (99 for ALL)" varType="string">99</Param>
      <Param name="UnitId" dispName="Unit Type ID (Optional)" varType="string">-1</Param>
      <Param name="actionid" dispName="Action ID (Optional)" varType="string">-1</Param>
      <Param name="Dst" dispName="Radius (-1 for ALL)" varType="string">10</Param>
      <Command>trQuestVarSet("convarea", 0);</Command>
		<Command>trQuestVarSet("ffweho",0);</Command>
		<Command>if(%FromPlayer%!=99) trQuestVarSet("vroom", %FromPlayer%);</Command>
		<Command>trQuestVarSet("warthog", 0);</Command>
		<Command>trQuestVarSet("zeep", 0);</Command>
		<Command>if(%UnitId%>=0) {</Command>
		<Command>trQuestVarSet("zeep", %UnitId%);</Command>
		<Command>}</Command>
		<Command>if(0>%UnitId%) {</Command>
		<Command>while(kbGetUnitTypeName(trQuestVarGet("zeep"))!="All") {</Command>
		<Command>trQuestVarSet("zeep", trQuestVarGet("zeep")+1);</Command>
		<Command>}}</Command>
		<Command>trQuestVarSet("lastpl", xsGetContextPlayer());</Command>
		<Command>if(%FromPlayer%!=99) trQuestVarSet("blarg",%FromPlayer%);</Command>
		<Command>if(%FromPlayer%==99) {</Command>
		<Command>trQuestVarSet("blarg",0);</Command>
		<Command>trQuestVarSet("vroom",12);</Command>
		<Command>}</Command>
		<Command>trQuestVarSet("i",trQuestVarGet("blarg"));</Command>
		<Command>while(trQuestVarGet("vroom")>=trQuestVarGet("i")) {</Command>
		<Command>xsSetContextPlayer(trQuestVarGet("i"));</Command>
		<Command>kbLookAtAllUnitsOnMap();</Command>
		<Command>trQuestVarSet("convarea", kbUnitQueryCreate("convarea"));</Command>
		<Command>kbUnitQuerySetPlayerID(trQuestVarGet("convarea"), trQuestVarGet("i"));</Command>
		<Command>kbUnitQuerySetUnitType(trQuestVarGet("convarea"), trQuestVarGet("zeep"));</Command>
		<Command>kbUnitQuerySetState(trQuestVarGet("convarea"), 2);</Command>
		<Command>if(%actionid%!=-1) kbUnitQuerySetActionType(trQuestVarGet("convarea"), 1*%actionid%);</Command>
		<Command>if(%Dst%!=-1) {</Command>
		<Command>kbUnitQuerySetPosition(trQuestVarGet("convarea"), kbUnitGetPosition(1*%Object%));</Command>
		<Command>kbUnitQuerySetMaximumDistance(trQuestVarGet("convarea"), %Dst%);}</Command>
		<Command>kbUnitQuerySetAscendingSort(trQuestVarGet("convarea"), true);</Command>
		<Command>kbUnitQueryResetResults(trQuestVarGet("convarea"));</Command>
		<Command>trQuestVarSet("warthog", kbUnitQueryExecute(trQuestVarGet("convarea")));</Command>
		<Command>if(trQuestVarGet("warthog")>0) {</Command>
		<Command>trQuestVarSet("%QVName%", kbUnitQueryGetResult(trQuestVarGet("convarea"), %index%));</Command>
		<Command>}</Command>
		<Command>trQuestVarSet("i", trQuestVarGet("i")+1);}</Command>
		<Command>xsSetContextPlayer(trQuestVarGet("lastpl"));</Command>
   </Effect>
	
	<Effect name="XS - QV Set Unit Current HP">
		<Param name="Player" dispName="Player (if known, reduces lag)" varType="string">-1</Param>
		<Param name="UnitID" dispName="Unit OBJECT ID" varType="string">0</Param>
		<Param name="QVName" dispName="QV to Record" varType="string">QV1</Param>
		<Command>trQuestVarSet("fhweaohpgpagowhwa", xsGetContextPlayer());</Command>
		<Command>if(%Player%==-1) {</Command>
		<Command>trQuestVarSet("jwfeoihgoewhowy222", 99);</Command>
		<Command>trUnitSelectClear(); trUnitSelectByID(1*%UnitID%);</Command>
		<Command>trQuestVarSet("fhewohfewowi3ru", 0);</Command>
		<Command>while(12>trQuestVarGet("fhewohfewowi3ru")) {</Command>
		<Command>if(trUnitIsOwnedBy(trQuestVarGet("fhewohfewowi3ru"))==true) trQuestVarSet("jwfeoihgoewhowy222", trQuestVarGet("fhewohfewowi3ru"));</Command>
		<Command>trQuestVarSet("fhewohfewowi3ru", trQuestVarGet("fhewohfewowi3ru")+1);}}</Command>
		<Command>if(%Player%>=0) trQuestVarSet("jwfeoihgoewhowy222", %Player%);</Command>
		<Command>if(trQuestVarGet("jwfeoihgoewhowy222")!=99) {</Command>
		<Command>xsSetContextPlayer(trQuestVarGet("jwfeoihgoewhowy222"));</Command>
		<Command>trQuestVarSet("%QVName%", kbUnitGetCurrentHitpoints(1*%UnitID%));</Command>
		<Command>}</Command>
		<Command>xsSetContextPlayer(trQuestVarGet("fhweaohpgpagowhwa"));</Command>
	</Effect>
	
	
	<Effect name="XS - QV Set Unit Max HP">
		<Param name="Player" dispName="Player (if known, reduces lag)" varType="string">-1</Param>
		<Param name="UnitID" dispName="Unit OBJECT ID" varType="string">0</Param>
		<Param name="QVName" dispName="QV to Record" varType="string">QV1</Param>
		<Command>trQuestVarSet("fhweaohpgpagowhwa", xsGetContextPlayer());</Command>
		<Command>if(%Player%==-1) {</Command>
		<Command>trQuestVarSet("jwfeoihgoewhowy222", 99);</Command>
		<Command>trUnitSelectClear(); trUnitSelectByID(1*%UnitID%);</Command>
		<Command>trQuestVarSet("fhewohfewowi3ru", 0);</Command>
		<Command>while(12>trQuestVarGet("fhewohfewowi3ru")) {</Command>
		<Command>if(trUnitIsOwnedBy(trQuestVarGet("fhewohfewowi3ru"))==true) trQuestVarSet("jwfeoihgoewhowy222", trQuestVarGet("fhewohfewowi3ru"));</Command>
		<Command>trQuestVarSet("fhewohfewowi3ru", trQuestVarGet("fhewohfewowi3ru")+1);}}</Command>
		<Command>if(%Player%>=0) trQuestVarSet("jwfeoihgoewhowy222", %Player%);</Command>
		<Command>if(trQuestVarGet("jwfeoihgoewhowy222")!=99) {</Command>
		<Command>xsSetContextPlayer(trQuestVarGet("jwfeoihgoewhowy222"));</Command>
		<Command>trQuestVarSet("%QVName%", kbUnitGetHealth(1*%UnitID%));</Command>
		<Command>}</Command>
		<Command>xsSetContextPlayer(trQuestVarGet("fhweaohpgpagowhwa"));</Command>
	</Effect>
	
	<Effect name="XS - QV Set Unit Health (Percent HP)">
		<Param name="Player" dispName="Player (if known, reduces lag)" varType="string">-1</Param>
		<Param name="UnitID" dispName="Unit OBJECT ID" varType="string">0</Param>
		<Param name="QVName" dispName="QV to Record" varType="string">QV1</Param>
		<Command>trQuestVarSet("fhweaohpgpagowhwa", xsGetContextPlayer());</Command>
		<Command>if(%Player%==-1) {</Command>
		<Command>trQuestVarSet("jwfeoihgoewhowy222", 99);</Command>
		<Command>trUnitSelectClear(); trUnitSelectByID(1*%UnitID%);</Command>
		<Command>trQuestVarSet("fhewohfewowi3ru", 0);</Command>
		<Command>while(12>trQuestVarGet("fhewohfewowi3ru")) {</Command>
		<Command>if(trUnitIsOwnedBy(trQuestVarGet("fhewohfewowi3ru"))==true) trQuestVarSet("jwfeoihgoewhowy222", trQuestVarGet("fhewohfewowi3ru"));</Command>
		<Command>trQuestVarSet("fhewohfewowi3ru", trQuestVarGet("fhewohfewowi3ru")+1);}}</Command>
		<Command>if(%Player%>=0) trQuestVarSet("jwfeoihgoewhowy222", %Player%);</Command>
		<Command>if(trQuestVarGet("jwfeoihgoewhowy222")!=99) {</Command>
		<Command>xsSetContextPlayer(trQuestVarGet("jwfeoihgoewhowy222"));</Command>
		<Command>trQuestVarSet("%QVName%", kbUnitGetHealth(1*%UnitID%));</Command>
		<Command>}</Command>
		<Command>xsSetContextPlayer(trQuestVarGet("fhweaohpgpagowhwa"));</Command>
	</Effect>
	
	<Effect name="XS - QV Set Unit Action Type ID">
		<Param name="Player" dispName="Player (if known, reduces lag)" varType="string">-1</Param>
		<Param name="UnitID" dispName="Unit OBJECT ID" varType="string">0</Param>
		<Param name="QVName" dispName="QV to Record" varType="string">QV1</Param>
		<Command>trQuestVarSet("fhweaohpgpagowhwa", xsGetContextPlayer());</Command>
		<Command>if(%Player%==-1) {</Command>
		<Command>trQuestVarSet("jwfeoihgoewhowy222", 99);</Command>
		<Command>trUnitSelectClear(); trUnitSelectByID(1*%UnitID%);</Command>
		<Command>trQuestVarSet("fhewohfewowi3ru", 0);</Command>
		<Command>while(12>trQuestVarGet("fhewohfewowi3ru")) {</Command>
		<Command>if(trUnitIsOwnedBy(trQuestVarGet("fhewohfewowi3ru"))==true) trQuestVarSet("jwfeoihgoewhowy222", trQuestVarGet("fhewohfewowi3ru"));</Command>
		<Command>trQuestVarSet("fhewohfewowi3ru", trQuestVarGet("fhewohfewowi3ru")+1);}}</Command>
		<Command>if(%Player%>=0) trQuestVarSet("jwfeoihgoewhowy222", %Player%);</Command>
		<Command>if(trQuestVarGet("jwfeoihgoewhowy222")!=99) {</Command>
		<Command>xsSetContextPlayer(trQuestVarGet("jwfeoihgoewhowy222"));</Command>
		<Command>trQuestVarSet("%QVName%", kbUnitGetActionType(1*%UnitID%));</Command>
		<Command>}</Command>
		<Command>xsSetContextPlayer(trQuestVarGet("fhweaohpgpagowhwa"));</Command>
	</Effect>
	
	<Effect name="XS - QV Set Num. Workers on Unit">
		<Param name="Player" dispName="Player (if known, reduces lag)" varType="string">-1</Param>
		<Param name="UnitID" dispName="Unit OBJECT ID " varType="string">0</Param>
		<Param name="QVName" dispName="QV to Record" varType="string">QV1</Param>
		<Command>trQuestVarSet("fhweaohpgpagowhwa", xsGetContextPlayer());</Command>
		<Command>if(%Player%==-1) {</Command>
		<Command>trQuestVarSet("jwfeoihgoewhowy222", 99);</Command>
		<Command>trUnitSelectClear(); trUnitSelectByID(1*%UnitID%);</Command>
		<Command>trQuestVarSet("fhewohfewowi3ru", 0);</Command>
		<Command>while(12>trQuestVarGet("fhewohfewowi3ru")) {</Command>
		<Command>if(trUnitIsOwnedBy(trQuestVarGet("fhewohfewowi3ru"))==true) trQuestVarSet("jwfeoihgoewhowy222", trQuestVarGet("fhewohfewowi3ru"));</Command>
		<Command>trQuestVarSet("fhewohfewowi3ru", trQuestVarGet("fhewohfewowi3ru")+1);}}</Command>
		<Command>if(%Player%>=0) trQuestVarSet("jwfeoihgoewhowy222", %Player%);</Command>
		<Command>if(trQuestVarGet("jwfeoihgoewhowy222")!=99) {</Command>
		<Command>xsSetContextPlayer(trQuestVarGet("jwfeoihgoewhowy222"));</Command>
		<Command>trQuestVarSet("%QVName%", kbUnitGetNumberWorkers(1*%UnitID%));</Command>
		<Command>}</Command>
		<Command>xsSetContextPlayer(trQuestVarGet("fhweaohpgpagowhwa"));</Command>
	</Effect>
	
	<Effect name="QV Set Unit's Target OBJECT ID">
		<Param name="Player" dispName="Player (if known, reduces lag)" varType="string">-1</Param>
		<Param name="UnitID" dispName="Unit OBJECT ID" varType="string">0</Param>
		<Param name="QVName" dispName="QV to Record" varType="string">QV1</Param>
		<Command>trQuestVarSet("fhweaohpgpagowhwa", xsGetContextPlayer());</Command>
		<Command>if(%Player%==-1) {</Command>
		<Command>trQuestVarSet("jwfeoihgoewhowy222", 99);</Command>
		<Command>trUnitSelectClear(); trUnitSelectByID(1*%UnitID%);</Command>
		<Command>trQuestVarSet("fhewohfewowi3ru", 0);</Command>
		<Command>while(12>trQuestVarGet("fhewohfewowi3ru")) {</Command>
		<Command>if(trUnitIsOwnedBy(trQuestVarGet("fhewohfewowi3ru"))==true) trQuestVarSet("jwfeoihgoewhowy222", trQuestVarGet("fhewohfewowi3ru"));</Command>
		<Command>trQuestVarSet("fhewohfewowi3ru", trQuestVarGet("fhewohfewowi3ru")+1);}}</Command>
		<Command>if(%Player%>=0) trQuestVarSet("jwfeoihgoewhowy222", %Player%);</Command>
		<Command>if(trQuestVarGet("jwfeoihgoewhowy222")!=99) {</Command>
		<Command>xsSetContextPlayer(trQuestVarGet("jwfeoihgoewhowy222"));</Command>
		<Command>trQuestVarSet("%QVName%", kbUnitGetTargetUnitID(1*%UnitID%));</Command>
		<Command>}</Command>
		<Command>xsSetContextPlayer(trQuestVarGet("fhweaohpgpagowhwa"));</Command>
	</Effect>

</Effects>

</trigger>